{"version":3,"sources":["background/HexaBackground.tsx","reducers/notificationReducer.tsx","utils/serviceHelper.tsx","services/cvService.tsx","hooks/useField.tsx","reducers/cvReducer.tsx","reducers/userReducer.tsx","components/Menu.tsx","components/Users/UsersForm.tsx","services/loginService.tsx","reducers/loadingReducer.tsx","components/Login.tsx","components/Footer.tsx","components/Users/UsersRow.tsx","services/usersService.tsx","components/Toolbar.tsx","utils/validators.tsx","components/MyCVForm/MyCVFormLanguageLevelSelector.tsx","components/Users/User.tsx","components/Users/Users.tsx","components/About.tsx","components/MyCVForm/MyCVFormPanelButtons.tsx","components/MyCVForm/MyCVFormDateSelector.tsx","components/MyCVForm/MyCVFormPanel.tsx","components/MyCVForm/MyCVForm.tsx","components/Home.tsx","components/MyCVForm/MyCV.tsx","components/NotificationMessage.tsx","components/Notification.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Color","Type","Background","props","cos30","Math","sqrt","hexaRow","x","y","hexaSize","spacing","colors","rowIndex","dx","transform","bottom","key","map","color","index","EMPTY","strokeColor","LIGHT","STROKE_LIGHT","STROKE_HIGHLIGHT","point1","point2","point3","point4","point5","point6","points","concat","style","stroke","strokeWidth","fill","hexagon","transformToColorArray","numbers","result","forEach","push","GREY","BLUE","DARK","drawHexaGrid","numberGrid","dy","height","width","viewBox","preserveAspectRatio","className","getConfigHeader","user","headers","token","ServiceType","guidGenerator","S4","random","toString","substring","initState","visible","messages","showNotification","message","type","lifeTime","dispatch","a","id","data","text","duration","setTimeout","notificationReducer","state","action","newMessages","newState","filter","length","FieldType","createObject","object","field","newObjectWithoutIdAndOwner","Object","fromEntries","entries","value","axios","post","cv","then","response","catch","error","console","log","modifyObject","changes","put","deleteObject","delete","getAllCV","get","communication","skills","info","attachments","experience","exp","timeFrame","startDate","Date","endDate","education","edu","createEmptyCV","CV","name","contact","firstname","lastname","duplicateCV","duplicateContact","address","company","email","linkedin","phone","phoneAvailable","pictureUrl","duplicateProfile","profile","content","duplicateProjects","projects","project","description","githubUrl","showcaseUrl","thumbnailUrl","duplicateReference","reference","duplicateExperience","duplicateEducation","duplicateCommunication","languages","language","level","duplicateSkills","duplicateInfo","dupliaceAttachments","github","techlist","cvId","PROFILE","PROJECT","CONTACT","SUCCESS","EXPERIENCE","COMMUNICATION","INFO","setCVDefault","defaultCommand","cvid","baseUrl","cvs","owner","created","username","lastOpened","updateCVs","cvService","cvReducer","includes","find","cvObject","emptyExperience","floor","Array","emptyContact","emptyProject","emptyProfile","emptyCommunication","emptyInfo","objectId","undefined","loggedUserJSON","window","localStorage","getItem","JSON","parse","userReducer","removeItem","mapDispatchToProps","logoutUser","clearCVS","connect","lastOpenedCV","location","useLocation","showLogout","showRoutes","src","alt","to","pathname","onClick","disabled","CalcDateAfter","useField","useState","setValue","onChange","event","currentTarget","password","credentials","setLoading","loading","loadingReducer","isFetching","setUser","TEXT","PASSWORD","remember","setRemember","submitLock","setSubmitLock","onSubmit","handleLogin","persist","preventDefault","loginService","setItem","stringify","cooldown","cooldownEnd","WARNING","lock","clearTimeout","ERROR","defaultChecked","UsersRow","expires","handleUserDelete","Toolbar","children","Joi","require","contentString","string","regex","max","empty","nameString","alphanum","min","CVSchema","keys","any","uri","InfoSchema","CommunicationSchema","array","items","ExperienceSchema","ProfileSchema","ProjectSchema","ContactSchema","minDomainSegments","tlds","allow","UserSchema","oldPassword","passwordConfirm","now","ILevel","setExpires","initialValues","formValues","enableReinitialize","validate","values","validationResult","errorArray","details","detail","context","setSubmitting","setValues","newUser","usersService","reloadUsers","closeForm","newPassword","isSubmitting","isValid","errors","placeholder","TWO_WEEKS","ONE_MONTH","textAlign","marginTop","userForHeaders","setOwner","showEditUser","setShowEditUser","useEffect","timeleftMillisecs","valueOf","display","updateUser","getFullYear","getMonth","getDay","users","setUsers","updateUsers","showAddUser","setShowAddUser","exact","path","render","match","params","About","href","DeleteButton","handleDelete","ClearButton","clearActionValues","CancelButton","SaveButton","from","i","months","MyCVFormDateSelector","dateProp","date","year","setYear","month","setMonth","getDate","day","setDay","lastDayOfTheMonth","setLastDayOfTheMonth","newYear","parseInt","target","handleChange","yearNumber","newMonth","monthNumber","newDay","dayNumber","levels","Elementary","EveryDay","Working","Advanced","Professional","Native","MyCVFormLanguageLevelSelector","initLevel","setLevel","stringToArray","split","addEmptyCVObject","removeTempCVObject","serviceType","join","newValues","newDate","as","newLevel","entry","renderChildren","CVid","renderInfoForm","renderContactForm","renderExperienceForm","MyCVForm","renderProjectForm","ref","renderCommunicationForm","renderTimeFrame","preview","paragraph","marginRight","sort","b","getTime","skill","attachment","setPreviousCV","formActive","myCVs","selected","substr","transition","marginBottom","zIndex","NotificationMessage","alive","setAlive","animation","setAnimation","timer","deleted","maxHeight","paddingTop","paddingBottom","overflow","opacity","minHeight","minWidth","deleteNotification","version","position","backgroundColor","strokeDasharray","r","notification","setMessages","propsmessage","findIndex","newMessagesAndTaggedDeleted","tempId","hideLogin","setHeight","process","document","getElementById","clientHeight","updateStatus","Boolean","hostname","rootReducer","combineReducers","loader","store","createStore","applyMiddleware","thunk","appStatus","appStore","renderApp","ReactDOM","subscribe","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ce5a209b.chunk.js","sourcesContent":["import React from 'react'\nimport './HexaBackground.css'\n\ninterface Props {\n    height: number,\n    bottom?: boolean\n}\n\n// TODO: move this to css\nenum Color {\n    EMPTY = '',\n    LIGHT = 'rgb(219, 223, 224)',\n    GREY = 'rgb(195,202,209)',\n    BLUE = 'rgb(189,205,219)',\n    DARK = 'rgb(172,176,187)',\n    STROKE_LIGHT = 'rgb(212, 213, 214)',\n    STROKE_HIGHLIGHT = 'rgb(184, 191, 204)', \n}\n\nconst Background: React.FC<Props> = (props: Props) => {\n\n    const hexaSize = 46\n    const spacing = 7\n    const cos30 = 1.5/Math.sqrt(3)\n\n    const hexagon = (x: number, y: number, hexaSize: number, color: Color, index: string) => {\n        if ( color === Color.EMPTY ) {\n            return ''\n        }\n        const strokeColor = color === Color.LIGHT ? Color.STROKE_LIGHT : Color.STROKE_HIGHLIGHT\n        const point1 = `${ x - hexaSize }, ${ y } `\n        const point2 = `${x - hexaSize * .5}, ${y - hexaSize * cos30 } `\n        const point3 = `${x + hexaSize * .5}, ${y - hexaSize * cos30 } `\n        const point4 = `${ x + hexaSize },${ y } `\n        const point5 = `${x + hexaSize * .5}, ${y + hexaSize * cos30 } `\n        const point6 = `${x - hexaSize * .5}, ${y + hexaSize * cos30 } `\n        const points = point1.concat(point2,point3,point4,point5,point6)\n        return <polygon key={index} points={points} style={{ stroke: strokeColor, strokeWidth: 3, fill: color }}/>\n    }\n\n    const hexaRow = (x: number, y: number, hexaSize: number, spacing: number, colors: Color[], rowIndex:number) => {\n        const dx = hexaSize * 3 + spacing * 2 * cos30\n        const transform = `rotate(-15) translate(${props.bottom ? '-100,220' : '-100,0'})`\n        return <g\n                    key={`hexaRow${rowIndex}`}\n                    transform={transform}\n                >\n            {colors.map((color,index)=>{\n                return hexagon(x + dx * index, y, hexaSize, color, `r${rowIndex}h${index}`)\n            })}\n        </g>\n    }\n\n    const transformToColorArray = ( numbers:number[] ) => {\n        let result:Color[] = []\n        numbers.forEach((color, index) => {\n            if ( color < 1 ) {\n                result.push(Color.EMPTY)\n            } else if ( color < 2) {\n                result.push(Color.LIGHT)\n            } else if (color < 3) {\n                result.push(Color.GREY)\n            } else if (color < 4) {\n                result.push(Color.BLUE)\n            } else {\n                result.push(Color.DARK)\n            }\n        });\n        return result\n    }\n\n    const drawHexaGrid = (numberGrid: number[][]) => {\n        const dy = hexaSize * 2 * cos30 + spacing\n        return (\n            <svg \n                height='100%'\n                width='100%'\n                viewBox='0 0 1200 1200'\n                preserveAspectRatio={props.bottom ? \"xMidYMin slice\" : \"xMidYMin slice\"}\n                className={props.bottom ? 'bottom-hexa' : 'top-hexa'}\n            >\n                {numberGrid.map( (numbers:number[], index) => {\n                        if ( index%2 === 0 ) {\n                            return hexaRow( 0, 0 + dy * index/2, hexaSize, spacing, transformToColorArray(numbers), index)\n                        } else {\n                            return hexaRow(0 + hexaSize * 1.5 + spacing * cos30, 0 + hexaSize * cos30 + spacing * .5 + dy * (index - 1) / 2,\n                                hexaSize, spacing, transformToColorArray(numbers), index)\n                        }\n                    })}\n                {/* <text x='4' y='50%'>{height}</text> */}\n            </svg>\n        )\n    } \n\n    if (props.bottom) {\n        return <div className='background-bottom'>\n            {drawHexaGrid(\n                [\n                    [1, 0, 0, 0, 0, 0, 0, 0, 0],\n                    [1, 0, 0, 0, 0, 0, 0, 0],\n                    [2, 1, 0, 0, 0, 0, 0, 0, 0],\n                    [2, 1, 0, 0, 0, 0, 0, 0],\n                    [3, 1, 0, 0, 0, 0, 0, 0, 0],\n                    [2, 1, 1, 0, 0, 0, 0, 0],\n                    [3, 2, 1, 1, 0, 0, 0, 0, 1],\n                    [2, 2, 1, 1, 1, 0, 1, 1],\n                    [3, 2, 2, 1, 1, 1, 1, 1, 1],\n                    [4, 3, 2, 2, 1, 1, 1, 3],\n                    [3, 3, 3, 3, 2, 2, 3, 3, 2],\n                    [2, 2, 4, 4, 2, 2, 4, 3],\n                    [2, 2, 3, 2, 3, 3, 3, 2, 3],\n                    [2, 4, 3, 3, 2, 3, 3, 3],\n                    [2, 2, 3, 2, 3, 3, 3, 2, 3],\n                ]\n            )\n        }</div>\n    } else {\n        return <div className='background-top'>\n            {drawHexaGrid(\n                [\n                    [3, 2, 3, 2, 3, 3, 3, 2, 3],\n                    [3, 2, 4, 2, 3, 2, 2, 4],\n                    [3, 2, 3, 2, 2, 4, 4, 3, 3],\n                    [4, 2, 4, 2, 3, 2, 3, 2],\n                    [3, 2, 2, 2, 3, 3, 2, 3, 3],\n                    [2, 1, 1, 1, 2, 4, 2, 4],\n                    [3, 1, 1, 1, 1, 4, 2, 2, 2],\n                    [1, 1, 1, 1, 1, 1, 4, 4, 3],\n                    [1, 1, 1, 1, 1, 1, 1, 2, 4],\n                    [1, 0, 0, 0, 1, 1, 1, 2, 2],\n                    [1, 0, 0, 0, 0, 1, 1, 1, 2],\n                    [0, 0, 0, 0, 0, 0, 1, 2],\n                    [0, 0, 0, 0, 0, 1, 1, 1, 2],\n                    [0, 0, 0, 0, 0, 0, 1, 1, 1],\n                    [0, 0, 0, 0, 0, 0, 0, 0, 1],\n                ]\n            )}\n        </div>\n    }\n    \n}\n\nexport default Background\n","const SHOW_NOTIFICATION = 'SHOW_NOTIFICATION'\nconst DELETE_NOTIFICATION = 'DELETE_NOTIFICATION'\n\nexport enum Type {\n  ERROR = 'error',\n  SUCCESS = 'success',\n  WARNING = 'warning'\n}\n\nexport interface Message {\n  text: string,\n  id: string,\n  type: Type,\n  duration?: number\n}\n\nexport interface NotificationState {\n  visible: boolean,\n  messages: Message[]\n}\n\ninterface NotificationAction {\n  type: string,\n  id?: string,\n  data: Message[]\n}\n\n// https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id\nconst guidGenerator = () => {\n  var S4 = function () {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return (S4() + S4())\n}\n\nconst initState: NotificationState = {\n  visible: true,\n  messages: []\n} \n\nconst notificationReducer = (state: NotificationState = initState, action: NotificationAction) => {\n  switch (action.type) {\n    case SHOW_NOTIFICATION: {\n      const newMessages = state.messages.concat(action.data)\n      const newState = {\n        visible: true,\n        messages: newMessages\n      }\n      return newState\n    }\n    case DELETE_NOTIFICATION: {\n      const newMessages:Message[] = state.messages.filter(message => message.id !== action.id)\n      const newState = {\n        visible: (newMessages.length > 0),\n        messages: newMessages\n      }\n      return newState\n    }\n    default: return state\n  }\n}\n\n\nexport const showNotification = (message:string, type:Type, lifeTime?:number ) => {\n  return async (dispatch:any) => {\n    const id = guidGenerator()\n    const action: NotificationAction = {\n      type: SHOW_NOTIFICATION,\n      data: [{ text: message, id: id, type: type, duration: lifeTime }]\n    }\n    dispatch(action)\n    if ( lifeTime ) {\n      setTimeout(() => {\n        const deleteAfterTimeoutAction: NotificationAction = {\n          type: DELETE_NOTIFICATION,\n          id: id,\n          data: []\n        }\n        dispatch(deleteAfterTimeoutAction)\n      }, lifeTime * 1000 + 700)\n    }\n  }\n}\n\nexport const deleteNotification = (id: string) => {\n  const action:NotificationAction = {\n    type: DELETE_NOTIFICATION,\n    id: id,\n    data: []\n  }\n  return action\n}\n\nexport default notificationReducer\n","import { UserState } from \"../reducers/userReducer\"\n\nconst getConfigHeader = (user: UserState) => {\n  const userToken = user.token\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'bearer ' + userToken\n    }\n  }\n  return config\n}\n\nexport { getConfigHeader }","import axios, { AxiosResponse } from 'axios'\nimport { IUser } from './usersService'\nimport { getConfigHeader } from '../utils/serviceHelper'\nimport { Type } from '../reducers/notificationReducer'\nimport { UserState } from '../reducers/userReducer'\nconst baseUrl = '/api/cv'\n\nexport interface IContact {\n  owner: IUser,\n  address: string,\n  company: string,\n  email: string,\n  firstname: string,\n  lastname: string,\n  linkedin: string\n  phone: string,\n  phoneAvailable: string,\n  pictureUrl: string,\n  id: string\n}\n\nexport interface IExperience {\n  description: string,\n  name: string,\n  owner: IUser,\n  timeFrame: {\n    startDate: Date,\n    endDate: Date,\n  },\n  id: string,\n}\n\nexport interface IInfo {\n  name: string,\n  id: string,\n  content: string[],\n  owner: IUser,\n}\n\nexport interface ICommunication extends IInfo {\n  languages: {\n    language: string,\n    level: string,\n  }[],\n}\n\nexport interface IProfile {\n  name: string,\n  id: string,\n  content: string[],\n  owner?: IUser,\n}\n\nexport interface IProject {\n  description: string,\n  githubUrl: string,\n  name: string,\n  owner: IUser,\n  showcaseUrl: string,\n  thumbnailUrl: string,\n  id: string,\n}\n\nexport interface ICV extends ICVEmpty {\n  owner: IUser,\n  contact: IContact,\n  id: string,\n}\n\ninterface IContactEmpty {\n  address?: string,\n  company?: string,\n  email?: string,\n  firstname: string,\n  lastname: string,\n  linkedin?: string,\n  phone?: string,\n  phoneAvailable?: string,\n  pictureUrl?: string,\n}\n\ninterface ICVEmpty {\n  name: string,\n  github?: string,\n  techlist?: string,\n  contact: IContactEmpty,\n  profile?: IProfile,\n  projects?: IProject[],\n  reference?: IContact[],\n  experience?: IExperience[],\n  education?: IExperience[],\n  communication?: ICommunication,\n  skills?: IInfo,\n  info?: IInfo,\n  attachments?: IInfo,\n}\n\nexport enum ServiceType {\n  CV = '',\n  CONTACT = '/contact',\n  PROFILE = '/profile',\n  EXPERIENCE = '/experience',\n  COMMUNICATION = '/communication',\n  INFO = '/info',\n  PROJECT = '/project'\n}\n\ninterface getAllCVResponse extends AxiosResponse {\n  data: ICV[]\n}\n\nconst createEmptyCV = (user: UserState) => {\n  const emptyCV: ICVEmpty = {\n    name: 'name-required',\n    contact: {\n      firstname: 'firstname-required',\n      lastname: 'lastname-required'\n    }\n  }\n  const request = axios.post(baseUrl + ServiceType.CV, emptyCV, getConfigHeader(user))\n  return request.then((response:any) => {\n    return response.data\n  })\n}\n\nconst duplicateCV = (cv: ICV, user: UserState, showNotification?: Function ) => {\n  const duplicateContact: IContactEmpty = {\n    address: cv.contact.address,\n    company: cv.contact.company,\n    email: cv.contact.email,\n    firstname: cv.contact.firstname,\n    lastname: cv.contact.lastname,\n    linkedin: cv.contact.linkedin,\n    phone: cv.contact.phone,\n    phoneAvailable: cv.contact.phoneAvailable,\n    pictureUrl: cv.contact.pictureUrl, \n  }\n\n  const duplicateProfile: any = cv.profile ? {\n      content: cv.profile.content,\n      name: cv.profile.name + ' duplicate'\n    } : null\n\n  const duplicateProjects: any = cv.projects ?\n    cv.projects.map((project) => { return {\n      description: project.description,\n      githubUrl: project.githubUrl,\n      name: project.name + ' duplicate',\n      showcaseUrl: project.showcaseUrl,\n      thumbnailUrl: project.thumbnailUrl,\n    }}) : null\n\n  const duplicateReference: any = cv.reference ?\n    cv.reference.map((contact: any) => {\n      return {\n        address: contact.address,\n        company: contact.company,\n        email: contact.email,\n        firstname: contact.firstname,\n        lastname: contact.lastname,\n        phone: contact.phone,\n        phoneAvailable: contact.phoneAvailable,\n        pictureUrl: contact.pictureUrl, \n      }\n    }) : null\n\n  const duplicateExperience: any = cv.experience ?\n    cv.experience.map((experience: any) => {\n      return {\n        description: experience.description,\n        name: experience.name + ' duplicate',\n        timeFrame: {\n          startDate: experience.timeFrame.startDate,\n          endDate: experience.timeFrame.endDate,\n        }\n      }\n    }) : null\n\n  const duplicateEducation: any = cv.education ?\n    cv.education.map((experience: any) => {\n      return {\n        description: experience.description,\n        name: experience.name + ' duplicate',\n        timeFrame: {\n          startDate: experience.timeFrame.startDate,\n          endDate: experience.timeFrame.endDate,\n        }\n      }\n    }) : null\n\n  const duplicateCommunication: any = cv.communication ? {\n    name: cv.communication.name + 'duplicate',\n    content: cv.communication.content,\n    languages: cv.communication.languages.map( (language: any) => { return {\n      language: language.language,\n      level: language.level\n    }})\n  } : null\n\n  const duplicateSkills: any = cv.skills ? {\n    name: cv.skills.name + ' duplicate',\n    content: cv.skills.content\n  } : null\n\n  const duplicateInfo: any = cv.info ? {\n    name: cv.info.name + ' duplicate',\n    content: cv.info.content\n  } : null\n\n  const dupliaceAttachments: any = cv.attachments ? {\n    name: cv.attachments.name + ' duplicate',\n    content: cv.attachments.content\n  } : null\n\n  const duplicateCV: any = {\n    name: cv.name,\n    contact: duplicateContact,\n    github: cv.github,\n    techlist: cv.techlist\n  }\n\n  const request = axios.post(baseUrl + ServiceType.CV, duplicateCV, getConfigHeader(user))\n  return request.then( async (response: any) => {\n    const cvId = response.data.id\n\n    await createObject(ServiceType.PROFILE, duplicateProfile, cvId, user, 'profile')\n\n    duplicateProjects.map(async (project: any) => \n      await createObject(ServiceType.PROJECT, project, cvId, user, 'projects')\n    )\n\n    duplicateReference.map( async (reference: any) => {\n      await createObject(ServiceType.CONTACT, reference, cvId, user, 'reference')\n    })\n    showNotification && showNotification('Profile, projects and references duplicated', Type.SUCCESS, 4.2)\n\n    duplicateExperience.map( async (experience: any) => {\n      await createObject(ServiceType.EXPERIENCE, experience, cvId, user, 'experience')\n    })\n\n    duplicateEducation.map( async (experience: any) => {\n      await createObject(ServiceType.EXPERIENCE, experience, cvId, user, 'education')\n    })\n    showNotification && showNotification('Experiences and education duplicated', Type.SUCCESS, 4.4)\n    \n    await createObject(ServiceType.COMMUNICATION, duplicateCommunication, cvId, user, 'communication')\n\n    await createObject(ServiceType.INFO, duplicateSkills, cvId, user, 'skills')\n\n    await createObject(ServiceType.INFO, dupliaceAttachments, cvId, user, 'attachments')\n    showNotification && showNotification('Communication, skills and attachments duplicated', Type.SUCCESS, 4.7)\n\n    await createObject(ServiceType.INFO, duplicateInfo, cvId, user, 'info')\n\n    return response.data\n  })\n}\n\nconst createObject = (type: ServiceType, object: any, id: string, user: UserState, field?: string) => {\n  const newObjectWithoutIdAndOwner = Object.fromEntries(Object.entries(object).filter(([key, value]) => key !== 'id' && key !== 'owner' && value !== '') )\n  const request = axios.post(baseUrl + type, { ...newObjectWithoutIdAndOwner, cv: { id, field: field ? field : '' } }, getConfigHeader(user))\n  return request.then((response:any) => {\n    return response.data\n  }).catch(error => {\n   console.log('create object error:', error.response.data.error)\n  })\n}\n\nconst modifyObject = (type: ServiceType, id: string, object: any, user: UserState ) => {\n  const changes = Object.fromEntries(Object.entries(object).filter(([key, value]) => key !== 'id'))\n  console.log(changes)\n  const request = axios.put(baseUrl + type, { changes, id }, getConfigHeader(user))\n  return request.then((response:any) => {\n    return response.data\n  }).catch(error => {\n   console.log('modify object error:',error.response.data.error)\n  })\n}\n\nconst deleteObject = (type: ServiceType, id: string, user: UserState) => {\n  const request = axios.delete(baseUrl + type + '/' + id, getConfigHeader(user))\n  return request.then((response:any) => {\n    return response.data\n  })\n}\n\ninterface IExperienceNoDate {\n  description: string,\n  name: string,\n  timeFrame: {\n    startDate: string,\n    endDate: string,\n  },\n  id: string,\n}\n\ninterface ISetDefaultCV {\n  cvid: string,\n  userid?: string,\n}\n\ninterface defaultResponse extends AxiosResponse {\n  data: {\n    message: string\n  }\n}\n\nconst setCVDefault = (cv: string, user: UserState) => {\n  const defaultCommand: ISetDefaultCV = {\n    cvid: cv\n  }\n\n  const request = axios.post(baseUrl + '/default', defaultCommand, getConfigHeader(user))\n  return request.then((response: defaultResponse) => {\n    return response.data\n  })\n}\n\nconst getAllCV = (user: UserState) => {\n  const request = axios.get(baseUrl, getConfigHeader(user))\n  return request.then((response: getAllCVResponse) => {\n    const formattedData = response.data.map((cv:any) => {\n      return { ...cv,\n        communication: cv.communication ? cv.communication[0] : null,\n        skills: cv.skills ? cv.skills[0] : null,\n        info: cv.info ? cv.info[0] : null,\n        attachments: cv.attachments ? cv.attachments[0] : null,\n        experience: cv.experience.map((exp: IExperienceNoDate) => ({\n          ...exp, \n          timeFrame: {\n            startDate: new Date(exp.timeFrame.startDate),\n            endDate: new Date(exp.timeFrame.endDate)\n          }\n        })),\n        education: cv.education.map((edu: IExperienceNoDate) => ({\n          ...edu,\n          timeFrame: {\n            startDate: new Date(edu.timeFrame.startDate),\n            endDate: new Date(edu.timeFrame.endDate)\n          }\n        }))\n      }\n    })\n    return formattedData\n  })\n}\n\nexport default { createObject, modifyObject, deleteObject, getAllCV, createEmptyCV, duplicateCV, setCVDefault }\n","import { useState } from 'react'\n\nexport enum FieldType {\n  TEXT = 'text',\n  PASSWORD = 'password'\n}\n\nconst useField = (type: FieldType) => {\n  const [value, setValue] = useState('')\n\n  const onChange = (event: React.FormEvent<HTMLInputElement> ):void => {\n    setValue(event.currentTarget.value)\n  }\n\n  return {\n    type,\n    value,\n    onChange,\n  }\n}\n\nexport default useField\n","import cvService, { ICV, IExperience, IContact, IProject, IProfile, ICommunication, IInfo } from \"../services/cvService\"\nimport { UserState } from \"./userReducer\"\n\nexport const UPDATE_CVS = 'UPDATE_CVS'\nexport const ADD_EMPTY_OBJECT = 'ADD_EMPTY_OBJECT'\nexport const SET_PREVIOUS_CV = 'SET_PREVIOUS_CV'\nexport const REMOVE_TEMP_OBJECT = 'REMOVE_TEMP_OBJECT'\n\ninterface cvState {\n  cvs: ICV[],\n  lastOpened: string\n}\n\nexport interface CVAction {\n  type: string,\n  data: any\n}\n\nconst initState: cvState = {\n  cvs: [\n    {\n      attachments: {\n        content: [\n          '...',\n          '...',\n          '...'\n        ],\n        name: '...',\n        owner: {\n          created: new Date('2020-01-13T13:18:58.111Z'),\n          name: '...',\n          username: '...',\n          id: '...'\n        },\n        id: '...'\n      },\n      communication: {\n        content: [\n          '...'\n        ],\n        languages: [\n          {\n            'language': '...',\n            'level': '...'\n          },\n          {\n            'language': '...',\n            'level': '...'\n          }\n        ],\n        name: '...',\n        owner: {\n          created: new Date('2020-01-13T13:18:58.111Z'),\n          name: '...',\n          username: '...',\n          id: '...'\n        },\n        id: '...'\n        },\n      education: [\n        {\n          timeFrame: {\n            endDate: new Date('2020-01-14T12:34:33.498Z'),\n            startDate: new Date('2020-01-14T12:34:33.498Z')\n          },\n          description: '...',\n          name: '...',\n          owner: {\n            created: new Date('2020-01-13T13:18:58.111Z'),\n            name: '...',\n            username: '...',\n            id: '...'\n          },\n          id: '...'\n        }\n      ],\n      experience: [{\n        timeFrame: {\n          endDate: new Date('2020-01-14T12:34:33.498Z'),\n          startDate: new Date('2020-01-14T12:34:33.498Z')\n        },\n        description: '...',\n        name: '...',\n        owner: {\n          created: new Date('2020-01-13T13:18:58.111Z'),\n          name: '...',\n          username: '...',\n          id: '...'\n        },\n        id: '...'\n      }],\n      info: {\n        content: [\n          '...',\n          '...'\n        ],\n        name: '...',\n        owner: {\n          created: new Date('2020-01-13T13:18:58.111Z'),\n          name: '...',\n          username: '...',\n          id: '...'\n        }, \n        id: '...'\n      },\n      projects: [\n        {\n          description: '...',\n          githubUrl: '',\n          name: '...',\n          owner: {\n            created: new Date('2020-01-13T13:18:58.111Z'),\n            name: '...',\n            username: '...',\n            id: '...'\n          }, \n          showcaseUrl: '...',\n          thumbnailUrl: '',\n          id: '...'\n        }\n      ],\n      reference: [],\n      skills: {\n          content: [\n            '...'\n          ],\n          name: '...',\n          owner: {\n            created: new Date('2020-01-13T13:18:58.111Z'),\n            name: '...',\n            username: '...',\n            id: '...'\n          }, \n        id: '...'\n      },\n      contact: {\n        address: '...',\n        email: '...',\n        firstname: '...',\n        lastname: '...',\n        linkedin: '...',\n        owner: {\n          created: new Date('2020-01-13T13:18:58.111Z'),\n          name: '...',\n          username: '...',\n          id: '...'\n        },\n        phone: '...',\n        phoneAvailable: '...',\n        company: '...',\n        pictureUrl: '',\n        id: '...'\n      },\n      github: '',\n      name: '...',\n      owner: { \n        created: new Date('2020-01-13T13:18:58.111Z'),\n        name: '...',\n        username: '...',\n        id: '...'\n      },\n      profile: {\n        content: [\n          '...',\n          '...'\n        ],\n        name: '...',\n        owner: {\n          created: new Date('...'),\n          name: '...',\n          username: '...',\n          id: '...'\n        }, \n        id: '...'\n      },\n      techlist: '...',\n      id: '...'\n    }\n  ],\n  lastOpened: ''\n}\n\nconst cvReducer = (state: cvState = initState, action: CVAction) => {\n  switch (action.type) {\n    case UPDATE_CVS: {\n      return { cvs:action.data.cvs, lastOpened: action.data.cvs.length > 1 ? action.data.cvs.includes((cv:ICV) => cv.id === state.lastOpened) ? state.lastOpened : '' : ''}\n    }\n    case SET_PREVIOUS_CV: {\n      return { cvs: state.cvs, lastOpened: action.data.id }\n    }\n    case ADD_EMPTY_OBJECT: {\n      const cv = state.cvs.find((cv:ICV) => cv.id === action.data.id )\n      if (!cv) return state\n\n      switch(action.data.field) {\n        case 'experience':\n          return { lastOpened: state.lastOpened, cvs: state.cvs.map((cvObject: ICV) => {\n            const emptyExperience: IExperience = {\n              description: '',\n              name: '',\n              owner: cv.owner,\n              timeFrame: {\n                startDate: new Date(),\n                endDate: new Date(),\n              },\n              id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n            }\n            if ( cvObject.id === cv.id ) {\n              return { ...cv, experience: cv.experience ? cv.experience.concat(emptyExperience) : new Array(emptyExperience) }\n            } else {\n              return cvObject\n            }\n          }) }\n        case 'education':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyExperience: IExperience = {\n                  description: '',\n                  name: '',\n                  owner: cv.owner,\n                  timeFrame: {\n                    startDate: new Date(),\n                    endDate: new Date(),\n                  },\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, education: cv.education ? cv.education.concat(emptyExperience) : new Array(emptyExperience) }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'reference':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyContact: IContact = {\n                  owner: cv.owner,\n                  address: '',\n                  company: '',\n                  email: '',\n                  firstname: '',\n                  lastname: '',\n                  linkedin: '',\n                  phone: '',\n                  phoneAvailable: '',\n                  pictureUrl: '',\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, reference: cv.reference ? cv.reference.concat(emptyContact) : new Array(emptyContact) }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'projects':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyProject: IProject = {\n                  description: '',\n                  githubUrl: '',\n                  name: '',\n                  owner: cv.owner,\n                  showcaseUrl: '',\n                  thumbnailUrl: '',\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, projects: cv.projects ? cv.projects.concat(emptyProject) : new Array(emptyProject) }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'profile':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyProfile: IProfile = {\n                  name: '',\n                  content: [''],\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, profile: emptyProfile }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'contact':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyContact: IContact = {\n                  owner: cv.owner,\n                  address: '',\n                  company: '',\n                  email: '',\n                  firstname: '',\n                  lastname: '',\n                  linkedin: '',\n                  phone: '',\n                  phoneAvailable: '',\n                  pictureUrl: '',\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, contact: emptyContact }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'communication':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyCommunication: ICommunication = {\n                  owner: cv.owner,\n                  name: '',\n                  content: [''],\n                  languages: [],\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, communication: emptyCommunication }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'skills':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyInfo: IInfo = {\n                  owner: cv.owner,\n                  name: '',\n                  content: [''],\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, skills: emptyInfo }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'info':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyInfo: IInfo = {\n                  owner: cv.owner,\n                  name: '',\n                  content: [''],\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, info: emptyInfo }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'attachments':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                const emptyInfo: IInfo = {\n                  owner: cv.owner,\n                  name: '',\n                  content: [''],\n                  id: 'temp' + Math.floor((Math.random() * 100000) + 1),\n                }\n                return { ...cv, attachments: emptyInfo }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        default:\n          return state\n      }\n    }\n    case REMOVE_TEMP_OBJECT: {\n      const cv = state.cvs.find((cv: ICV) => cv.id === action.data.id)\n      if (!cv) return state\n\n      switch (action.data.field) {\n        case 'experience':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return {\n                  ...cv, experience: cv.experience\n                  ? cv.experience.filter((experience: IExperience) => experience.id !== action.data.objectId)\n                  : []\n                }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'education':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, education: cv.education ? cv.education.filter((education: IExperience) => education.id !== action.data.objectId) : [] }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'reference':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, reference: cv.reference ? cv.reference.filter((reference: IContact) => reference.id !== action.data.objectId) : [] }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'projects':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, projects: cv.projects ? cv.projects.filter((project: IProject) => project.id !== action.data.objectId) : [] }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'profile':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, profile: undefined }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'contact':\n          return state // cannot delete required contact field\n        case 'communication':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, communication: undefined }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'skills':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, skills: undefined }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'info':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, info: undefined }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        case 'attachments':\n          return {\n            lastOpened: state.lastOpened, \n            cvs: state.cvs.map((cvObject: ICV) => {\n              if (cvObject.id === cv.id) {\n                return { ...cv, attachments: undefined }\n              } else {\n                return cvObject\n              }\n            })\n          }\n        default:\n          return state\n      }\n    }\n    default: return state\n  }\n}\n\nexport const updateCVs = (user: UserState) => {\n  return async (dispatch:any) => {\n    const action: CVAction = {\n      type: UPDATE_CVS,\n      data: { cvs: await cvService.getAllCV(user) }\n    }\n    dispatch(action)\n  }\n}\n\nexport const clearCVS = () => {\n  const action: CVAction = {\n    type: UPDATE_CVS,\n    data: { cvs: initState }\n  }\n  return action\n}\n\nexport const addEmptyCVObject = (id:string, field:string) => {\n  const action: CVAction = {\n    type: ADD_EMPTY_OBJECT,\n    data: { id, field }\n  }\n  return action\n}\n\nexport const removeTempCVObject = (id:string, field:string, objectId: string) => {\n  const action: CVAction = {\n    type: REMOVE_TEMP_OBJECT,\n    data: {id, field, objectId}\n  }\n  return action\n}\n\nexport const setPreviousCV = (id:string) => {\n  const action: CVAction = {\n    type: SET_PREVIOUS_CV,\n    data: {id}\n  }\n  return action\n}\n\nexport default cvReducer\n","const SET_USER = 'SET_USER'\nconst LOGOUT_USER = 'LOGOUT_USER'\n\nexport interface UserState {\n  token: string,\n  username: string,\n  name: string,\n}\n\ninterface SetUserAction {\n  type: string\n  data: UserState\n}\n\nconst loggedUserJSON = window.localStorage.getItem('loggedUser') || null\nconst user:UserState = loggedUserJSON ? JSON.parse(loggedUserJSON) : { token: '', username: '', name:'' }\n\nconst userReducer = (state: UserState | undefined = user, action: SetUserAction ) => {\n  switch (action.type) {\n    case SET_USER: {\n      return action.data\n    }\n    case LOGOUT_USER: {\n      window.localStorage.removeItem('loggedUser')\n      return { token: '', username: '', name: '' }\n    }\n    default: return state\n  }\n}\n\nexport const setUser = (user: UserState) => {\n  const action:SetUserAction = {\n    type: SET_USER,\n    data: user\n  }\n  return action\n}\n\nexport const logoutUser = () => {\n  const action = {\n    type: LOGOUT_USER,\n  }\n  return action\n}\n\nexport default userReducer\n","import React from 'react'\nimport './Menu.css'\nimport { clearCVS } from '../reducers/cvReducer'\nimport { Link, useLocation } from 'react-router-dom'\nimport { UserState, logoutUser } from '../reducers/userReducer'\nimport { AppState } from '..'\nimport { connect } from 'react-redux'\n\ninterface OwnProps {\n    showRoutes: boolean\n}\nexport interface StateProps { user: UserState, lastOpenedCV: string }\nexport interface DispatchProps {\n    logoutUser: () => void,\n    clearCVS: () => void\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n    return {\n        user: state.user,\n        lastOpenedCV: state.cv.lastOpened\n    }\n}\n\nconst mapDispatchToProps:DispatchProps = {\n    logoutUser,\n    clearCVS\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst Menu: React.FC<Props> = (props) => {\n\n    const location = useLocation()\n\n    const showLogout = props.user && props.user.token.length > 2\n    const renderLogout = () => {\n        if (showLogout) {\n            return (<Link to='/'><button id='Logout' className='setting-item logout-button' onClick={() => {\n                props.logoutUser()\n                props.clearCVS()\n            }}>\n                <img src='logout.svg' width='17px' height='15px' alt='out'/>\n                logout\n            </button></Link>)\n        }\n        return (<button disabled className='setting-item logout-button'>\n                <img className='icon' src='logout.svg' width='17px' height='15px' alt='out' />\n                <div>logout</div>\n            </button>)\n    }\n    if (!props.showRoutes) {\n        return (\n            <div className='Menu'>\n                <div className='cv-app-logo'>\n                    <img src='./logo.svg' width='38px' height='38px' alt='logo'/>\n                </div>\n                <div className='menu-items'>\n                    <Link id='CurriculumVitae' to='/'>\n                        <div className={location.pathname === '/'\n                        ? 'menu-item selected'\n                        : 'menu-item'}>Curriculum Vitae</div>\n                    </Link>\n                    <Link id='Users' to='/users'>\n                        <div className={location.pathname.includes('/users')\n                        ? 'menu-item selected'\n                        : 'menu-item'}>Users</div>\n                    </Link>\n                    <Link id='MyCV' to={`/mycv${props.lastOpenedCV.length > 1 ? '/' + props.lastOpenedCV : ''}`}>\n                        <div className={location.pathname.includes('/mycv')\n                        ? 'menu-item selected'\n                        : 'menu-item'}>MyCV</div>\n                    </Link>\n                    <Link id='About' to='/about'>\n                        <div className={location.pathname === '/about'\n                        ? 'menu-item selected'\n                        : 'menu-item'}>About</div>\n                    </Link>\n                </div>\n                <div className='settings'>\n                    {renderLogout()}\n                </div>\n            </div>\n        )\n    }\n    return(\n        <div className='Menu'>\n            <div className='cv-app-logo'>\n                <img src='logo.svg' width='38px' height='38px' alt='logo'/>\n            </div>\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Menu)\n","import React, { useState } from 'react'\nimport { showNotification, Type } from '../../reducers/notificationReducer'\nimport { connect } from 'react-redux'\nimport { UserState } from '../../reducers/userReducer'\nimport { AppState } from '../..'\nimport { Formik, Form, Field } from 'formik'\nimport usersService from '../../services/usersService'\nimport { UserSchema, IDetails } from '../../utils/validators'\nimport { setLoading } from '../../reducers/loadingReducer'\n\ninterface OwnProps {\n  closeForm: Function,\n  reloadUsers: Function,\n  newUser: boolean,\n  formValues?: {\n    id: string,\n    name: string,\n    username: string,\n    expires?: Date | null\n  }\n}\n\nexport interface StateProps {\n  user: UserState\n}\nexport interface DispatchProps {\n  showNotification: (message: string, type: Type, lifeTime?: number | undefined) => void,\n  setLoading: (loading: boolean) => void\n}\n\nconst mapDispatchToProps: DispatchProps = {\n  showNotification,\n  setLoading\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    user: state.user\n  }\n}\n\nenum CalcDateAfter {\n  TWO_WEEKS = Date.now() + 1000 * 60 * 60 * 24 * 14,\n  ONE_MONTH = Date.now() + 1000 * 60 * 60 * 24 * 30\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst UsersForm: React.FC<Props> = (props) => {\n  const [expires, setExpires] = useState<Date | undefined | null>(undefined)\n  \n  return (\n    <Formik\n      initialValues={ {\n        name: props.formValues?.name || '',\n        username: props.formValues?.username || '',\n        password: '',\n        passwordConfirm: '',\n        oldPassword: ''\n      }}\n      enableReinitialize\n      validate={(values) => {\n        const validationResult = UserSchema.validate(values, true)\n        if (!validationResult.error) return {}\n        const errorArray: [IDetails] = validationResult.error?.details.map((detail: IDetails) => { return {\n          ...detail,\n          message: detail.message.includes('fails to match the required pattern')\n          ? '\"name\" has forbidden characters'\n          : detail.message\n        }})\n        return {\n          name: errorArray.find((error) => error.context.key === 'name')?.message,\n          username: errorArray.find((error) => error.context.key === 'username')?.message,\n          password: errorArray.find((error) => error.context.key === 'password')?.message,\n          passwordConfirm: errorArray.find((error) => error.context.key === 'passwordConfirm')?.message,\n          oldPassword: errorArray.find((error) => error.context.key === 'oldPassword')?.message,\n        }\n      }} \n      onSubmit={(values, { setSubmitting, setValues }) => {\n        props.setLoading(true)\n        if (props.newUser) {\n          if (values.password === values.passwordConfirm) {\n            usersService.createUser(props.user, values.username, values.name, values.password, expires).then(response => {\n              setExpires(undefined)\n              props.showNotification(`User ${response.data.name} was created`, Type.SUCCESS, 4)\n              props.reloadUsers()\n              props.closeForm()\n              setValues({\n                name: '',\n                username: '',\n                password: '',\n                passwordConfirm: '',\n                oldPassword: ''\n              })\n              props.setLoading(false)\n            }).catch((error) => props.showNotification(error.response.data.error, Type.ERROR, 5))\n          } else {\n            props.showNotification('Password and password confirmation does not match', Type.WARNING, 4)\n          }\n        } else {\n          const changes = {\n            name: props.formValues && props.formValues.name !== values.name ? values.name : undefined,\n            username: props.formValues && props.formValues.username !== values.username ? values.username : undefined,\n            password: values.oldPassword.length > 8 ? values.oldPassword : undefined,\n            newPassword: values.passwordConfirm.length > 8 ? values.passwordConfirm : undefined,\n            expires: props.formValues && props.formValues.expires && props.formValues.expires !== expires ? expires : undefined\n          }\n          usersService.modifyUser(\n            props.user,\n            props.formValues?.id || '',\n            changes\n          ).then((response) => {\n            props.reloadUsers()\n            props.closeForm()\n            props.showNotification('User modifications updated successfully', Type.SUCCESS, 5)\n            props.setLoading(false)\n          }).catch((error) => {\n            props.showNotification(error.response.data.error, Type.ERROR, 5) \n          })\n        }\n        setSubmitting(false)\n        props.closeForm()\n      }}\n    >\n      {({ isSubmitting, isValid, errors }) => (\n        <Form>\n          {props.newUser ? 'Create new user' : 'Modify user ' + props.formValues?.username + ':'}\n          <p>Full name</p>\n          <Field id='NewUserFullName' key={'namefield'} className='user-form-input' placeholder='Full Name' type='text' name='name' disabled={isSubmitting} />\n          <div key={'nameerrormessage'} className='form-input-error-message'>{errors?.name}</div>\n          <p>Username</p>\n          <Field id='NewUserName' key={'usernamefield'} className='user-form-input' placeholder='Username' type='text' name='username' disabled={isSubmitting} />\n          <div key={'usernameerrormessage'} className='form-input-error-message'>{errors?.username}</div>\n          {props.newUser ? <p>User is valid</p> : <p>User is valid after changes (admin only)</p>}\n          <div>\n            <input type=\"radio\" name=\"expires\" onClick={() => setExpires(new Date(CalcDateAfter.TWO_WEEKS))} /> a fortnight\n            <input type=\"radio\" name=\"expires\" onClick={() => setExpires(new Date(CalcDateAfter.ONE_MONTH))} /> a month\n            <input type=\"radio\" name=\"expires\" onClick={() => setExpires(null)} /> forever\n          </div>\n          {!props.newUser && <p key='olduserparagraph'>Re-enter old password</p>}\n          {!props.newUser && <Field id='OldPassword' key='oldpasswordfield' className='user-form-input' type='password' name='oldPassword' disabled={isSubmitting} />}\n          <div key={'oldpassworderrormessage'} className='form-input-error-message'>{errors?.oldPassword}</div>\n          {props.newUser ? <p>Password for new user</p> : <p>New password</p>}\n          <Field id='NewPassword' key='passwordfield' className='user-form-input' type='password' name='password' disabled={isSubmitting} />\n          <div key={'passworderrormessage'} className='form-input-error-message'>{errors?.password}</div>\n          {props.newUser ? <p>Confirm password</p> : <p>Confirm new password</p>}\n          <Field id='NewPasswordConfirm' key='confirmpasswordfield' className='user-form-input' type='password' name='passwordConfirm' disabled={isSubmitting} />\n          <div key={'passwordconfirmationerrormessage'} className='form-input-error-message'>{errors?.passwordConfirm}</div>\n          <div style={{ textAlign: 'right', marginTop: '10px' }}>\n            <button className='toolbar-button' onClick={(event) => {\n              event.preventDefault()\n              props.closeForm()\n            }}>Cancel</button>\n            <button id='SubmitUserForm' className='toolbar-button' type='submit' disabled={isSubmitting || !isValid}>\n              {props.newUser ? 'Submit' : 'Submit changes'}\n            </button>\n          </div>\n        </Form>)}\n    </Formik>\n  )\n}\n    \nexport default connect(mapStateToProps,mapDispatchToProps)(UsersForm)","import axios, { AxiosResponse } from 'axios'\nconst baseUrl = '/api/login'\n\ninterface loginResponse extends AxiosResponse {\n  data: {\n    token: string,\n    username: string,\n    name: string\n  }\n}\n\nexport interface loginError {\n  status: number,\n  response: {\n    data:{\n      error: string,\n      cooldownEnd?: number\n    }\n  }\n}\n\nconst login = (username:string, password:string) => {\n  const credentials = { 'username':username, 'password':password }\n  const request = axios.post(baseUrl, credentials)\n  return request.then((response: loginResponse) => response.data)\n}\n\nexport default { login }\n","export const SET_LOADING = 'SET_LOADING'\n\ninterface loadingReducerAction {\n  type: string,\n  data: boolean\n}\n\nconst initState: boolean = false\n\nconst loadingReducer = (state: boolean = initState, action: loadingReducerAction) => {\n  switch (action.type) {\n  case SET_LOADING: {\n    return { isFetching: action.data }\n  }\n  default: return state\n  }\n}\n\nexport const setLoading = (loading: boolean) => {\n  const action:loadingReducerAction = {\n    type: SET_LOADING,\n    data: loading\n  }\n  return action\n}\n\nexport default loadingReducer\n","import React, { useState } from 'react'\nimport './Login.css'\nimport useField, { FieldType } from '../hooks/useField'\nimport loginService, { loginError } from '../services/loginService'\nimport { setUser, UserState } from '../reducers/userReducer'\nimport { showNotification, Type } from '../reducers/notificationReducer'\nimport { updateCVs } from '../reducers/cvReducer'\nimport { connect } from 'react-redux'\nimport { setLoading } from '../reducers/loadingReducer'\n\ninterface OwnProps {}\ninterface StateProps {}\ninterface DispatchProps {\n  showNotification: (message: string, type: Type, lifeTime?: number | undefined) => void,\n  setUser: (user: UserState) => void,\n  updateCVs: (user: UserState) => void,\n  setLoading: (loading: boolean) => void\n}\n\n// const mapStateToProps = {}\nconst mapDispatchToProps: DispatchProps = {\n  showNotification,\n  setUser,\n  updateCVs,\n  setLoading\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst Login: React.FC<Props> = (props) => {\n\n  const username = useField( FieldType.TEXT )\n  const password = useField( FieldType.PASSWORD )\n  \n  const [remember, setRemember] = useState(false)\n  const [submitLock, setSubmitLock] = useState(false)\n\n  const handleLogin = (event: React.FormEvent<HTMLFormElement>) => {\n    event.persist()\n    event.preventDefault()\n\n    props.setLoading(true)\n\n    if (!submitLock) {\n      loginService.login(username.value, password.value)\n        .then(user => {\n          props.setUser(user)\n          remember && window.localStorage.setItem(\n            'loggedUser', JSON.stringify(user)\n          )\n          props.showNotification('Login successful', Type.SUCCESS, 5)\n          props.updateCVs(user)\n          props.setLoading(false)\n          props.setLoading(true)\n        }).catch((error:loginError) => {\n          if (error.response.data.error) {\n            const cooldown = error.response.data.cooldownEnd && error.response.data.cooldownEnd / 1000\n            if (cooldown) {\n              props.showNotification(`${error.response.data.error}`, Type.WARNING, cooldown)\n              setSubmitLock(true)\n              const lock = setTimeout(() => {\n                setSubmitLock(false)\n                clearTimeout(lock)\n                handleLogin(event)\n              }, cooldown * 1000 + 700)\n            } else {\n              props.showNotification(`${error.response.data.error}`, Type.ERROR, 4) \n            }\n          } else {\n            props.showNotification(`No response from the server`, Type.ERROR, 4)\n          }\n        })\n    }\n  }\n\n  return(<div className='Login'>\n    <form onSubmit={handleLogin} className='loginBox'>\n      <div>\n        Username:\n        <input disabled={submitLock} className='login-input' id='username' name='username' value='' {...username}>\n        </input>\n      </div>\n      <div>\n        Password:\n        <input disabled={submitLock} className='login-input' id='password' name='password' value='' {...password}>\n        </input>\n      </div>\n      <div className='rememberme'>\n        Remember me\n        <input\n          id='RememberMeCheckbox'\n          type='checkbox'\n          defaultChecked={remember}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            setRemember(!remember)\n          }}\n        />\n      </div>\n      <button id='login' type='submit' disabled={submitLock} className='login-button'>\n        Login\n      </button>\n    </form>\n  </div>)\n}\nexport default connect(null, mapDispatchToProps)(Login)","import React from 'react'\nimport './Footer.css'\nimport { connect } from 'react-redux'\nimport { UserState } from '../reducers/userReducer'\nimport { AppState } from '..'\n\ninterface OwnProps {}\nexport interface StateProps { user?: UserState }\nexport interface DispatchProps {}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    user: state.user\n  }\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst Footer: React.FC<Props> = (props) => {\n  const showUserInfo = props.user && props.user.name.length > 2\n\n  if (showUserInfo && props.user) {\n    return (\n      <div className='Footer'>Logged in as {props.user.name}</div>\n    )\n  }\n  return (\n    <div className='Footer'>You are not logged in</div> \n  )\n}\n\nexport default connect(mapStateToProps,null)(Footer)\n","import React from 'react'\nimport { IUser } from '../../services/usersService'\nimport { Link } from 'react-router-dom'\n\ninterface Props {\n    user: IUser,\n    handleUserDelete: () => void\n}\n\nconst UsersRow: React.FC<Props> = (props) => {\n    const { name, username, id, created, expires } = props.user\n\n    return (\n        <tr key={'usertr' + id}>\n            <td><Link id={`LinkTo${username}`} to={`/users/${username}`}>{username}</Link></td>\n            <td>{name}</td>\n            <td>{created.toString().substring(0, 10)} / {expires ? expires.toString().substring(0, 10) : '-never-'}</td>\n            <td>{username === 'rampemus' ? 'Admin' : 'User'}</td>\n            <td>\n                <button id={`Delete${username}`} onClick={() => props.handleUserDelete()}>\n                    <img className='icon' src='delete.svg' width='17px' height='15px' alt='delete' />\n                    Delete\n                </button>\n            </td>\n        </tr>\n    )\n}\n\nexport default UsersRow","import axios, { AxiosResponse } from 'axios'\nimport { getConfigHeader } from '../utils/serviceHelper'\nimport { UserState } from '../reducers/userReducer'\nconst baseUrl = '/api/users'\n\nexport interface IUser {\n  name: string,\n  username: string,\n  id: string,\n  created: Date,\n  expires?: Date,\n  owner?: string,\n  password?: string\n}\n\ninterface getAllUsersResponse extends AxiosResponse {\n  data: IUser[]\n}\n\ninterface createUsersResponse extends AxiosResponse {\n  data: IUser\n}\n\nexport interface usersError {\n  response: {\n    data: {\n      error: string\n    }\n  }\n}\n\nconst getOwner = (id:string, user: UserState) => {\n  const request = axios.post(baseUrl + '/owner', { id }, getConfigHeader(user))\n  return request.then((response: createUsersResponse) => response.data)\n}\n\nconst getAll = (user: UserState) => {\n  const request = axios.get(baseUrl, getConfigHeader(user))\n  return request.then((response: getAllUsersResponse) => response.data)\n}\n\nconst createUser = (user: UserState, username?: string, name?: string, password?: string, expires?: Date | null) => {\n  const data = username || name || password ? { username, name, password, expires } : {}\n  const request = axios.post(`${baseUrl}`, data, getConfigHeader(user))\n  return request.then((response: createUsersResponse) => response)\n}\n\nconst modifyUser = (user: UserState, id:string, changes: any) => {\n  const request = axios.put(baseUrl, { changes, id }, getConfigHeader(user))\n  return request.then((response: createUsersResponse) => response)\n}\n\nconst deleteUser = (id:string, user: UserState) => {\n  const request = axios.delete(`${baseUrl}/${id}`, getConfigHeader(user))\n  return request.then( response => response)\n}\n\nexport default { getAll, createUser, deleteUser, getOwner, modifyUser }\n","import React from 'react'\nimport './Toolbar.css'\n\nconst Toolbar: React.FC = (props) => {\n  return(\n    <div className='toolbar'>\n      {props.children}\n    </div>\n  )\n}\n\nexport default Toolbar\n","const Joi = require('@hapi/joi')\n\nexport interface IDetails {\n  message: string,\n  path: string[],\n  type: string,\n  context: {\n    limit?: number,\n    value: string,\n    label: string,\n    key: string,\n    encoding: any\n  }\n}\n\nexport interface IJoiError {\n  isJoi: boolean,\n  details: IDetails[],\n  context: {\n    name: string | undefined,\n    regex: RegExp,\n    value: any,\n    label: string,\n    key: string\n  },\n  _object: {\n    username: string,\n    password: string,\n  }\n}\n\nexport interface IFormattedJoiError {\n  message: string,\n  field: string,\n  id: string\n}\n\nconst contentLength = 1000\nconst contentString = Joi.string().regex(/^[a-zA-Z0-9àáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.()!?\"#€$%&@£§|{}'-\\\\$\\n]*$/).max(contentLength).empty('')\nconst nameLenth = 300\nconst nameString = Joi.string().regex(/^[a-zA-Z0-9àáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.()!\"#€$%&@£§|{}'-]*$/).max(nameLenth)\nconst username = Joi.string().alphanum().min(4).max(30)\nconst password = Joi.string().regex(/^[a-zA-Z0-9!#%&]*$/).min(8).max(64)\nconst name = Joi.string().regex(/^[a-zA-Z0-9àáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]*$/).max(100)\n\nexport const CVSchema = Joi.object().keys({\n  id: Joi.any(),\n  github: Joi.string().uri().empty(''),\n  name: nameString,\n  techlist: contentString.empty(''),\n  contact: Joi.any(),\n  profile: Joi.any(),\n  projects: Joi.any(),\n  reference: Joi.any(),\n  experience: Joi.any(),\n  education: Joi.any(),\n  communication: Joi.any(),\n  skills: Joi.any(),\n  info: Joi.any(),\n  attachments: Joi.any(),\n})\n\nexport const InfoSchema = Joi.object().keys({\n  id: Joi.any(),\n  content: contentString,\n  name: nameString,\n})\n\nexport const CommunicationSchema = Joi.object().keys({\n  id: Joi.any(), \n  content: contentString,\n  languages: Joi.array().items(Joi.object()),\n  name: nameString,\n})\n\nexport const ExperienceSchema = Joi.object().keys({\n  id: Joi.any(), \n  description: contentString,\n  name: nameString,\n  timeFrame: Joi.object()\n})\n\nexport const ProfileSchema = Joi.object().keys({\n  id: Joi.any(), \n  content: contentString,\n  name: nameString,\n})\n\nexport const ProjectSchema = Joi.object().keys({\n  id: Joi.any(), \n  description: contentString,\n  githubUrl: Joi.string().uri().empty(''),\n  name: nameString,\n  showcaseUrl: Joi.string().uri().empty(''),\n  thumbnailUrl: Joi.string().uri().empty('')\n})\n\nexport const ContactSchema = Joi.object().keys({\n  id: Joi.any(), \n  address: nameString.empty(''),\n  company: nameString.empty(''),\n  email: Joi.string().email({ minDomainSegments: 2, tlds: { allow: ['com', 'net', 'fi'] } }),\n  firstname: nameString,\n  lastname: nameString,\n  linkedin: Joi.string().uri().empty(''),\n  phone: nameString.empty(''), // TODO: create phone regex\n  phoneAvailable: nameString.empty(''),\n  pictureUrl: Joi.string().uri().empty(''),\n})\n\nexport const UserSchema = Joi.object().keys({\n  expires: Joi.any(),\n  name: name.empty(''),\n  password: password.empty(''),\n  oldPassword: password.empty(''),\n  passwordConfirm: password.empty(''),\n  username: username.empty(''),\n})","import React, { useState, useEffect } from 'react'\n\ninterface OwnProps {\n  initLevel: string,\n  handleChange(newLevel: string): void,\n  id: string\n}\n\nexport enum ILevel {\n  Elementary = 'Elementary',\n  EveryDay = 'Every day proficiency',\n  Working = 'Working proficiency',\n  Advanced = 'Advanced',\n  Professional = 'Professional',\n  Native = 'Native speaker'\n}\n\nconst levels = [ILevel.Elementary, ILevel.EveryDay, ILevel.Working, ILevel.Advanced, ILevel.Professional, ILevel.Native]\n\nconst MyCVFormLanguageLevelSelector: React.FC<OwnProps> = (props) => {\n\n  const [level, setLevel] = useState(props.initLevel)\n\n  useEffect(() => {\n    setLevel(props.initLevel)\n  }, [props.initLevel])\n\n  const handleLevelChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    event.preventDefault()\n\n    setLevel(event.target.value)\n    props.handleChange(event.target.value.toString())\n  }\n\n  return(\n    <div>\n      <select id={props.id} onChange={handleLevelChange} value={level} className='language-level-selector'>\n        {levels.map(level => <option key={level} value={level}>{level}</option>)}\n      </select>\n    </div>\n  )\n}\n\nexport default MyCVFormLanguageLevelSelector\n","import React, { useState, useEffect } from 'react'\nimport Toolbar from '../Toolbar'\nimport usersService, { IUser } from '../../services/usersService'\nimport { AppState } from '../..'\nimport { connect } from 'react-redux'\nimport { UserState } from '../../reducers/userReducer'\nimport UsersForm from './UsersForm'\n\ninterface OwnProps {\n  user?: IUser,\n  updateUser: Function\n}\nexport interface StateProps {\n  userForHeaders: UserState\n}\nexport interface DispatchProps {}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n    return {\n        userForHeaders: state.user\n    }\n}\n\n// const mapDispatchToProps: DispatchProps = {\n//     functionName\n// }\n\ntype Props = OwnProps & StateProps & DispatchProps\n\n\nconst User: React.FC<Props> = (props) => {\n  const user = props.user\n\n  const [owner, setOwner] = useState<IUser | null>(null)\n  const [showEditUser, setShowEditUser] = useState(false)\n\n  useEffect(() => {\n    if (user && user.id) {\n      usersService.getOwner(user.id, props.userForHeaders).then(response => {\n        setOwner(response)\n      })\n    }\n    // .catch((error: usersError) => {\n    // })\n    // eslint-disable-next-line\n  }, [user])\n\n  if (!user) {\n    return <div>User not found</div>\n  } else {\n    const timeleftMillisecs:number = user.expires ? (new Date(user.expires).valueOf() - Date.now().valueOf()) : 0\n    const expires = user.expires\n    ? (timeleftMillisecs > 0\n      ? 'User expires after '\n      + Math.floor(timeleftMillisecs / (1000 * 60 * 60 * 24))\n      + ' days '\n      + Math.floor(timeleftMillisecs % (1000 * 60 * 60 * 24) / (1000 * 60 * 60))\n      + ' hours'\n      : 'User is expired')\n    : 'User never expires'\n\n    const created = owner ? new Date(owner.created) : new Date()\n\n    return(\n      <div>\n        <Toolbar>\n          <div>\n            <button disabled className='toolbar-button'>add random user</button>\n            <button disabled className='toolbar-button'>add user...</button>\n            <button id='EditUser' className='toolbar-button' onClick={() => {\n              setShowEditUser(!showEditUser)\n            }}>\n              edit user...\n            </button>\n            <div className='formContainer' style={{ display: showEditUser ? 'block' : 'none' }}>\n              <UsersForm\n                newUser={false}\n                formValues={{\n                  id: props.user ? props.user.id : '',\n                  name: props.user ? props.user.name : '',\n                  username: props.user ? props.user.username : '',\n                  expires: props.user && props.user.expires ? new Date(props.user.expires) : undefined\n                }}\n                closeForm={() => setShowEditUser(false)}\n                reloadUsers={() => {props.updateUser()}}\n              />\n            </div>\n          </div>\n        </Toolbar>\n        <h1>{user.username}</h1>\n        <h3>Information</h3>\n        <p>{user.name}</p>\n        <p>{owner\n          ? 'User created by '\n            + owner.username + ' '\n            + created.getFullYear() + '-'\n            + created.getMonth() + '-'\n            + created.getDay() \n          : 'User has no owner'}</p>\n        <p>{expires}</p>\n      </div>\n    )\n  }\n}\n\nexport default connect(mapStateToProps, null)(User)\n","import React, { useState, useEffect } from 'react'\nimport './Users.css'\nimport UsersRow from './UsersRow'\nimport usersService, { IUser, usersError } from '../../services/usersService'\nimport { showNotification, Type } from '../../reducers/notificationReducer'\nimport { connect } from 'react-redux'\nimport Toolbar from '../Toolbar'\nimport UsersForm from './UsersForm'\nimport { UserState } from '../../reducers/userReducer'\nimport { AppState } from '../..'\nimport { useLocation, Route } from 'react-router-dom'\nimport User from './User'\nimport { setLoading } from '../../reducers/loadingReducer'\n\ninterface OwnProps { }\nexport interface StateProps {\n  user: UserState\n}\nexport interface DispatchProps {\n  showNotification: (message: string, type: Type, lifeTime?: number | undefined) => void,\n  setLoading: (loading: boolean) => void\n}\n\nconst mapDispatchToProps: DispatchProps = {\n  showNotification,\n  setLoading\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    user: state.user\n  }\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst Users: React.FC<Props> = (props) => {\n  const [users, setUsers] = useState<IUser[]>([])\n\n  useEffect(()=>{\n    updateUsers()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const updateUsers = () => {\n    usersService.getAll(props.user).then(response => {\n      setUsers(response)\n      props.setLoading(false)\n    }).catch((error: usersError) => {\n      props.showNotification('Request for retrieving users was denied. ' + error.response.data.error, Type.ERROR, 4)\n    })\n  }\n\n  const handleUserDelete = (id: string) => {\n    props.setLoading(true)\n    const user:IUser | undefined = users.find(user => user.id === id)\n    if ( user ) {\n      usersService.deleteUser(id, props.user).then( response => {\n        setUsers(users.filter(user => user.id !== id))\n        props.showNotification(`User ${user.name} was deleted`, Type.SUCCESS, 3)\n        props.setLoading(false)\n      }).catch((error) => props.showNotification(error.response.data.error, Type.ERROR, 5))\n    } else {\n      props.showNotification('User does not exist', Type.ERROR, 5)\n    }\n  }\n\n  const handleAddRandomUser = () => {\n    props.setLoading(true)\n    usersService.createUser(props.user).then(\n      response => {\n        props.showNotification(\n          `User ${response.data.name} created. Username/password is ${response.data.username}/${response.data.password}`,\n          Type.SUCCESS\n        )\n        updateUsers()\n      }\n    ).catch((error) => props.showNotification(error.response.data.error, Type.ERROR, 5))\n  }\n\n  const [showAddUser, setShowAddUser] = useState(false) \n  const location = useLocation()\n  const userSelected = location.pathname.includes('/users') && location.pathname.length > '/users/'.length ? true : false\n\n  if (userSelected) {\n    return <Route exact path=\"/users/:username\" render={({ match }) => \n      <User\n        user={users.find(user => user.username === match.params.username)}\n        userForHeaders={props.user}\n        updateUser={()=>updateUsers()}\n      />\n    }/>\n  }\n  return(\n    <div>\n      <Toolbar>\n        <div>\n          <button id='AddRandomUser' className='toolbar-button' onClick={()=>handleAddRandomUser()}>add random user</button>\n          <button id='AddUser' className='toolbar-button' onClick={()=>{\n            setShowAddUser(!showAddUser)\n          }}>add user...</button>\n          <button disabled className='toolbar-button'>edit user...</button>\n        </div>\n        <div className='formContainer' style={{ display: showAddUser ? 'block' : 'none' }}>\n          <UsersForm newUser closeForm={()=>setShowAddUser(false)} reloadUsers={()=>updateUsers()}/>\n        </div>\n      </Toolbar>\n      <h1>Users</h1>\n      <table>\n        <tbody>\n          <tr>\n            <th>Username</th>\n            <th>Name</th>\n            <th>Created/Expires</th>\n            <th>Status</th>\n            <th></th>\n          </tr>\n          {users.map(user => (\n            <UsersRow\n              key={'usersrow' + user.id}\n              user={user}\n              handleUserDelete={()=>handleUserDelete(user.id)}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Users)\n\n","import React from 'react'\n\nconst About: React.FC = (props) => {\n\n  return(\n    <div>\n      <h1>About this site</h1>\n      <p>This single-page-app will show my CV information and also deliver a simple graphical UI for creating and modifying CV data.</p>\n      <p>Almost everything in this site is crafted from scratch (all the way from user authentication to datePicker-components). \n        To make things more simple I have added ready made libraries to help organize things. \n        Biggest impact was done by Formik to make forms on the page to be a bit less painful.</p>\n      <p>Please take a look of my source code in my <a href='https://github.com/rampemus/cvapp'>github</a></p>\n      <h3>Version 1.1 - 2020/5/21</h3>\n      <p>Firefox bugs fixed and added css to view in mobile devices.</p>\n      <h3>Version 1.0 - 2020/4/12</h3>\n      <p>Bugs fixed, tests added and deployment automation added.</p>\n      <h3>Version 0.4 - 2020/3/6</h3>\n      <p>Validation added and security measures added.</p>\n      <h3>Version 0.3 - 2020/3/1</h3>\n      <p>Notifications and animations added and login logic changed.</p>\n      <h3>Version 0.2 - 2020/2/26</h3>\n      <p>Fixed most of bugs away and bunch tests created for <a href='https://github.com/rampemus/cvapp/tree/master/backend'>backend</a>.</p>\n      <h3>Version 0.1 - 2020/2/5</h3>\n      <p>For now, some of the code is not yet nicely organized but things will get better.\n        Other bigger changes will be that the tests will be implemented in the future for creating a automated pipeline.\n        Many changes will be done for the deployment and for the backend. Therefore, I wish you visit my github for changes.</p>\n    </div>\n  )\n}\n\nexport default About\n","import React from 'react'\n\ninterface DeleteProps {\n  isSubmitting: boolean,\n  handleDelete: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void,\n  id: string\n}\n\nconst DeleteButton: React.FC<DeleteProps> = (props) => {\n  const { id, isSubmitting } = props\n  return(\n    <button id={id} className='form-delete-button form-button' type='submit' onClick={props.handleDelete} disabled={isSubmitting}>\n      Delete\n    </button>\n  )\n}\n\ninterface ClearProps {\n  isSubmitting: boolean,\n  values: any,\n  clearActionValues: any,\n  setValues(values: any): void,\n  id: string\n}\n\nconst ClearButton: React.FC<ClearProps> = (props) => {\n  const { id, isSubmitting, values, clearActionValues, setValues } = props\n  return(\n    <button\n      id={id}\n      className='form-clear-button form-button'\n      type='submit'\n      disabled={isSubmitting}\n      onClick={(event) => {\n        event.preventDefault()\n        setValues({ ...values, ...clearActionValues })\n      }}\n    >\n      Clear\n    </button>\n  )\n}\n\ninterface CancelProps {\n  isSubmitting: boolean,\n  setValues(values: any): void,\n  formValues: any,\n  id: string\n}\n\nconst CancelButton: React.FC<CancelProps> = (props) => {\n  const { id, isSubmitting, setValues, formValues } = props\n  return(\n    <button\n      id={id}\n      className='form-cancel-button form-button'\n      type='submit'\n      disabled={isSubmitting}\n      onClick={(event) => {\n        event.preventDefault()\n        setValues({ ...formValues })\n      }}\n    >\n      Cancel\n    </button>\n  )\n}\n\ninterface SaveProps {\n  isSubmitting: boolean,\n  id: string\n}\n\nconst SaveButton: React.FC<SaveProps> = (props) => {\n  const { id, isSubmitting } = props\n  return(\n    <button\n      id={id}\n      className='form-save-button form-button'\n      type='submit' disabled={isSubmitting}\n    >\n      Save\n    </button>\n  )\n}\n\nexport { DeleteButton, ClearButton, CancelButton, SaveButton}\n","import React, { useState, useEffect } from 'react'\n\ninterface OwnProps {\n  date: Date,\n  handleChange(newDate:Date): void,\n  id: string\n}\n\nconst numbers = (from:number, to:number) => {\n  let result = []\n  for ( let i = 0; i < to-from; i++) {\n    result.push(from+i)\n  }\n  return result\n}\n\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\nconst MyCVFormDateSelector: React.FC<OwnProps> = (props) => {\n\n  const dateProp = new Date(props.date)\n  const id = props.id\n\n  const [year, setYear] = useState(dateProp.getFullYear())\n  const [month, setMonth] = useState(dateProp.getMonth())\n  const [day, setDay] = useState(dateProp.getDate())\n  const [lastDayOfTheMonth, setLastDayOfTheMonth] = useState(31)\n\n  useEffect(()=>{\n    setLastDayOfTheMonth(new Date(year, month + 1, 0).getDate())\n  },[year,month])\n\n  const handleYearChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    event.preventDefault()\n    const newYear = parseInt(event.target.value)\n    setYear(newYear)\n    props.handleChange(new Date(newYear,month,day))\n  }\n\n  const handleMonthChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    event.preventDefault()\n    const newMonth = parseInt(event.target.value)\n    setMonth(newMonth)\n    props.handleChange(new Date(year, newMonth, day))\n  }\n\n  const handleDayChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    event.preventDefault()\n    const newDay = parseInt(event.target.value)\n    setDay(newDay)\n    props.handleChange(new Date(year, month, newDay))\n  }\n\n  return(\n    <div>\n      <select id={'Year' + id} onChange={handleYearChange} value={year} className='year-selector'>\n        {numbers(2000,2030).map((yearNumber) => {\n          return (<option key={yearNumber} value={yearNumber}>{yearNumber}</option>)\n        })}\n      </select>\n      <select id={'Month' + id} onChange={handleMonthChange} value={month} className='month-selector'>\n        {numbers(0, 12).map((monthNumber) => {\n          return (<option key={monthNumber} value={monthNumber}>{months[monthNumber]}</option>)\n        })}\n      </select>\n      <select id={'Day' + id} onChange={handleDayChange} value={day} className='day-selector'>\n        {numbers(1, lastDayOfTheMonth+1).map((dayNumber) => {\n          return (<option key={dayNumber} value={dayNumber}>{dayNumber}</option>)\n        })}\n      </select> \n    </div>\n  )\n}\n\nexport default MyCVFormDateSelector\n","import React from 'react'\nimport { Formik, Form, Field, FieldArray } from 'formik'\nimport { DeleteButton, ClearButton, CancelButton, SaveButton } from './MyCVFormPanelButtons'\nimport cvService, { ServiceType } from '../../services/cvService'\nimport { useLocation } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { updateCVs, addEmptyCVObject, removeTempCVObject, CVAction } from '../../reducers/cvReducer'\nimport MyCVFormDateSelector from './MyCVFormDateSelector'\nimport MyCVFormLanguageLevelSelector, { ILevel } from './MyCVFormLanguageLevelSelector'\nimport { UserState } from '../../reducers/userReducer'\nimport { AppState } from '../..'\nimport { \n  ExperienceSchema,\n  IDetails,\n  CommunicationSchema,\n  InfoSchema,\n  ProjectSchema,\n  ContactSchema,\n  ProfileSchema,\n  IFormattedJoiError,\n  CVSchema\n} from '../../utils/validators'\n\ninterface OwnProps {\n  formValues?: Object,\n  field: string,\n  serviceType: ServiceType,\n  children?: any,\n}\nexport interface StateProps {\n  user: UserState\n}\nexport interface DispatchProps {\n  updateCVs: (user: UserState) => any,\n  addEmptyCVObject: (id: string, field: string) => CVAction,\n  removeTempCVObject: (id: string, field: string, objectId: string) => CVAction\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    user: state.user\n  }\n}\n\nconst stringToArray = (data:string) => {\n  return data.split('\\n')\n}\nconst arrayToString = (data:string[]) => {\n  return data.join('\\n')\n}\nconst renderChildren = (id: string, isSubmitting: boolean, errors: IFormattedJoiError | any, values: any, setValues: Function, field:string) => {\n  if (field === 'experience' || field === 'education') return([\n    <div key={id + 'namelabel'} className='form-label'>Name</div>,\n    <Field id={field + 'Name' + id} key={id + 'namefield'} className='form-input' placeholder='Name' type='text' name='name' disabled={isSubmitting} />,\n    <div key={id + 'nameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.name : ''}</div>,\n    <div key={id + 'durationlabel'} className='form-label'>Time duration</div>,\n    <div key={id + 'timeframecontainer'} className='timeFrameContainer'>\n      <div>\n        <MyCVFormDateSelector id={'StartTime'+id} date={values.timeFrame.startDate} handleChange={(newDate) => {\n          setValues({\n            ...values, timeFrame: {\n              startDate: newDate,\n              endDate: values.timeFrame.endDate,\n            }\n          })\n        }} />\n      </div>\n      <div className='time-divider'>-</div>\n      <div>\n        <MyCVFormDateSelector id={'EndTime' + id} date={values.timeFrame.endDate} handleChange={(newDate) => {\n          setValues({\n            ...values, timeFrame: {\n              startDate: values.timeFrame.startDate,\n              endDate: newDate,\n            }\n          })\n        }} />\n      </div>\n    </div>,\n    <div key={id + 'timeframeerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.timeFrame : ''}</div>,\n    <div key={id + 'descriptionlabel'} className='form-label'>Description</div>,\n    <Field id={field + 'Descritpion' + id} key={id + 'descriptionfield'} className='form-textarea' placeholder='Content' as='textarea' type='text' name='description' disabled={isSubmitting} />,\n    <div key={id + 'descriptionerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.description : ''}</div> \n  ])\n  if (field === 'info' || field === 'attachments' || field === 'skills') return ([\n    <div key={id + 'namelabel'} className='form-label'>Name</div>,\n    <Field id={field + 'Name' + id} key={id + 'namefield'} className='form-input' placeholder='Name' type='text' name='name' />,\n    <div key={id + 'nameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.name : ''}</div>,\n    <div key={id + 'contentlabel'}className='form-label'>Content</div>,\n    <Field id={field + 'Content' + id} key={id + 'contentfield'} className='form-textarea' placeholder='Content' as='textarea' type='text' name='content' />,\n    <div key={id + 'contenterrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.content : ''}</div>,\n  ])\n  if (field === 'projects') return ( [\n    <div key={id + 'namelabel'} className='form-label'>Name</div>,\n    <Field id={field + 'Name' + id} key={id + 'namefield'} className='form-input' placeholder='Name' type='text' name='name' />,\n    <div key={id + 'nameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.name : ''}</div>,\n    <div key={id + 'descriptionlabel'} className='form-label'>Description</div>,\n    <Field id={field + 'Description' + id} key={id + 'descriptiontextarea'} className='form-textarea' placeholder='Description' as='textarea' type='text' name='description' />,\n    <div key={id + 'descriptionerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.description : ''}</div>,\n    <div key={id + 'githublabel'} className='form-label'>Github</div>, \n    <Field id={field + 'GithubUrl' + id} key={id + 'githubinput'} className='form-input' placeholder='Github url' type='text' name='githubUrl' />,\n    <div key={id + 'githuberrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.githubUrl : ''}</div>,\n    <div key={id + 'showcaselabel'} className='form-label'>Showcase</div>,\n    <Field id={field + 'ShowcaseUrl' + id} key={id + 'showcaseurlfield'} className='form-input' placeholder='Showcase url' type='text' name='showcaseUrl' />,\n    <div key={id + 'showcaseerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.showcaseUrl : ''}</div>,\n    <div key={id + 'thumbnaillabel'} className='form-label'>Thumbnail</div>,\n    <Field id={field + 'ThumbnailUrl' + id} key={id + 'thumbnailurlfield'} className='form-input' placeholder='Thumbnail url' type='text' name='thumbnailUrl' />,\n    <div key={id + 'thumbnailurlerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.thumbnailUrl : ''}</div>,\n  ])\n  if (field === 'contact' || field === 'reference') return ([\n    <div key={id + 'firstnamelabel'} className='form-label'>Firstname</div>,\n    <Field id={field + 'Firstname' + id} key={id + 'firstnameinput'} className='form-input' placeholder='Firstname' type='text' name='firstname' />,\n    <div key={id + 'firstnameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.firstname : ''}</div>,\n    <div key={id + 'lastnamelabel'} className='form-label'>Lastname</div>,\n    <Field id={field + 'Lastname' + id} key={id + 'lastnamefield'} className='form-input' placeholder='LastName' type='text' name='lastname' />,\n    <div key={id + 'lastnameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.lastname : ''}</div>,\n    <div key={id + 'emaillabel'} className='form-label'>E-mail</div>,\n    <Field id={field + 'Email' + id} key={id + 'emailfield'} className='form-input' placeholder='mailto@mail.com' type='text' name='email' />,\n    <div key={id + 'emailerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.email : ''}</div>,\n    <div key={id + 'linkedinlabel'} className='form-label'>Linkedin</div>,\n    <Field id={field + 'Linkedin' + id} key={id + 'linkedinfield'} className='form-input' placeholder='www.linkedin.com/in/xxxxx-xxxxxx-XXXXXXXXX' type='text' name='linkedin' />,\n    <div key={id + 'linkedinerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.linkedin : ''}</div>,\n    <div key={id + 'phonelabel'} className='form-label'>Phone</div>,\n    <Field id={field + 'Phone' + id} key={id + 'phonefield'} className='form-input' placeholder='+358000000000' type='text' name='phone' />,\n    <div key={id + 'phoneerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.phone : ''}</div>,\n    <div key={id + 'availablelabel'} className='form-label'>Available</div>,\n    <Field id={field + 'PhoneAvailable' + id} key={id + 'availablefield'} className='form-input' placeholder='Available during 9 am -  4 pm' type='text' name='phoneAvailable' />,\n    <div key={id + 'availableerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.phoneAvailable : ''}</div>,\n    <div key={id + 'addresslabel'} className='form-label'>Address</div>,\n    <Field id={field + 'Address' + id} key={id + 'addressfield'} className='form-input' placeholder='Streetname 1 A 1, 00100 Cityname' type='text' name='address' />,\n    <div key={id + 'addresserrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.address : ''}</div>,\n    <div key={id + 'companylabel'} className='form-label'>Company</div>,\n    <Field id={field + 'Company' + id} key={id + 'companyfield'} className='form-input' placeholder='Company name' type='text' name='company' />,\n    <div key={id + 'companyerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.company : ''}</div>,\n    <div key={id + 'picturelabel'} className='form-label'>Picture</div>,\n    <Field id={field + 'PictureUrl' + id} key={id + 'picturefield'} className='form-input' placeholder='Picture Url' type='text' name='pictureUrl' />,\n    <div key={id + 'pictureerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.pictureUrl : ''}</div>,\n  ])\n  if (field === 'profile') return ([\n    <div key={id + 'namelabel'} className='form-label'>Name</div>,\n    <Field id={field + 'Name' + id} key={id + 'namefield'} className='form-input' placeholder='Name' type='text' name='name' />,\n    <div key={id + 'nameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.name : ''}</div>,\n    <div key={id + 'contentlabel'} className='form-label'>Content</div>,\n    <Field id={field + 'Content' + id} key={id + 'contentfield'} className='form-textarea' placeholder='Content' as='textarea' type='text' name='content' />,\n    <div key={id + 'contenterrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.content : ''}</div>,\n  ])\n  if (field === 'communication') return ([\n    <div key={id + 'namelabel'}  className='form-label'>Name</div>,\n    <Field id={field + 'Name' + id} key={id + 'namefield'}className='form-input' placeholder='Name' type='text' name='name' disabled={isSubmitting} />,\n    <div key={id + 'nameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.name : ''}</div>,\n    <div key={id + 'languagesfield'} className='form-label language-label'>Languages</div>,\n    <FieldArray key={id + 'languagesfieldarray'} name=\"languages\" render={() => (\n      <div className='language-panel' key={values.id + 'languagepanel'}>\n        {values.languages && values.languages.map((language: any, index: number) => {\n          return (<div className='language-pair' key={index + 'language-pair'}>\n            <Field id={'LanguageNameField' + id + index} className='form-input' name={`languages.${index}.language`} placeholder='Language name' />\n            <MyCVFormLanguageLevelSelector\n              id={'LanguageLevelSelector' + id + index}\n              initLevel={language.level}\n              handleChange={(newLevel) => {\n                const newValues = {\n                  ...values,\n                  languages: values.languages.map((entry: { language: string, level: string }) =>\n                    entry.language === language.language ? { language: entry.language, level: newLevel } : entry)\n                }\n                setValues(newValues)\n              }\n            }/>\n            <button className='form-button' onClick={(event) => {\n              event.preventDefault()\n              const newValues = {\n                ...values,\n                languages: values.languages.filter((entry: { language: string, level: string }) =>\n                  entry.language !== language.language)\n              }\n              setValues(newValues)\n            }}>delete</button>\n          </div>)\n        })}\n        <button\n          id={'AddLanguage' + id}\n          className='add-language-button form-button'\n          disabled={isSubmitting}\n          onClick={(event) => {\n            event.preventDefault()\n            const newValues = {\n              ...values,\n              languages: values.languages.concat({ language: '', level: ILevel.Elementary })\n            }\n            setValues(newValues)\n          }}\n        >\n        add language\n        </button>\n      </div>\n    )} />,\n    <div key={id + 'languageerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.languages : ''}</div>,\n    <div key={id + 'contentlabel'} className='form-label'>Content</div>,\n    <Field id={field + 'Content' + id} key={id + 'contentfield'} className='form-textarea' placeholder='Content' as='textarea' type='text' name='content' disabled={isSubmitting} />,\n    <div key={id + 'contenterrormessage'} className='form-input-error-message'>{errors.id === id \n      ? errors.content : ''}</div>\n  ])\n  return([\n    <div key={id + 'namelabel'} className='form-label'>Name</div>,\n    <Field id={field + 'Name' + id} key={id + 'namefield'} className='form-input' placeholder='CV name' type='text' name='name' />,\n    <div key={id + 'nameerrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.name : ''}</div>,\n    <div key={id + 'githublabel'} className='form-label'>Github</div>,\n    <Field id={field + 'Github' + id} key={id + 'githubfield'} className='form-input' placeholder='Github url' type='text' name='github' />,\n    <div key={id + 'githuberrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.github : ''}</div>,\n    <div key={id + 'techlistlabel'} className='form-label'>Techlist</div>,\n    <Field id={field + 'Techlist' + id} key={id + 'techlistfield'} className='form-input' placeholder='Java, CSS, Python, ...' type='text' name='techlist' />,\n    <div key={id + 'techlisterrormessage'} className='form-input-error-message'>{errors.id === id\n      ? errors.techlist : ''}</div>,\n  ])\n  \n}\n\nconst mapDispatchToProps: DispatchProps = {\n  updateCVs, addEmptyCVObject, removeTempCVObject\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst MyCVFormPanel: React.FC<Props> = (props) => {\n\n  const formValues = props.formValues ? Object.fromEntries(Object.entries(props.formValues).map(([key, value]) => [key, value ? value : ''])) : null\n  \n  const showPanelId = false\n\n  const serviceType = props.serviceType\n  const location = useLocation()\n  const field = props.field\n  \n  if (formValues) {\n    const clearActionValues = props.formValues\n    ? Object.fromEntries(Object.entries(props.formValues).map(([key, value]) => key === 'id' ? [key, value] : [key, ''])) \n    : null\n    \n    return(\n      <Formik\n        initialValues={Object.fromEntries(\n          Object.entries(formValues)\n            .map(([key, value]) => key === 'content' ? [key, arrayToString(value)] : [key, value])\n        )}\n        enableReinitialize\n        validate={(values) => {\n          let validationResult = null\n          switch(field) {\n            case 'info': { \n              validationResult = InfoSchema.validate(values) \n              break \n            }\n            case 'projects': {\n              validationResult = ProjectSchema.validate(values) \n              break\n            }\n            case 'attachments': {\n              validationResult = InfoSchema.validate(values)\n              break\n            }\n            case 'reference': {\n              validationResult = ContactSchema.validate(values)\n              break\n            }\n            case 'skills': {\n              validationResult = InfoSchema.validate(values)\n              break\n            }\n            case 'contact': {\n              validationResult = ContactSchema.validate(values)\n              break\n            }\n            case 'profile': {\n              validationResult = ProfileSchema.validate(values)\n              break\n            }\n            case 'communication': {\n              validationResult = CommunicationSchema.validate(values)\n              break\n            }\n            case 'experience': {\n              validationResult = ExperienceSchema.validate(values)\n              break\n            }\n            case 'education': {\n              validationResult = ExperienceSchema.validate(values)\n              break\n            }\n            default: {\n              validationResult = CVSchema.validate(values)\n              break\n            }\n          }\n          const errorArray: [IDetails] = validationResult?.error?.details\n          console.log('errorArray before if', errorArray)\n          if (errorArray && errorArray.length > 0) {\n            const key = errorArray[0]?.context?.key\n            return {\n              [key]: errorArray[0].message.includes('fails to match the required pattern')\n                ? '\"' + errorArray[0].context.key + '\" has forbidden characters'\n                : errorArray[0].message,\n              id: formValues.id\n            }\n          }\n          return {}\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          if ( values.id.includes('temp')) {\n            const path = location.pathname\n            const id = path.substring('/myCV/'.length)\n            const newValues = Object.fromEntries(\n              Object.entries(values)\n                .filter(([key, value]) => formValues[key] !== value)\n                .map(([key, value]) => key === 'content' ? [key, stringToArray(value)] : [key, value])\n            )\n            cvService.createObject(serviceType, newValues, id, props.user, field).then(response => {\n              props.updateCVs(props.user)\n              setSubmitting(false)\n            })\n          } else {\n            const changes = Object.fromEntries(\n              Object.entries(values)\n                .filter(([key, value]) => formValues[key] !== value)\n                .map(([key, value]) => key === 'content' ? [key,stringToArray(value)] : [key, value])\n            )\n            cvService.modifyObject(serviceType, values.id, changes, props.user).then(response => {\n              props.updateCVs(props.user)\n              setSubmitting(false)\n            })\n          }\n        }}\n        key={formValues.id + field }\n      >\n        {({ isSubmitting, isValid, errors, values, setValues }) => (\n          <Form className='form-component'>\n            {showPanelId && values.id}\n\n            {renderChildren(formValues.id, isSubmitting, errors, values, setValues, props.field)}\n\n            <DeleteButton id={field + 'Delete' + formValues.id} isSubmitting={isSubmitting || field === 'contact' || field === ''} handleDelete={(event:any)=>{\n              event.preventDefault()\n              if ( values.id.includes('temp') ) {\n                const path = location.pathname\n                const CVid = path.substring('/myCV/'.length)\n                props.removeTempCVObject(CVid, field, values.id)\n              } else {\n                cvService.deleteObject(serviceType, values.id, props.user)\n                props.updateCVs(props.user)\n              }\n            }}/>\n            <ClearButton id={field + 'Clear' + formValues.id} isSubmitting={isSubmitting} values={values} clearActionValues={clearActionValues} setValues={setValues}/>\n            <CancelButton id={field + 'Cancel' + formValues.id} isSubmitting={isSubmitting} setValues={setValues} formValues={formValues}/>\n            <SaveButton id={field + 'Save' + formValues.id} isSubmitting={isSubmitting || !isValid}/>\n          </Form>\n        )}\n      </Formik>\n    )\n  } else { return (\n    <div\n      className='form-component-empty'\n      key={props.field+'-empty'}\n      onClick={()=>{\n        const path = location.pathname\n        const CVid = path.substring('/myCV/'.length)\n        props.addEmptyCVObject(CVid, field)\n      }}\n    >\n      <img id={props.field + 'Add'} src='plus.svg' width='100px' height='100px' alt='add' />\n    </div>\n  )}\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(MyCVFormPanel)\n","import React from 'react'\nimport { ICV, IProfile, ICommunication, IInfo, IContact, IProject, IExperience } from '../../services/cvService'\nimport FormPanel from './MyCVFormPanel'\nimport { ServiceType } from '../../services/cvService'\n\ninterface OwnProps {\n  cv: ICV | undefined\n}\n\nconst renderProfileForm = (profile:IProfile, field: string) => (\n  <FormPanel\n    formValues={{\n      id: profile.id,\n      name: profile.name,\n      content: profile.content,\n    }}\n    serviceType={ServiceType.PROFILE}\n    field={field}\n    key={profile.id}\n  />\n)\n\nconst renderCommunicationForm = (communication:ICommunication, field: string) => (\n<FormPanel\n  formValues={{\n    id: communication.id,\n    name: communication.name,\n    content: communication.content,\n    languages: communication.languages\n  }}\n  field={field}\n  serviceType={ServiceType.COMMUNICATION}\n  key={communication.id}\n  />\n)\n      \nconst renderInfoForm = (info: IInfo, field: string) => (\n  <FormPanel\n    formValues={{\n      id: info.id,\n      name: info.name,\n      content: info.content\n    }}\n    serviceType={ServiceType.INFO}\n    field={field}\n    key={info.id}\n  />\n)\n\nconst renderContactForm = (contact: IContact, field: string) => (\n  <FormPanel\n    formValues={{\n      id: contact.id,\n      address: contact.address,\n      company: contact.company,\n      email: contact.email,\n      firstname: contact.firstname,\n      lastname: contact.lastname,\n      linkedin: contact.linkedin,\n      phone: contact.phone,\n      phoneAvailable: contact.phoneAvailable,\n      pictureUrl: contact.pictureUrl\n    }}\n    serviceType={ServiceType.CONTACT}\n    field={field}\n    key={contact.id}\n  />\n)\n\nconst renderProjectForm = (project: IProject, field: string) => (\n  <FormPanel\n    formValues={{\n      id: project.id,\n      description: project.description,\n      githubUrl: project.githubUrl,\n      name: project.name,\n      showcaseUrl: project.showcaseUrl,\n      thumbnailUrl: project.thumbnailUrl\n    }}\n    serviceType={ServiceType.PROJECT}\n    field={field}\n    key={project.id}\n  />\n)\n\nconst renderExperienceForm = (experience: IExperience, field: string) => (\n  <FormPanel\n    formValues={{\n      id: experience.id,\n      description: experience.description,\n      name: experience.name,\n      timeFrame: experience.timeFrame,\n    }}\n    serviceType={ServiceType.EXPERIENCE}\n    field={field}\n    key={experience.id}\n  /> \n)\nconst MyCVForm: React.FC<OwnProps> = (props) => {\n  \n  const cv = props.cv\n              \n  if (cv) { return (\n    <div className='cvFormContainer'>\n      <div className='form-component-container'>\n        <FormPanel\n          formValues={{\n            id: cv.id,\n            name: cv.name,\n            github: cv.github,\n            techlist: cv.techlist\n          }}\n          serviceType={ServiceType.CV}\n          field=''\n        />\n      </div>\n        \n      <h3>Contact</h3>\n      <div className='form-component-container'>\n        {renderContactForm(cv.contact, 'contact')}\n      </div>\n      <h3>Profile</h3>\n      <div className='form-component-container'>\n        {cv.profile\n        ? renderProfileForm(cv.profile, 'profile')\n        : <FormPanel serviceType={ServiceType.PROFILE} field='profile' />}\n      </div>\n      <h3>Projects</h3>\n      <div className='form-component-container'>\n        {cv.projects && cv.projects.map((project) => renderProjectForm(project, 'projects'))}\n        <FormPanel serviceType={ServiceType.PROJECT} field='projects'/>\n      </div>\n      <h3>References</h3>\n      <div className='form-component-container'>\n        {cv.reference && cv.reference.map((ref) => renderContactForm(ref, 'reference'))}\n        <FormPanel serviceType={ServiceType.CONTACT} field='reference'/>\n      </div>\n      <h3>Work experience</h3>\n      <div className='form-component-container'>\n        {cv.experience && cv.experience.map((exp) => renderExperienceForm(exp, 'experience'))}\n        <FormPanel serviceType={ServiceType.EXPERIENCE} field='experience'/>\n      </div>\n      <h3>Education</h3>\n      <div className='form-component-container'>\n        {cv.education && cv.education.map((edu) => renderExperienceForm(edu, 'education'))}\n        <FormPanel serviceType={ServiceType.EXPERIENCE} field='education'/>\n      </div>\n      <h3>Communication</h3>\n      <div className='form-component-container'>\n        {cv.communication \n        ? renderCommunicationForm(cv.communication, 'communication') \n        : <FormPanel serviceType={ServiceType.COMMUNICATION} field='communication'/>}\n      </div>\n      <h3>Other skills</h3>\n      <div className='form-component-container'>\n        {cv.skills\n        ? renderInfoForm(cv.skills, 'skills')\n        : <FormPanel serviceType={ServiceType.INFO} field='skills' />}\n      </div>\n      <h3>Info</h3>\n      <div className='form-component-container'>\n        {cv.info\n        ? renderInfoForm(cv.info, 'info')\n        : <FormPanel serviceType={ServiceType.INFO} field='info' />}\n      </div>\n      <h3>Attachments</h3>\n      <div className='form-component-container'>\n        {cv.attachments\n        ? renderInfoForm(cv.attachments, 'attachments')\n        : <FormPanel serviceType={ServiceType.INFO} field='attachments' />}\n        {!cv.attachments && <p style={{height: '110px'}}/>}\n      </div>\n      <div id='EndOfPage'></div>\n    </div>\n  )\n} else {\n    return (\n      <div>CV not found</div>\n    )\n  }\n}\n\nexport default MyCVForm\n","import React, { useEffect } from 'react'\nimport './Preview.css'\nimport { connect } from 'react-redux'\nimport { AppState } from '..'\nimport { ICV, IContact, IExperience, ICommunication } from '../services/cvService'\nimport { setLoading } from '../reducers/loadingReducer'\n\nconst renderTimeFrame = (timeFrame: {startDate: Date, endDate: Date}) => {\n  const { startDate, endDate } = timeFrame\n  const duration = endDate.valueOf() - startDate.valueOf()\n  const month = 1000 * 60 * 60 * 24 * 30\n  const year = 1000 * 60 * 60 * 24 * 365\n  if (duration < month) \n    return <p>\n      {startDate.getFullYear()}/{startDate.getMonth() + 1}/{startDate.getDate()+1}\n      –\n      {endDate.getFullYear()}/{endDate.getMonth() + 1}/{endDate.getDate()+1}\n      </p>\n  if (duration < year) \n    return <p>\n        {startDate.getFullYear()}/{startDate.getMonth()+1}\n        –\n        {endDate.getFullYear()}/{endDate.getMonth()+1}\n      </p>\n  return <p>{startDate.getFullYear()} – {endDate.getFullYear()}</p>\n}\n\ninterface OwnProps {\n  preview?: ICV\n}\nexport interface StateProps {\n  cv?: ICV,\n}\nexport interface DispatchProps {\n  setLoading: (loading: boolean) => void\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    cv: state.cv.cvs[0]\n  }\n}\n\nconst mapDispatchToProps: DispatchProps = {\n  setLoading\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst Home: React.FC<Props> = (props) => {\n  const cv = props.preview || props.cv\n  if (!cv) {\n    return <div>No default cv</div>\n  } \n\n  // for preventing using componentDidUpdate\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useEffect(()=>{\n    props.setLoading(false)\n  },[props])\n\n  const contact = cv.contact\n  const reference: IContact[] | undefined = cv.reference\n  const experience: IExperience[] | undefined = cv.experience\n  const education: IExperience[] | undefined = cv.education\n  const communication: ICommunication | undefined = cv.communication\n\n  return (\n    <div className='cv-container'>\n      <div className='cv-container-item contact-container'>\n        <div>\n          <p id='NameInfo'>{contact.firstname} {contact.lastname}</p>\n          {contact.address && <p>{contact.address}</p>}\n          {contact.phone && <p>Phone num. {contact.phone}</p>}\n          {contact.email && <p>{contact.email}</p>}\n          {contact.linkedin && <p><a id='LinkedinProfile' href={contact.linkedin}>linkedin profile</a></p>}\n        </div>\n        <div>\n          <img id='ContactPicture' src={contact.pictureUrl} width='120px' alt='mypicture' />\n        </div>\n      </div>\n      <h1>Curriculum Vitae</h1>\n      <div className='cv-container-item cv-container-item-first'>\n        {cv.github && <p>Github: <a href={cv.github}>{cv.github}</a></p>}\n        {cv.techlist && <p>{cv.techlist}</p>}\n      </div>\n      {cv.profile && \n        <div className='cv-container-item cv-container-item-left'>\n          <h3><img src='profile.svg' width='45px' height='45px' alt='profileimage'/>Profile</h3>\n          <hr />\n          {cv.profile.content.map((paragraph, index) => <p key={`profile-p-${index}`} >{paragraph}</p>)}\n        </div>}\n      {cv.projects && cv.projects.length > 0 &&\n        <div className='cv-container-item cv-container-item-right'>\n          <h3><img src='project.svg' width='45px' height='40px' alt='icon'/>Projects</h3>\n          <hr />\n          {cv.projects.map((project, index) => \n            <div className='project-card' key={index + 'project'}>\n              <div style={{\n                width: '140px',\n                marginRight: '10px'\n              }}>\n                <img id={'thumbnailImage' + project.id} src={project.thumbnailUrl} width=\"100%\" alt='mypicture' />\n              </div>\n              <div>\n                <h4>{project.name}</h4>\n                <p>{project.description}</p>\n                <p className='project-card-links'>\n                  <a id={'githubLink' + project.id} href={project.githubUrl}>github</a>- <a id={'showcaseLink' + project.id} href={project.showcaseUrl}>showcase</a>\n                </p>\n              </div>\n            </div>\n          )}\n        </div>}\n      {reference && reference.length > 0 &&\n        <div className='cv-container-item'>\n          <h3><img src='reference.svg' width='40px' height='40px' alt='icon'/>References</h3>\n          <hr />\n          <div className='key-value-container'>\n            {reference.map((ref: IContact, index) => [\n              <div className='key-value-container-left' key={index+'-reference-left'}>\n                <p>{ref.firstname} {ref.lastname} {ref.company && '- ' + ref.company}</p> \n              </div>,\n              <div className='key-value-container-right' key={index+'-reference-right'}>\n                <p>Phone num. {ref.phone} ({ref.phoneAvailable})</p>\n                <p>{ref.email}</p>  \n              </div>\n            ])}\n          </div>\n        </div>}\n      {experience && experience.length > 0 &&\n        <div className='cv-container-item'>\n          <h3><img src='work.svg' width='55px' height='55px' alt='icon'/>Work Experience</h3>\n          <hr />\n          <div className='key-value-container'>\n            {experience.sort((a: IExperience, b: IExperience) =>\n              b.timeFrame.endDate.getTime() - a.timeFrame.endDate.getTime()\n            ).map((exp:IExperience, index) => [\n              <div className='key-value-container-left' key={index + '-experience-left'}>\n                {renderTimeFrame(exp.timeFrame)}\n              </div>,\n              <div className='key-value-container-right' key={index + '-experience-right'}>\n                <p>{exp.description}</p>\n              </div>\n            ])}\n          </div>\n        </div>}\n      {education && education.length > 0 &&\n        <div className='cv-container-item'>\n          <h3><img src='education.svg' width='45px' height='45px' alt='icon'/>Education</h3>\n          <hr/>\n          <div className='key-value-container'>\n            {education.sort((a: IExperience, b: IExperience) =>\n              b.timeFrame.endDate.getTime() - a.timeFrame.endDate.getTime()\n            ).map((edu: IExperience, index) => [\n              <div className='key-value-container-left' key={index + '-education-left'}>\n                {renderTimeFrame(edu.timeFrame)}\n              </div>,\n              <div className='key-value-container-right' key={index + '-education-right'}>\n                <p>{edu.description}</p>\n              </div>\n            ])}\n          </div>\n        </div>}\n      {communication &&\n        <div className='cv-container-item'>\n          <h3><img src='communication.svg' width='45px' height='45px' alt='icon'/>Communication</h3>\n          <hr />\n          <div className='language-container'>\n            {communication.languages.map((language,index) =>\n              <div key={index + 'language-container'}><p>{language.language}</p><p>:</p><p>{language.level}</p></div>\n            )}\n          </div>\n          {communication && communication.content.map((skill, index) =>\n            <p key={index + 'skill'}>{skill}</p>\n          )}\n        </div>}\n      {cv.skills &&\n        <div className='cv-container-item'>\n          <h3><img src='skills.svg' width='45px' height='45px' alt='icon'/>Other Skills</h3>\n          <hr />\n          {cv.skills.content.map((skill, index) =>\n            <p key={index + 'skill'}>{skill}</p>\n          )}\n        </div>}\n      {cv.attachments &&\n        <div className='cv-container-item'>\n          <h3><img src='attachment.svg' width='55px' height='45px' alt='icon'/>Attachments</h3>\n          <hr />\n          {cv.attachments.content.map((attachment, index) =>\n            <p key={index + 'attachment'}>{attachment}</p>\n          )}\n        </div>}\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\n","import React from 'react'\nimport Toolbar from '../Toolbar'\nimport { AppState } from '../..'\nimport { connect } from 'react-redux'\nimport './MyCV.css'\nimport cvService, { ICV, ServiceType } from '../../services/cvService'\nimport { Link, Route, useLocation } from 'react-router-dom'\nimport MyCVForm from './MyCVForm'\nimport { UserState } from '../../reducers/userReducer'\nimport { updateCVs, setPreviousCV } from '../../reducers/cvReducer'\nimport Home from '../Home'\nimport { showNotification, Type } from '../../reducers/notificationReducer'\nimport { setLoading } from '../../reducers/loadingReducer'\n\ninterface OwnProps {}\nexport interface StateProps { user: UserState, cvs?: ICV[] }\nexport interface DispatchProps {\n  updateCVs: (user: UserState) => void,\n  setPreviousCV: (id: string) => void,\n  showNotification: (message: string, type: Type, lifeTime?: number) => void,\n  setLoading: (loading: boolean) => void\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    user: state.user,\n    cvs: state.cv.cvs\n  }\n}\n\nconst mapDispatchToProps: DispatchProps = {\n  updateCVs,\n  setPreviousCV,\n  showNotification,\n  setLoading\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst MyCV: React.FC<Props> = (props) => {\n  \n  const location = useLocation()\n  const formActive = location.pathname.includes('/mycv/') ? false : true\n  const myCVs = props.cvs ? props.cvs : []\n  \n  const renderForm = (cvs: ICV[]) => {\n    return (\n      <Route exact path=\"/mycv/:id\" render={({ match }) => \n      <MyCVForm cv={cvs.find(cv => { return cv.id === match.params.id })}/>\n    }/>\n    )\n  }\n  \n  return(\n    <div>\n      <Route exact path=\"/preview/:id\" render={({ match }) => \n        <div>\n          <Toolbar>\n            <div>\n            <Link to={`/mycv/${match.params.id}`}>\n              <button id='ReturnToEditor' className='toolbar-button'>\n                Return to editor\n              </button>\n            </Link>\n          </div>\n        </Toolbar>\n        <Home preview={props.cvs?.find(cv => cv.id + '' === match.params.id)}/>\n        </div>\n      }/>\n      <Route path=\"/mycv\" render={({ match }) =>\n        <div>\n          <Toolbar>\n            <div>\n              <button id='DuplicateDefault' className='toolbar-button' onClick={(event) => {\n                event.preventDefault()\n                props.setLoading(true)\n                myCVs[0] && cvService.duplicateCV(myCVs[0], props.user, props.showNotification)\n                  .then((response) => {\n                    props.updateCVs(props.user)\n                    props.showNotification('Default CV duplicated', Type.SUCCESS, 6)\n                    props.setLoading(false)\n                  }).catch((error) => {\n                    if (error.response.data.error) {\n                      props.showNotification(error.response.data.error, Type.ERROR, 12)\n                    } \n                  })\n              }}>Duplicate Default</button>\n              <Route exact path=\"/mycv/:id\" render={({ match }) => [\n                <button\n                  id='SetAsDefaultCV'\n                  key={'toolbarbutton' + match.params.id}\n                  className='toolbar-button'\n                  disabled={formActive}\n                  onClick={(event) => {\n                      event.preventDefault()\n                      props.setLoading(true)\n                      cvService.setCVDefault(match.params.id, props.user)\n                    .then(() => {\n                      props.updateCVs(props.user)\n                      props.showNotification('Default CV updated', Type.SUCCESS, 4)\n                      props.setLoading(false)\n                    })\n                    .catch((error) => {\n                      if (error.response.data.error) {\n                        props.showNotification(error.response.data.error, Type.ERROR, 12)\n                      }\n                  })}}\n                >Set As Default CV</button>,\n                <Link key={'toolbarlink' + match.params.id} to={`/preview/${match.params.id}`}>\n                  <button id='Preview' className='toolbar-button'>Preview</button>\n                </Link>\n              ]}/> \n              <Route exact path=\"/mycv\" render={({ match }) => [\n                <button key='toolbar-button-1' className='toolbar-button' disabled> Set As Default CV</button>,\n                <button key='toolbar-button-2' className='toolbar-button' disabled>Preview</button>\n              ]} /> \n            </div>\n          </Toolbar>\n          <h1>My CV's</h1>\n          <div className='cv-selector'>\n            {myCVs && myCVs.length > 0 && myCVs.map((cv:ICV, index:number) => {\n              const locationid = location.pathname.substr(location.pathname.length - cv.id.length)\n              const selected = locationid === cv.id\n              return <div \n                className='cv-item' \n                key={cv.id}\n                style={{\n                  transition: 'margin-top 0.2s ease, margin-bottom 0.2s ease',\n                  marginTop: selected ? '10px' : '2px',\n                  marginBottom: selected ? '2px' : '10px'\n                }}\n              >\n              <Link id={'Select' + cv.id} className='cv-selector-item' to={`/mycv/${cv.id}`} onClick={()=>{props.setPreviousCV(cv.id)}}>\n                <img src='emptycv.svg' width='150px' height='180px' alt='document'/>\n                  {index === 0 && <div className='default-label'>default</div>}\n                <div style={{zIndex: 1}}>\n                  {cv.name}\n                  {Object.entries(cv).map(([key, value]) => value ? <p key={key}>{key + ': ' + value}</p> : '')}\n                </div>\n              </Link> \n              <button\n                id={'Delete' + cv.id}\n                onClick={(event) => {\n                  event.preventDefault()\n                  props.setLoading(true)\n                  cvService.deleteObject(ServiceType.CV, cv.id, props.user)\n                  .then((response) => {\n                    props.updateCVs(props.user)\n                    props.showNotification('CV ' + cv.name + ' deleted', Type.SUCCESS, 4)\n                    props.setLoading(false)\n                  })\n                }}\n              >\n                <img className='icon' src='delete.svg' width='17px' height='15px' alt='delete' />\n              </button>\n              </div>\n            })}\n            <img\n              id='CreateEmptyCV'\n              src='emptycvplus.svg'\n              width='150px'\n              height='180px'\n              alt='document'\n              onClick={(event)=>{\n                event.preventDefault()\n                props.setLoading(true)\n                cvService.createEmptyCV(props.user).then(response => {\n                  props.updateCVs(props.user)\n                  props.showNotification('Empty CV created', Type.SUCCESS, 4)\n                  props.setLoading(false)\n                })\n              }}\n            /> \n          </div>\n          {renderForm(myCVs)}\n        </div>\n      }/>\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyCV)\n\n","import React, { useState, useEffect } from 'react'\nimport { Message } from '../reducers/notificationReducer'\n\ninterface Props {\n  message: Message,\n  duration?: number,\n  deleteNotification: Function\n}\n\nconst NotificationMessage: React.FC<Props> = (props) => {\n  const message = props.message\n  const duration = props.duration\n  const [alive, setAlive] = useState(1)\n  const [animation, setAnimation] = useState(true)\n\n  useEffect(()=>{\n    if (duration) {\n      const timer = setTimeout(() => {\n        setAlive(0)\n        clearTimeout(timer)\n      }, 100);\n    }\n  },[duration])\n\n  const closeButton = () => {\n    const r = 9\n    return (\n    <svg version=\"1.1\"\n      id=\"Layer_1\"\n      x=\"0px\" y=\"0px\"\n      style={{\n        width: '20px',\n        height: '20px',\n        position: 'static',\n        transform: 'scale(1.2)'\n      }}\n      viewBox=\"0 0 20 20\"\n      >\n    <g transform=\"translate(10,10)\">\n      <circle\n        className=\"close-circle\"\n        style={{\n          fill: 'none',\n          backgroundColor: 'none',\n          opacity: duration ? '.25' : '0', \n          strokeWidth: r,\n          strokeDasharray: alive * r * 3.14 + ' ' + r * 3.14,\n          transition: 'stroke-dasharray ' + duration + 's linear',\n          transform: 'scale(-1,1) rotate(-135deg)'\n        }}  r={r/2}\n      />\n    </g>\n      <rect \n        x=\"0.81\" y=\"9.29\"\n        transform=\"matrix(-0.7071 0.7071 -0.7071 -0.7071 24.1421 10)\"\n        width=\"18.38\" height=\"1.41\"/>\n      <rect \n        x=\"0.66\" y=\"9.4\"\n        transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 10.038 -4.0285)\"\n        width=\"18.44\" height=\"1.41\"/>\n    </svg>\n  )} \n\n  const deleted = message.id.substr(8) === 'deleted'\n\n  return(\n    <div \n      key={message.id.substr(0,8)} \n      className={`notification ${message.type}`}\n      style={{\n        transition: 'all 0.4s ease',\n        maxHeight: deleted ? '0' : '50px',\n        paddingTop: deleted ? '0' : '10px',\n        paddingBottom: deleted ? '0' : '10px',\n        marginTop: deleted ? '0' : '5px',\n        marginBottom: deleted ? '0' : '4px',\n        overflow: deleted ? 'hidden' : 'auto',\n        display: animation ? 'grid' : 'none',\n      }}\n    >\n      <div className='notification-text'\n        style={{\n          transition: 'all 0.4s ease',\n          opacity: deleted ? '0' : '1'\n        }}\n      >{message.text}</div>\n      <div   \n        className='notification-close-button'\n        style={{\n          // transition: 'all 0.4s ease',\n          opacity: deleted ? '0' : '1',\n          marginTop: '2px',\n          minHeight: '20px',\n          minWidth: '20px'\n        }}\n        onClick={() => {\n          props.deleteNotification()\n          setAnimation(false)\n        }}\n      >{closeButton()}</div>\n    </div>\n  )\n}\n\nexport default NotificationMessage\n","import React, { useState, useEffect } from 'react'\nimport './Notification.css'\nimport { connect } from 'react-redux'\nimport { Message, deleteNotification } from '../reducers/notificationReducer'\nimport NotificationMessage from './NotificationMessage'\nimport { AppState } from '../index'\n\ninterface OwnProps {}\nexport interface StateProps {messages: Message[]}\nexport interface DispatchProps { deleteNotification: Function }\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    messages: state.notification.messages\n  }\n}\n\nconst mapDispatchToProps:DispatchProps = {\n  deleteNotification\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst NotificationArea: React.FC<Props> = (props) => {\n\n  const [messages, setMessages] = useState(props.messages)\n\n  useEffect(()=>{\n    const newMessages = props.messages.filter(\n      propsmessage => messages.findIndex(message => message.id === propsmessage.id) === -1\n    )\n    const newMessagesAndTaggedDeleted = messages.map(message => {\n      const propsMessageIndex = props.messages.findIndex(propsmessage => propsmessage.id === message.id)\n      if (propsMessageIndex === -1) {\n        const tempId = message.id.substr(0, 8) + 'deleted'\n        return { ...message, id: tempId }\n      }\n      return message\n    }).concat(newMessages)\n\n    if (newMessagesAndTaggedDeleted.find(message => {\n      return message.id.substr(8, 15) !== 'deleted'\n    })) {\n      setMessages(newMessagesAndTaggedDeleted)\n    } else {\n      setMessages([])\n    }\n    // adding messages to useEffect dependencies will crash the app\n    // eslint-disable-next-line\n  },[props.messages])\n\n  if ( messages ) {\n    return (\n      <div className='notificationContainer' style={{opacity: messages.length > 0 ? 1 : 0}}>\n        {messages.map( message => {\n          return (<NotificationMessage\n            key={message.id.substr(0,8)}\n            message={message}\n            deleteNotification={() =>\n              props.deleteNotification(message.id)}\n            duration={message.duration}>\n          </NotificationMessage>)\n        })}\n      </div>\n    )\n  }\n  return (\n    <div className='notificationContainer'></div>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotificationArea)\n","import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport Background from './background/HexaBackground'\nimport Menu from './components/Menu'\nimport Login from './components/Login'\nimport Footer from './components/Footer'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\n// import { ReactHeight } from './utils/react-height'\nimport Users from './components/Users/Users'\nimport About from './components/About'\nimport MyCV from './components/MyCVForm/MyCV'\nimport NotificationArea from './components/Notification'\nimport { connect } from 'react-redux'\nimport { AppState } from '.'\nimport { UserState } from './reducers/userReducer'\nimport { updateCVs } from './reducers/cvReducer'\nimport Home from './components/Home'\n\ninterface OwnProps {\n  updateStatus?: () => void\n}\nexport interface StateProps { user: UserState }\nexport interface DispatchProps {\n  updateCVs: (user: UserState) => void\n}\n\nconst mapStateToProps = (state: AppState, props: OwnProps) => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps: DispatchProps = {\n  updateCVs\n}\n\ntype Props = OwnProps & StateProps & DispatchProps\n\nconst App: React.FC<Props> = (props) => {\n  const { user } = props\n  const hideLogin = user && user.token.length > 2\n  const [ height, setHeight ] = useState(800)\n\n  console.log('running in',process.env.NODE_ENV)\n\n  useEffect(()=>{\n    const content = document.getElementById('content')\n    if ( content ) {\n      setHeight(content.clientHeight)\n    }\n    if (props.user && props.user.token.length > 0) {\n      props.updateCVs(props.user)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[])\n\n  const content = () => {\n    props.updateStatus && props.updateStatus()\n    if (!hideLogin) {\n      return (\n        <div className='content'>\n          <Login />\n        </div>\n      )\n    }\n    return (\n      <div className='content'>\n        <Route exact path='/'><Home /></Route>\n        <Route path='/users'><Users /></Route>\n        <Route path='/mycv'><MyCV /></Route>\n        <Route path='/preview'><MyCV /></Route> \n        <Route exact path='/about'><About /></Route>\n      </div>\n    )\n  }\n\n  return ( \n    <div className=\"App\" id=\"App\">\n      <Router>\n      <Menu showRoutes={!hideLogin}/>\n      <Background height={height}/>\n        {/* <ReactHeight onHeightReady={(h:any) => setHeight(h)}> */}\n        {content()}\n        {/* </ReactHeight> */}\n      <NotificationArea/>\n      <Footer/>\n      <Background height={height} bottom/>\n      </Router>\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport notificationReducer from './reducers/notificationReducer'\nimport userReducer from './reducers/userReducer'\nimport thunk from 'redux-thunk'\nimport cvReducer from './reducers/cvReducer';\nimport loadingReducer from './reducers/loadingReducer';\n\nexport const rootReducer = combineReducers({\n  notification: notificationReducer,\n  user: userReducer,\n  cv: cvReducer,\n  loader: loadingReducer\n})\n\nexport type AppState = ReturnType<typeof rootReducer>\n\nconst store = process.env.NODE_ENV === 'production'\n? createStore(rootReducer, applyMiddleware(thunk))\n: createStore(rootReducer, composeWithDevTools( applyMiddleware(thunk)))\n\ndeclare var window: any\nwindow.appStatus = false\nwindow.appStore = store\nconst updateStatus = () => {\n  window.appStatus = true\n}\n\nconst renderApp = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App updateStatus={updateStatus}/>\n    </Provider>,\n    document.getElementById('root')\n  )\n}\n\nrenderApp()\nstore.subscribe(renderApp)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}