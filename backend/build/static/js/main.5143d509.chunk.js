(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(21),l=a(5),s=(a(60),a(26)),o=a.n(s),m=(a(61),a(1));a(62),a(63);!function(e){e.EMPTY="",e.LIGHT="rgb(219, 223, 224)",e.GREY="rgb(195,202,209)",e.BLUE="rgb(189,205,219)",e.DARK="rgb(172,176,187)",e.STROKE_LIGHT="rgb(212, 213, 214)",e.STROKE_HIGHLIGHT="rgb(184, 191, 204)"}(n||(n={}));var u,d=function(e){var t=1.5/Math.sqrt(3),a=function(a,r,c,l,s,o){var m=3*c+2*l*t,u="rotate(-15) translate(".concat(e.bottom?"-100,220":"-100,0",")");return i.a.createElement("g",{key:"hexaRow".concat(o),transform:u},s.map((function(e,l){return function(e,a,r,c,l){if(c===n.EMPTY)return"";var s=c===n.LIGHT?n.STROKE_LIGHT:n.STROKE_HIGHLIGHT,o="".concat(e-r,", ").concat(a," "),m="".concat(e-.5*r,", ").concat(a-r*t," "),u="".concat(e+.5*r,", ").concat(a-r*t," "),d="".concat(e+r,",").concat(a," "),p="".concat(e+.5*r,", ").concat(a+r*t," "),f="".concat(e-.5*r,", ").concat(a+r*t," "),v=o.concat(m,u,d,p,f);return i.a.createElement("polygon",{key:l,points:v,style:{stroke:s,strokeWidth:3,fill:c}})}(a+m*l,r,c,e,"r".concat(o,"h").concat(l))})))},r=function(e){var t=[];return e.forEach((function(e,a){e<1?t.push(n.EMPTY):e<2?t.push(n.LIGHT):e<3?t.push(n.GREY):e<4?t.push(n.BLUE):t.push(n.DARK)})),t},c=function(n){var c=92*t+7;return i.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 1200 1200",preserveAspectRatio:(e.bottom,"xMidYMin slice"),className:e.bottom?"bottom-hexa":"top-hexa"},n.map((function(e,n){return n%2===0?a(0,0+c*n/2,46,7,r(e),n):a(69+7*t,0+46*t+3.5+c*(n-1)/2,46,7,r(e),n)})))};return e.bottom?i.a.createElement("div",{className:"background-bottom"},c([[1,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[2,1,0,0,0,0,0,0,0],[2,1,0,0,0,0,0,0],[3,1,0,0,0,0,0,0,0],[2,1,1,0,0,0,0,0],[3,2,1,1,0,0,0,0,1],[2,2,1,1,1,0,1,1],[3,2,2,1,1,1,1,1,1],[4,3,2,2,1,1,1,3],[3,3,3,3,2,2,3,3,2],[2,2,4,4,2,2,4,3],[2,2,3,2,3,3,3,2,3],[2,4,3,3,2,3,3,3],[2,2,3,2,3,3,3,2,3]])):i.a.createElement("div",{className:"background-top"},c([[3,2,3,2,3,3,3,2,3],[3,2,4,2,3,2,2,4],[3,2,3,2,2,4,4,3,3],[4,2,4,2,3,2,3,2],[3,2,2,2,3,3,2,3,3],[2,1,1,1,2,4,2,4],[3,1,1,1,1,4,2,2,2],[1,1,1,1,1,1,4,4,3],[1,1,1,1,1,1,1,2,4],[1,0,0,0,1,1,1,2,2],[1,0,0,0,0,1,1,1,2],[0,0,0,0,0,0,1,2],[0,0,0,0,0,1,1,1,2],[0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,1]]))},p=(a(64),a(7)),f=a.n(p),v=a(15),h=a(2),E=a(9),g=a.n(E),b=function(e){return{headers:{"Content-Type":"application/json",Authorization:"bearer "+e.token}}};!function(e){e.ERROR="error",e.SUCCESS="success",e.WARNING="warning"}(u||(u={}));var y,N=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},w={visible:!0,messages:[]},k=function(e,t,a){return function(){var n=Object(v.a)(f.a.mark((function n(r){var i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=N(),r({type:"SHOW_NOTIFICATION",data:[{text:e,id:i,type:t,duration:a}]}),a&&setTimeout((function(){r({type:"DELETE_NOTIFICATION",id:i,data:[]})}),1e3*a+700);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NOTIFICATION":var a=e.messages.concat(t.data),n={visible:!0,messages:a};return n;case"DELETE_NOTIFICATION":var r=e.messages.filter((function(e){return e.id!==t.id})),i={visible:r.length>0,messages:r};return i;default:return e}};!function(e){e.CV="",e.CONTACT="/contact",e.PROFILE="/profile",e.EXPERIENCE="/experience",e.COMMUNICATION="/communication",e.INFO="/info",e.PROJECT="/project"}(y||(y={}));var x,C=function(e,t,a,n,r){var i=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return"id"!==a&&"owner"!==a&&""!==n})));return g.a.post("/api/cv"+e,Object(h.a)({},i,{cv:{id:a,field:r||""}}),b(n)).then((function(e){return e.data})).catch((function(e){console.log("create object error:",e.response.data.error)}))},j={createObject:C,modifyObject:function(e,t,a,n){var r=Object.fromEntries(Object.entries(a).filter((function(e){var t=Object(m.a)(e,2),a=t[0];t[1];return"id"!==a})));return console.log(r),g.a.put("/api/cv"+e,{changes:r,id:t},b(n)).then((function(e){return e.data})).catch((function(e){console.log("modify object error:",e.response.data.error)}))},deleteObject:function(e,t,a){return g.a.delete("/api/cv"+e+"/"+t,b(a)).then((function(e){return e.data}))},getAllCV:function(e){return g.a.get("/api/cv",b(e)).then((function(e){return e.data.map((function(e){return Object(h.a)({},e,{communication:e.communication?e.communication[0]:null,skills:e.skills?e.skills[0]:null,info:e.info?e.info[0]:null,attachments:e.attachments?e.attachments[0]:null,experience:e.experience.map((function(e){return Object(h.a)({},e,{timeFrame:{startDate:new Date(e.timeFrame.startDate),endDate:new Date(e.timeFrame.endDate)}})})),education:e.education.map((function(e){return Object(h.a)({},e,{timeFrame:{startDate:new Date(e.timeFrame.startDate),endDate:new Date(e.timeFrame.endDate)}})}))})}))}))},createEmptyCV:function(e){return g.a.post("/api/cv"+y.CV,{name:"name-required",contact:{firstname:"firstname-required",lastname:"lastname-required"}},b(e)).then((function(e){return e.data}))},duplicateCV:function(e,t,a){var n={address:e.contact.address,company:e.contact.company,email:e.contact.email,firstname:e.contact.firstname,lastname:e.contact.lastname,linkedin:e.contact.linkedin,phone:e.contact.phone,phoneAvailable:e.contact.phoneAvailable,pictureUrl:e.contact.pictureUrl},r=e.profile?{content:e.profile.content,name:e.profile.name+" duplicate"}:null,i=e.projects?e.projects.map((function(e){return{description:e.description,githubUrl:e.githubUrl,name:e.name+" duplicate",showcaseUrl:e.showcaseUrl,thumbnailUrl:e.thumbnailUrl}})):null,c=e.reference?e.reference.map((function(e){return{address:e.address,company:e.company,email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone,phoneAvailable:e.phoneAvailable,pictureUrl:e.pictureUrl}})):null,l=e.experience?e.experience.map((function(e){return{description:e.description,name:e.name+" duplicate",timeFrame:{startDate:e.timeFrame.startDate,endDate:e.timeFrame.endDate}}})):null,s=e.education?e.education.map((function(e){return{description:e.description,name:e.name+" duplicate",timeFrame:{startDate:e.timeFrame.startDate,endDate:e.timeFrame.endDate}}})):null,o=e.communication?{name:e.communication.name+"duplicate",content:e.communication.content,languages:e.communication.languages.map((function(e){return{language:e.language,level:e.level}}))}:null,m=e.skills?{name:e.skills.name+" duplicate",content:e.skills.content}:null,d=e.info?{name:e.info.name+" duplicate",content:e.info.content}:null,p=e.attachments?{name:e.attachments.name+" duplicate",content:e.attachments.content}:null,h={name:e.name,contact:n,github:e.github,techlist:e.techlist};return g.a.post("/api/cv"+y.CV,h,b(t)).then(function(){var e=Object(v.a)(f.a.mark((function e(n){var h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=n.data.id,e.next=3,C(y.PROFILE,r,h,t,"profile");case 3:return i.map(function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(y.PROJECT,a,h,t,"projects");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.map(function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(y.CONTACT,a,h,t,"reference");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a&&a("Profile, projects and references duplicated",u.SUCCESS,4.2),l.map(function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(y.EXPERIENCE,a,h,t,"experience");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.map(function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(y.EXPERIENCE,a,h,t,"education");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a&&a("Experiences and education duplicated",u.SUCCESS,4.4),e.next=11,C(y.COMMUNICATION,o,h,t,"communication");case 11:return e.next=13,C(y.INFO,m,h,t,"skills");case 13:return e.next=15,C(y.INFO,p,h,t,"attachments");case 15:return a&&a("Communication, skills and attachments duplicated",u.SUCCESS,4.7),e.next=18,C(y.INFO,d,h,t,"info");case 18:return e.abrupt("return",n.data);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setCVDefault:function(e,t){var a={cvid:e};return g.a.post("/api/cv/default",a,b(t)).then((function(e){return e.data}))}},D={isFetching:!0},S=function(e){return{type:"SET_LOADING",data:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return{isFetching:t.data};default:return e}},U={cvs:[{attachments:{content:["...","...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},communication:{content:["..."],languages:[{language:"...",level:"..."},{language:"...",level:"..."}],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},education:[{timeFrame:{endDate:new Date("2020-01-14T12:34:33.498Z"),startDate:new Date("2020-01-14T12:34:33.498Z")},description:"...",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."}],experience:[{timeFrame:{endDate:new Date("2020-01-14T12:34:33.498Z"),startDate:new Date("2020-01-14T12:34:33.498Z")},description:"...",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."}],info:{content:["...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},projects:[{description:"...",githubUrl:"",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},showcaseUrl:"...",thumbnailUrl:"",id:"..."}],reference:[],skills:{content:["..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},contact:{address:"...",email:"...",firstname:"...",lastname:"...",linkedin:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},phone:"...",phoneAvailable:"...",company:"...",pictureUrl:"",id:"..."},github:"",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},profile:{content:["...","..."],name:"...",owner:{created:new Date("..."),name:"...",username:"...",id:"..."},id:"..."},techlist:"...",id:"..."}],lastOpened:""},V=function(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0="UPDATE_CVS",t.next=3,j.getAllCV(e);case 3:t.t1=t.sent,t.t2={cvs:t.t1},n={type:t.t0,data:t.t2},a(n),r={type:"SET_LOADING",data:!1},console.log("Setting loader false! from cvReducer"),a(r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CVS":return{cvs:t.data.cvs,lastOpened:t.data.cvs.length>1&&t.data.cvs.includes((function(t){return t.id===e.lastOpened}))?e.lastOpened:""};case"SET_PREVIOUS_CV":return{cvs:e.cvs,lastOpened:t.data.id};case"ADD_EMPTY_OBJECT":var a=e.cvs.find((function(e){return e.id===t.data.id}));if(!a)return e;switch(t.data.field){case"experience":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){var t={description:"",name:"",owner:a.owner,timeFrame:{startDate:new Date,endDate:new Date},id:"temp"+Math.floor(1e5*Math.random()+1)};return e.id===a.id?Object(h.a)({},a,{experience:a.experience?a.experience.concat(t):new Array(t)}):e}))};case"education":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={description:"",name:"",owner:a.owner,timeFrame:{startDate:new Date,endDate:new Date},id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{education:a.education?a.education.concat(t):new Array(t)})}return e}))};case"reference":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,address:"",company:"",email:"",firstname:"",lastname:"",linkedin:"",phone:"",phoneAvailable:"",pictureUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{reference:a.reference?a.reference.concat(t):new Array(t)})}return e}))};case"projects":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={description:"",githubUrl:"",name:"",owner:a.owner,showcaseUrl:"",thumbnailUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{projects:a.projects?a.projects.concat(t):new Array(t)})}return e}))};case"profile":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{profile:t})}return e}))};case"contact":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,address:"",company:"",email:"",firstname:"",lastname:"",linkedin:"",phone:"",phoneAvailable:"",pictureUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{contact:t})}return e}))};case"communication":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],languages:[],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{communication:t})}return e}))};case"skills":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{skills:t})}return e}))};case"info":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{info:t})}return e}))};case"attachments":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(h.a)({},a,{attachments:t})}return e}))};default:return e}case"REMOVE_TEMP_OBJECT":var n=e.cvs.find((function(e){return e.id===t.data.id}));if(!n)return e;switch(t.data.field){case"experience":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{experience:n.experience?n.experience.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"education":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{education:n.education?n.education.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"reference":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{reference:n.reference?n.reference.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"projects":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{projects:n.projects?n.projects.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"profile":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{profile:void 0}):e}))};case"contact":return e;case"communication":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{communication:void 0}):e}))};case"skills":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{skills:void 0}):e}))};case"info":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{info:void 0}):e}))};case"attachments":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(h.a)({},n,{attachments:void 0}):e}))};default:return e}default:return e}},R=a(20),A=a(8),I=window.localStorage.getItem("loggedUser")||null,P=I?JSON.parse(I):{token:"",username:"",name:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;case"LOGOUT_USER":return window.localStorage.removeItem("loggedUser"),{token:"",username:"",name:""};default:return e}},M={logoutUser:function(){return{type:"LOGOUT_USER"}},clearCVS:function(){return{type:"UPDATE_CVS",data:{cvs:U}}}},_=Object(l.b)((function(e,t){return{user:e.user,lastOpenedCV:e.cv.lastOpened,loading:e.loader.isFetching}}),M)((function(e){var t=Object(R.e)(),a=e.user&&e.user.token.length>2;return e.showRoutes?i.a.createElement("div",{className:"Menu"},i.a.createElement("div",{className:"cv-app-logo"},i.a.createElement("img",{src:"logo.svg",width:"38px",height:"38px",alt:"logo"}))):i.a.createElement("div",{className:"Menu"},i.a.createElement("div",{className:"cv-app-logo"},i.a.createElement("img",{src:"./logo.svg",width:"38px",height:"38px",alt:"logo"})),i.a.createElement("div",{className:"menu-items"},i.a.createElement(A.b,{id:"CurriculumVitae",to:"/"},i.a.createElement("div",{className:"/"===t.pathname?"menu-item selected":"menu-item"},"Curriculum Vitae")),i.a.createElement(A.b,{id:"Users",to:"/users"},i.a.createElement("div",{className:t.pathname.includes("/users")?"menu-item selected":"menu-item"},"Users")),i.a.createElement(A.b,{id:"MyCV",to:"/mycv".concat(e.lastOpenedCV.length>1?"/"+e.lastOpenedCV:"")},i.a.createElement("div",{className:t.pathname.includes("/mycv")?"menu-item selected":"menu-item"},"MyCV")),i.a.createElement(A.b,{id:"About",to:"/about"},i.a.createElement("div",{className:"/about"===t.pathname?"menu-item selected":"menu-item"},"About"))),i.a.createElement("div",{className:"settings"},a?i.a.createElement(A.b,{to:"/"},i.a.createElement("button",{id:"Logout",className:"setting-item logout-button",onClick:function(){e.logoutUser(),e.clearCVS()}},i.a.createElement("img",{src:"logout.svg",width:"17px",height:"15px",alt:"out"}),"logout")):i.a.createElement("button",{disabled:!0,className:"setting-item logout-button"},i.a.createElement("img",{className:"icon",src:"logout.svg",width:"17px",height:"15px",alt:"out"}),i.a.createElement("div",null,"logout"))))}));a(84);!function(e){e.TEXT="text",e.PASSWORD="password"}(x||(x={}));var G,W=function(e){var t=Object(r.useState)(""),a=Object(m.a)(t,2),n=a[0],i=a[1];return{type:e,value:n,onChange:function(e){i(e.currentTarget.value)}}},H=function(e,t){var a={username:e,password:t};return g.a.post("/api/login",a).then((function(e){return e.data}))},Y={showNotification:k,setUser:function(e){return{type:"SET_USER",data:e}},updateCVs:V,setLoading:S},B=Object(l.b)(null,Y)((function(e){var t=W(x.TEXT),a=W(x.PASSWORD),n=Object(r.useState)(!1),c=Object(m.a)(n,2),l=c[0],s=c[1],o=Object(r.useState)(!1),d=Object(m.a)(o,2),p=d[0],f=d[1];return i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:function n(r){r.persist(),r.preventDefault(),e.setLoading(!0),p||H(t.value,a.value).then((function(t){e.setUser(t),l&&window.localStorage.setItem("loggedUser",JSON.stringify(t)),e.showNotification("Login successful",u.SUCCESS,5),e.updateCVs(t)})).catch((function(t){if(t.response.data.error){var a=t.response.data.cooldownEnd&&t.response.data.cooldownEnd/1e3;if(a){e.showNotification("".concat(t.response.data.error),u.WARNING,a),f(!0);var i=setTimeout((function(){f(!1),clearTimeout(i),n(r)}),1e3*a+700)}else e.showNotification("".concat(t.response.data.error),u.ERROR,4)}else e.showNotification("No response from the server",u.ERROR,4)}))},className:"loginBox"},i.a.createElement("div",null,"Username:",i.a.createElement("input",Object.assign({disabled:p,className:"login-input",id:"username",name:"username"},t))),i.a.createElement("div",null,"Password:",i.a.createElement("input",Object.assign({disabled:p,className:"login-input",id:"password",name:"password"},a))),i.a.createElement("div",{className:"rememberme"},"Remember me",i.a.createElement("input",{id:"RememberMeCheckbox",type:"checkbox",defaultChecked:l,onChange:function(e){s(!l)}})),i.a.createElement("button",{id:"login",type:"submit",disabled:p,className:"login-button"},"Login")))})),X=(a(85),Object(l.b)((function(e,t){return{user:e.user}}),null)((function(e){return e.user&&e.user.name.length>2&&e.user?i.a.createElement("div",{className:"Footer"},"Logged in as ",e.user.name):i.a.createElement("div",{className:"Footer"},"You are not logged in")}))),Z=(a(86),function(e){var t=e.user,a=t.name,n=t.username,r=t.id,c=t.created,l=t.expires;return i.a.createElement("tr",{key:"usertr"+r},i.a.createElement("td",null,i.a.createElement(A.b,{id:"LinkTo".concat(n),to:"/users/".concat(n)},n)),i.a.createElement("td",null,a),i.a.createElement("td",null,c.toString().substring(0,10)," / ",l?l.toString().substring(0,10):"-never-"),i.a.createElement("td",null,"rampemus"===n?"Admin":"User"),i.a.createElement("td",null,i.a.createElement("button",{id:"Delete".concat(n),onClick:function(){return e.handleUserDelete()}},i.a.createElement("img",{className:"icon",src:"delete.svg",width:"17px",height:"15px",alt:"delete"}),"Delete")))}),J=function(e){return g.a.get("/api/users",b(e)).then((function(e){return e.data}))},z=function(e,t,a,n,r){var i=t||a||n?{username:t,name:a,password:n,expires:r}:{};return g.a.post("".concat("/api/users"),i,b(e)).then((function(e){return e}))},K=function(e,t){return g.a.delete("".concat("/api/users","/").concat(e),b(t)).then((function(e){return e}))},$=function(e,t){return g.a.post("/api/users/owner",{id:e},b(t)).then((function(e){return e.data}))},q=function(e,t,a){return g.a.put("/api/users",{changes:a,id:t},b(e)).then((function(e){return e}))},Q=(a(87),function(e){return i.a.createElement("div",{className:"toolbar"},e.children)}),ee=a(3),te=a(89),ae=te.string().regex(/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe5\u0105\u010d\u0107\u0119\xe8\xe9\xea\xeb\u0117\u012f\xec\xed\xee\xef\u0142\u0144\xf2\xf3\xf4\xf6\xf5\xf8\xf9\xfa\xfb\xfc\u0173\u016b\xff\xfd\u017c\u017a\xf1\xe7\u010d\u0161\u017e\xc0\xc1\xc2\xc4\xc3\xc5\u0104\u0106\u010c\u0116\u0118\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\u012e\u0141\u0143\xd2\xd3\xd4\xd6\xd5\xd8\xd9\xda\xdb\xdc\u0172\u016a\u0178\xdd\u017b\u0179\xd1\xdf\xc7\u0152\xc6\u010c\u0160\u017d\u2202\xf0 ,.()!?"#\u20ac$%&@\xa3\xa7|{}'-\\$\n\u2019`\xb4]*$/).max(1e3).empty(""),ne=te.string().regex(/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe5\u0105\u010d\u0107\u0119\xe8\xe9\xea\xeb\u0117\u012f\xec\xed\xee\xef\u0142\u0144\xf2\xf3\xf4\xf6\xf5\xf8\xf9\xfa\xfb\xfc\u0173\u016b\xff\xfd\u017c\u017a\xf1\xe7\u010d\u0161\u017e\xc0\xc1\xc2\xc4\xc3\xc5\u0104\u0106\u010c\u0116\u0118\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\u012e\u0141\u0143\xd2\xd3\xd4\xd6\xd5\xd8\xd9\xda\xdb\xdc\u0172\u016a\u0178\xdd\u017b\u0179\xd1\xdf\xc7\u0152\xc6\u010c\u0160\u017d\u2202\xf0 ,.()!"#\u20ac$%&@\xa3\xa7|{}'-\u2019`\xb4]*$/).max(300),re=te.string().alphanum().min(4).max(30),ie=te.string().regex(/^[a-zA-Z0-9!#%&]*$/).min(8).max(64),ce=te.string().regex(/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe5\u0105\u010d\u0107\u0119\xe8\xe9\xea\xeb\u0117\u012f\xec\xed\xee\xef\u0142\u0144\xf2\xf3\xf4\xf6\xf5\xf8\xf9\xfa\xfb\xfc\u0173\u016b\xff\xfd\u017c\u017a\xf1\xe7\u010d\u0161\u017e\xc0\xc1\xc2\xc4\xc3\xc5\u0104\u0106\u010c\u0116\u0118\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\u012e\u0141\u0143\xd2\xd3\xd4\xd6\xd5\xd8\xd9\xda\xdb\xdc\u0172\u016a\u0178\xdd\u017b\u0179\xd1\xdf\xc7\u0152\xc6\u010c\u0160\u017d\u2202\xf0 ,.'-]*$/).max(100),le=te.object().keys({id:te.any(),github:te.string().uri().empty(""),name:ne,techlist:ae.empty(""),contact:te.any(),profile:te.any(),projects:te.any(),reference:te.any(),experience:te.any(),education:te.any(),communication:te.any(),skills:te.any(),info:te.any(),attachments:te.any()}),se=te.object().keys({id:te.any(),content:ae,name:ne}),oe=te.object().keys({id:te.any(),content:ae,languages:te.array().items(te.object()),name:ne}),me=te.object().keys({id:te.any(),description:ae,name:ne,timeFrame:te.object()}),ue=te.object().keys({id:te.any(),content:ae,name:ne}),de=te.object().keys({id:te.any(),description:ae,githubUrl:te.string().uri().empty(""),name:ne,showcaseUrl:te.string().uri().empty(""),thumbnailUrl:te.string().uri().empty("")}),pe=te.object().keys({id:te.any(),address:ne.empty(""),company:ne.empty(""),email:te.string().email({minDomainSegments:2,tlds:{allow:["com","net","fi"]}}).empty(),firstname:ne,lastname:ne,linkedin:te.string().uri().empty(""),phone:ne.empty(""),phoneAvailable:ne.empty(""),pictureUrl:te.string().uri().empty("")}),fe=te.object().keys({expires:te.any(),name:ce.empty(""),password:ie.empty(""),oldPassword:ie.empty(""),passwordConfirm:ie.empty(""),username:re.empty("")}),ve={showNotification:k,setLoading:S};!function(e){e[e.TWO_WEEKS=Date.now()+12096e5]="TWO_WEEKS",e[e.ONE_MONTH=Date.now()+2592e6]="ONE_MONTH"}(G||(G={}));var he,Ee=Object(l.b)((function(e,t){return{user:e.user}}),ve)((function(e){var t,a,n=Object(r.useState)(void 0),c=Object(m.a)(n,2),l=c[0],s=c[1];return i.a.createElement(ee.d,{initialValues:{name:(null===(t=e.formValues)||void 0===t?void 0:t.name)||"",username:(null===(a=e.formValues)||void 0===a?void 0:a.username)||"",password:"",passwordConfirm:"",oldPassword:""},enableReinitialize:!0,validate:function(e){var t,a,n,r,i,c,l=fe.validate(e,!0);if(!l.error)return{};var s=null===(t=l.error)||void 0===t?void 0:t.details.map((function(e){return Object(h.a)({},e,{message:e.message.includes("fails to match the required pattern")?'"name" has forbidden characters':e.message})}));return{name:null===(a=s.find((function(e){return"name"===e.context.key})))||void 0===a?void 0:a.message,username:null===(n=s.find((function(e){return"username"===e.context.key})))||void 0===n?void 0:n.message,password:null===(r=s.find((function(e){return"password"===e.context.key})))||void 0===r?void 0:r.message,passwordConfirm:null===(i=s.find((function(e){return"passwordConfirm"===e.context.key})))||void 0===i?void 0:i.message,oldPassword:null===(c=s.find((function(e){return"oldPassword"===e.context.key})))||void 0===c?void 0:c.message}},onSubmit:function(t,a){var n=a.setSubmitting,r=a.setValues;if(e.setLoading(!0),e.newUser)t.password===t.passwordConfirm?z(e.user,t.username,t.name,t.password,l).then((function(t){s(void 0),e.showNotification("User ".concat(t.data.name," was created"),u.SUCCESS,4),e.reloadUsers(),e.closeForm(),r({name:"",username:"",password:"",passwordConfirm:"",oldPassword:""}),e.setLoading(!1)})).catch((function(t){return e.showNotification(t.response.data.error,u.ERROR,5)})):e.showNotification("Password and password confirmation does not match",u.WARNING,4);else{var i,c={name:e.formValues&&e.formValues.name!==t.name?t.name:void 0,username:e.formValues&&e.formValues.username!==t.username?t.username:void 0,password:t.oldPassword.length>8?t.oldPassword:void 0,newPassword:t.passwordConfirm.length>8?t.passwordConfirm:void 0,expires:e.formValues&&e.formValues.expires&&e.formValues.expires!==l?l:void 0};q(e.user,(null===(i=e.formValues)||void 0===i?void 0:i.id)||"",c).then((function(t){e.reloadUsers(),e.closeForm(),e.showNotification("User modifications updated successfully",u.SUCCESS,5),e.setLoading(!1)})).catch((function(t){e.showNotification(t.response.data.error,u.ERROR,5)}))}n(!1),e.closeForm()}},(function(t){var a,n=t.isSubmitting,r=t.isValid,c=t.errors;return i.a.createElement(ee.c,null,e.newUser?"Create new user":"Modify user "+(null===(a=e.formValues)||void 0===a?void 0:a.username)+":",i.a.createElement("p",null,"Full name"),i.a.createElement(ee.a,{id:"NewUserFullName",key:"namefield",className:"user-form-input",placeholder:"Full Name",type:"text",name:"name",disabled:n}),i.a.createElement("div",{key:"nameerrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.name),i.a.createElement("p",null,"Username"),i.a.createElement(ee.a,{id:"NewUserName",key:"usernamefield",className:"user-form-input",placeholder:"Username",type:"text",name:"username",disabled:n}),i.a.createElement("div",{key:"usernameerrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.username),e.newUser?i.a.createElement("p",null,"User is valid"):i.a.createElement("p",null,"User is valid after changes (admin only)"),i.a.createElement("div",null,i.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return s(new Date(G.TWO_WEEKS))}})," a fortnight",i.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return s(new Date(G.ONE_MONTH))}})," a month",i.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return s(null)}})," forever"),!e.newUser&&i.a.createElement("p",{key:"olduserparagraph"},"Re-enter old password"),!e.newUser&&i.a.createElement(ee.a,{id:"OldPassword",key:"oldpasswordfield",className:"user-form-input",type:"password",name:"oldPassword",disabled:n}),i.a.createElement("div",{key:"oldpassworderrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.oldPassword),e.newUser?i.a.createElement("p",null,"Password for new user"):i.a.createElement("p",null,"New password"),i.a.createElement(ee.a,{id:"NewPassword",key:"passwordfield",className:"user-form-input",type:"password",name:"password",disabled:n}),i.a.createElement("div",{key:"passworderrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.password),e.newUser?i.a.createElement("p",null,"Confirm password"):i.a.createElement("p",null,"Confirm new password"),i.a.createElement(ee.a,{id:"NewPasswordConfirm",key:"confirmpasswordfield",className:"user-form-input",type:"password",name:"passwordConfirm",disabled:n}),i.a.createElement("div",{key:"passwordconfirmationerrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.passwordConfirm),i.a.createElement("div",{style:{textAlign:"right",marginTop:"10px"}},i.a.createElement("button",{className:"toolbar-button",onClick:function(t){t.preventDefault(),e.closeForm()}},"Cancel"),i.a.createElement("button",{id:"SubmitUserForm",className:"toolbar-button",type:"submit",disabled:n||!r},e.newUser?"Submit":"Submit changes")))}))})),ge=Object(l.b)((function(e,t){return{userForHeaders:e.user}}),null)((function(e){var t=e.user,a=Object(r.useState)(null),n=Object(m.a)(a,2),c=n[0],l=n[1],s=Object(r.useState)(!1),o=Object(m.a)(s,2),u=o[0],d=o[1];if(Object(r.useEffect)((function(){t&&t.id&&$(t.id,e.userForHeaders).then((function(e){l(e)}))}),[t]),t){var p=t.expires?new Date(t.expires).valueOf()-Date.now().valueOf():0,f=t.expires?p>0?"User expires after "+Math.floor(p/864e5)+" days "+Math.floor(p%864e5/36e5)+" hours":"User is expired":"User never expires",v=c?new Date(c.created):new Date;return i.a.createElement("div",null,i.a.createElement(Q,null,i.a.createElement("div",null,i.a.createElement("button",{disabled:!0,className:"toolbar-button"},"add random user"),i.a.createElement("button",{disabled:!0,className:"toolbar-button"},"add user..."),i.a.createElement("button",{id:"EditUser",className:"toolbar-button",onClick:function(){d(!u)}},"edit user..."),i.a.createElement("div",{className:"formContainer",style:{display:u?"block":"none"}},i.a.createElement(Ee,{newUser:!1,formValues:{id:e.user?e.user.id:"",name:e.user?e.user.name:"",username:e.user?e.user.username:"",expires:e.user&&e.user.expires?new Date(e.user.expires):void 0},closeForm:function(){return d(!1)},reloadUsers:function(){e.updateUser()}})))),i.a.createElement("h1",null,t.username),i.a.createElement("h3",null,"Information"),i.a.createElement("p",null,t.name),i.a.createElement("p",null,c?"User created by "+c.username+" "+v.getFullYear()+"-"+v.getMonth()+"-"+v.getDay():"User has no owner"),i.a.createElement("p",null,f))}return i.a.createElement("div",null,"User not found")})),be={showNotification:k,setLoading:S},ye=Object(l.b)((function(e,t){return{user:e.user}}),be)((function(e){var t=Object(r.useState)([]),a=Object(m.a)(t,2),n=a[0],c=a[1];Object(r.useEffect)((function(){l()}),[]);var l=function(){J(e.user).then((function(t){c(t),e.setLoading(!1)})).catch((function(t){e.showNotification("Request for retrieving users was denied. "+t.response.data.error,u.ERROR,4)}))},s=Object(r.useState)(!1),o=Object(m.a)(s,2),d=o[0],p=o[1],f=Object(R.e)();return!!(f.pathname.includes("/users")&&f.pathname.length>"/users/".length)?i.a.createElement(R.a,{exact:!0,path:"/users/:username",render:function(t){var a=t.match;return i.a.createElement(ge,{user:n.find((function(e){return e.username===a.params.username})),userForHeaders:e.user,updateUser:function(){return l()}})}}):i.a.createElement("div",null,i.a.createElement(Q,null,i.a.createElement("div",null,i.a.createElement("button",{id:"AddRandomUser",className:"toolbar-button",onClick:function(){return e.setLoading(!0),void z(e.user).then((function(t){e.showNotification("User ".concat(t.data.name," created. Username/password is ").concat(t.data.username,"/").concat(t.data.password),u.SUCCESS),l()})).catch((function(t){return e.showNotification(t.response.data.error,u.ERROR,5)}))}},"add random user"),i.a.createElement("button",{id:"AddUser",className:"toolbar-button",onClick:function(){p(!d)}},"add user..."),i.a.createElement("button",{disabled:!0,className:"toolbar-button"},"edit user...")),i.a.createElement("div",{className:"formContainer",style:{display:d?"block":"none"}},i.a.createElement(Ee,{newUser:!0,closeForm:function(){return p(!1)},reloadUsers:function(){return l()}}))),i.a.createElement("h1",null,"Users"),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Username"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Created/Expires"),i.a.createElement("th",null,"Status"),i.a.createElement("th",null)),n.map((function(t){return i.a.createElement(Z,{key:"usersrow"+t.id,user:t,handleUserDelete:function(){return function(t){e.setLoading(!0);var a=n.find((function(e){return e.id===t}));a?K(t,e.user).then((function(r){c(n.filter((function(e){return e.id!==t}))),e.showNotification("User ".concat(a.name," was deleted"),u.SUCCESS,3),e.setLoading(!1)})).catch((function(t){return e.showNotification(t.response.data.error,u.ERROR,5)})):e.showNotification("User does not exist",u.ERROR,5)}(t.id)}})})))))})),Ne=function(e){return i.a.createElement("div",null,i.a.createElement("h1",null,"About this site"),i.a.createElement("p",null,"This single-page-app will show my CV information and also deliver a simple graphical UI for creating and modifying CV data."),i.a.createElement("p",null,"Almost everything in this site is crafted from scratch (all the way from user authentication to datePicker-components). To make things more simple I have added ready made libraries to help organize things. Biggest impact was done by Formik to make forms on the page to be a bit less painful."),i.a.createElement("p",null,"Please take a look of my source code in my ",i.a.createElement("a",{href:"https://github.com/rampemus/cvapp"},"github")),i.a.createElement("h3",null,"Version 1.1 - 2020/5/21"),i.a.createElement("p",null,"Firefox bugs fixed and added css to view in mobile devices."),i.a.createElement("h3",null,"Version 1.0 - 2020/4/12"),i.a.createElement("p",null,"Bugs fixed, tests added and deployment automation added."),i.a.createElement("h3",null,"Version 0.4 - 2020/3/6"),i.a.createElement("p",null,"Validation added and security measures added."),i.a.createElement("h3",null,"Version 0.3 - 2020/3/1"),i.a.createElement("p",null,"Notifications and animations added and login logic changed."),i.a.createElement("h3",null,"Version 0.2 - 2020/2/26"),i.a.createElement("p",null,"Fixed most of bugs away and bunch tests created for ",i.a.createElement("a",{href:"https://github.com/rampemus/cvapp/tree/master/backend"},"backend"),"."),i.a.createElement("h3",null,"Version 0.1 - 2020/2/5"),i.a.createElement("p",null,"For now, some of the code is not yet nicely organized but things will get better. Other bigger changes will be that the tests will be implemented in the future for creating a automated pipeline. Many changes will be done for the deployment and for the backend. Therefore, I wish you visit my github for changes."))},we=(a(107),a(23)),ke=function(e){var t=e.id,a=e.isSubmitting;return i.a.createElement("button",{id:t,className:"form-delete-button form-button",type:"submit",onClick:e.handleDelete,disabled:a},"Delete")},Oe=function(e){var t=e.id,a=e.isSubmitting,n=e.values,r=e.clearActionValues,c=e.setValues;return i.a.createElement("button",{id:t,className:"form-clear-button form-button",type:"submit",disabled:a,onClick:function(e){e.preventDefault(),c(Object(h.a)({},n,{},r))}},"Clear")},xe=function(e){var t=e.id,a=e.isSubmitting,n=e.setValues,r=e.formValues;return i.a.createElement("button",{id:t,className:"form-cancel-button form-button",type:"submit",disabled:a,onClick:function(e){e.preventDefault(),n(Object(h.a)({},r))}},"Cancel")},Ce=function(e){var t=e.id,a=e.isSubmitting;return i.a.createElement("button",{id:t,className:"form-save-button form-button",type:"submit",disabled:a},"Save")},je=function(e,t){for(var a=[],n=0;n<t-e;n++)a.push(e+n);return a},De=["January","February","March","April","May","June","July","August","September","October","November","December"],Se=function(e){var t=new Date(e.date),a=e.id,n=Object(r.useState)(t.getFullYear()),c=Object(m.a)(n,2),l=c[0],s=c[1],o=Object(r.useState)(t.getMonth()),u=Object(m.a)(o,2),d=u[0],p=u[1],f=Object(r.useState)(t.getDate()),v=Object(m.a)(f,2),h=v[0],E=v[1],g=Object(r.useState)(31),b=Object(m.a)(g,2),y=b[0],N=b[1];Object(r.useEffect)((function(){N(new Date(l,d+1,0).getDate())}),[l,d]);return i.a.createElement("div",null,i.a.createElement("select",{id:"Year"+a,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);s(a),e.handleChange(new Date(a,d,h))},value:l,className:"year-selector"},je(2e3,2030).map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))),i.a.createElement("select",{id:"Month"+a,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);p(a),e.handleChange(new Date(l,a,h))},value:d,className:"month-selector"},je(0,12).map((function(e){return i.a.createElement("option",{key:e,value:e},De[e])}))),i.a.createElement("select",{id:"Day"+a,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);E(a),e.handleChange(new Date(l,d,a))},value:h,className:"day-selector"},je(1,y+1).map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))))};!function(e){e.Elementary="Elementary",e.EveryDay="Every day proficiency",e.Working="Working proficiency",e.Advanced="Advanced",e.Professional="Professional",e.Native="Native speaker"}(he||(he={}));var Te=[he.Elementary,he.EveryDay,he.Working,he.Advanced,he.Professional,he.Native],Ue=function(e){var t=Object(r.useState)(e.initLevel),a=Object(m.a)(t,2),n=a[0],c=a[1];Object(r.useEffect)((function(){c(e.initLevel)}),[e.initLevel]);return i.a.createElement("div",null,i.a.createElement("select",{id:e.id,onChange:function(t){t.preventDefault(),c(t.target.value),e.handleChange(t.target.value.toString())},value:n,className:"language-level-selector"},Te.map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))))},Ve=function(e){return e.split("\n")},Fe={updateCVs:V,addEmptyCVObject:function(e,t){return{type:"ADD_EMPTY_OBJECT",data:{id:e,field:t}}},removeTempCVObject:function(e,t,a){return{type:"REMOVE_TEMP_OBJECT",data:{id:e,field:t,objectId:a}}}},Re=Object(l.b)((function(e,t){return{user:e.user}}),Fe)((function(e){var t=e.formValues?Object.fromEntries(Object.entries(e.formValues).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return[a,n||""]}))):null,a=e.serviceType,n=Object(R.e)(),r=e.field;if(t){var c=e.formValues?Object.fromEntries(Object.entries(e.formValues).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return"id"===a?[a,n]:[a,""]}))):null;return i.a.createElement(ee.d,{initialValues:Object.fromEntries(Object.entries(t).map((function(e){var t,a=Object(m.a)(e,2),n=a[0],r=a[1];return"content"===n?[n,(t=r,t.join("\n"))]:[n,r]}))),enableReinitialize:!0,validate:function(e){var a,n,i=null;switch(r){case"info":i=se.validate(e);break;case"projects":i=de.validate(e);break;case"attachments":i=se.validate(e);break;case"reference":i=pe.validate(e);break;case"skills":i=se.validate(e);break;case"contact":i=pe.validate(e);break;case"profile":i=ue.validate(e);break;case"communication":i=oe.validate(e);break;case"experience":case"education":i=me.validate(e);break;default:i=le.validate(e)}var c=null===(a=i)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.details;if(console.log("errorArray before if",c),c&&c.length>0){var l,s,o,m=null===(l=c[0])||void 0===l||null===(s=l.context)||void 0===s?void 0:s.key;return o={},Object(we.a)(o,m,c[0].message.includes("fails to match the required pattern")?'"'+c[0].context.key+'" has forbidden characters':c[0].message),Object(we.a)(o,"id",t.id),o}return{}},onSubmit:function(i,c){var l=c.setSubmitting;if(i.id.includes("temp")){var s=n.pathname.substring("/myCV/".length),o=Object.fromEntries(Object.entries(i).filter((function(e){var a=Object(m.a)(e,2),n=a[0],r=a[1];return t[n]!==r})).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return"content"===a?[a,Ve(n)]:[a,n]})));j.createObject(a,o,s,e.user,r).then((function(t){e.updateCVs(e.user)}))}else{var u=Object.fromEntries(Object.entries(i).filter((function(e){var a=Object(m.a)(e,2),n=a[0],r=a[1];return t[n]!==r})).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return"content"===a?[a,Ve(n)]:[a,n]})));j.modifyObject(a,i.id,u,e.user).then((function(t){e.updateCVs(e.user),l(!1)}))}},key:t.id+r},(function(l){var s=l.isSubmitting,o=l.isValid,m=l.errors,u=l.values,d=l.setValues;return i.a.createElement(ee.c,{className:"form-component"},!1,function(e,t,a,n,r,c){return"experience"===c||"education"===c?[i.a.createElement("div",{key:e+"namelabel",className:"form-label"},"Name"),i.a.createElement(ee.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name",disabled:t}),i.a.createElement("div",{key:e+"nameerrormessage",className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{key:e+"durationlabel",className:"form-label"},"Time duration"),i.a.createElement("div",{key:e+"timeframecontainer",className:"timeFrameContainer"},i.a.createElement("div",null,i.a.createElement(Se,{id:"StartTime"+e,date:n.timeFrame.startDate,handleChange:function(e){r(Object(h.a)({},n,{timeFrame:{startDate:e,endDate:n.timeFrame.endDate}}))}})),i.a.createElement("div",{className:"time-divider"},"-"),i.a.createElement("div",null,i.a.createElement(Se,{id:"EndTime"+e,date:n.timeFrame.endDate,handleChange:function(e){r(Object(h.a)({},n,{timeFrame:{startDate:n.timeFrame.startDate,endDate:e}}))}}))),i.a.createElement("div",{key:e+"timeframeerrormessage",className:"form-input-error-message"},a.id===e?a.timeFrame:""),i.a.createElement("div",{key:e+"descriptionlabel",className:"form-label"},"Description"),i.a.createElement(ee.a,{id:c+"Descritpion"+e,key:e+"descriptionfield",className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"description",disabled:t}),i.a.createElement("div",{key:e+"descriptionerrormessage",className:"form-input-error-message"},a.id===e?a.description:"")]:"info"===c||"attachments"===c||"skills"===c?[i.a.createElement("div",{key:e+"namelabel",className:"form-label"},"Name"),i.a.createElement(ee.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name"}),i.a.createElement("div",{key:e+"nameerrormessage",className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{key:e+"contentlabel",className:"form-label"},"Content"),i.a.createElement(ee.a,{id:c+"Content"+e,key:e+"contentfield",className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content"}),i.a.createElement("div",{key:e+"contenterrormessage",className:"form-input-error-message"},a.id===e?a.content:"")]:"projects"===c?[i.a.createElement("div",{key:e+"namelabel",className:"form-label"},"Name"),i.a.createElement(ee.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name"}),i.a.createElement("div",{key:e+"nameerrormessage",className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{key:e+"descriptionlabel",className:"form-label"},"Description"),i.a.createElement(ee.a,{id:c+"Description"+e,key:e+"descriptiontextarea",className:"form-textarea",placeholder:"Description",as:"textarea",type:"text",name:"description"}),i.a.createElement("div",{key:e+"descriptionerrormessage",className:"form-input-error-message"},a.id===e?a.description:""),i.a.createElement("div",{key:e+"githublabel",className:"form-label"},"Github"),i.a.createElement(ee.a,{id:c+"GithubUrl"+e,key:e+"githubinput",className:"form-input",placeholder:"Github url",type:"text",name:"githubUrl"}),i.a.createElement("div",{key:e+"githuberrormessage",className:"form-input-error-message"},a.id===e?a.githubUrl:""),i.a.createElement("div",{key:e+"showcaselabel",className:"form-label"},"Showcase"),i.a.createElement(ee.a,{id:c+"ShowcaseUrl"+e,key:e+"showcaseurlfield",className:"form-input",placeholder:"Showcase url",type:"text",name:"showcaseUrl"}),i.a.createElement("div",{key:e+"showcaseerrormessage",className:"form-input-error-message"},a.id===e?a.showcaseUrl:""),i.a.createElement("div",{key:e+"thumbnaillabel",className:"form-label"},"Thumbnail"),i.a.createElement(ee.a,{id:c+"ThumbnailUrl"+e,key:e+"thumbnailurlfield",className:"form-input",placeholder:"Thumbnail url",type:"text",name:"thumbnailUrl"}),i.a.createElement("div",{key:e+"thumbnailurlerrormessage",className:"form-input-error-message"},a.id===e?a.thumbnailUrl:"")]:"contact"===c||"reference"===c?[i.a.createElement("div",{key:e+"firstnamelabel",className:"form-label"},"Firstname"),i.a.createElement(ee.a,{id:c+"Firstname"+e,key:e+"firstnameinput",className:"form-input",placeholder:"Firstname",type:"text",name:"firstname"}),i.a.createElement("div",{key:e+"firstnameerrormessage",className:"form-input-error-message"},a.id===e?a.firstname:""),i.a.createElement("div",{key:e+"lastnamelabel",className:"form-label"},"Lastname"),i.a.createElement(ee.a,{id:c+"Lastname"+e,key:e+"lastnamefield",className:"form-input",placeholder:"LastName",type:"text",name:"lastname"}),i.a.createElement("div",{key:e+"lastnameerrormessage",className:"form-input-error-message"},a.id===e?a.lastname:""),i.a.createElement("div",{key:e+"emaillabel",className:"form-label"},"E-mail"),i.a.createElement(ee.a,{id:c+"Email"+e,key:e+"emailfield",className:"form-input",placeholder:"mailto@mail.com",type:"text",name:"email"}),i.a.createElement("div",{key:e+"emailerrormessage",className:"form-input-error-message"},a.id===e?a.email:""),i.a.createElement("div",{key:e+"linkedinlabel",className:"form-label"},"Linkedin"),i.a.createElement(ee.a,{id:c+"Linkedin"+e,key:e+"linkedinfield",className:"form-input",placeholder:"www.linkedin.com/in/xxxxx-xxxxxx-XXXXXXXXX",type:"text",name:"linkedin"}),i.a.createElement("div",{key:e+"linkedinerrormessage",className:"form-input-error-message"},a.id===e?a.linkedin:""),i.a.createElement("div",{key:e+"phonelabel",className:"form-label"},"Phone"),i.a.createElement(ee.a,{id:c+"Phone"+e,key:e+"phonefield",className:"form-input",placeholder:"+358000000000",type:"text",name:"phone"}),i.a.createElement("div",{key:e+"phoneerrormessage",className:"form-input-error-message"},a.id===e?a.phone:""),i.a.createElement("div",{key:e+"availablelabel",className:"form-label"},"Available"),i.a.createElement(ee.a,{id:c+"PhoneAvailable"+e,key:e+"availablefield",className:"form-input",placeholder:"Available during 9 am -  4 pm",type:"text",name:"phoneAvailable"}),i.a.createElement("div",{key:e+"availableerrormessage",className:"form-input-error-message"},a.id===e?a.phoneAvailable:""),i.a.createElement("div",{key:e+"addresslabel",className:"form-label"},"Address"),i.a.createElement(ee.a,{id:c+"Address"+e,key:e+"addressfield",className:"form-input",placeholder:"Streetname 1 A 1, 00100 Cityname",type:"text",name:"address"}),i.a.createElement("div",{key:e+"addresserrormessage",className:"form-input-error-message"},a.id===e?a.address:""),i.a.createElement("div",{key:e+"companylabel",className:"form-label"},"Company"),i.a.createElement(ee.a,{id:c+"Company"+e,key:e+"companyfield",className:"form-input",placeholder:"Company name",type:"text",name:"company"}),i.a.createElement("div",{key:e+"companyerrormessage",className:"form-input-error-message"},a.id===e?a.company:""),i.a.createElement("div",{key:e+"picturelabel",className:"form-label"},"Picture"),i.a.createElement(ee.a,{id:c+"PictureUrl"+e,key:e+"picturefield",className:"form-input",placeholder:"Picture Url",type:"text",name:"pictureUrl"}),i.a.createElement("div",{key:e+"pictureerrormessage",className:"form-input-error-message"},a.id===e?a.pictureUrl:"")]:"profile"===c?[i.a.createElement("div",{key:e+"namelabel",className:"form-label"},"Name"),i.a.createElement(ee.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name"}),i.a.createElement("div",{key:e+"nameerrormessage",className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{key:e+"contentlabel",className:"form-label"},"Content"),i.a.createElement(ee.a,{id:c+"Content"+e,key:e+"contentfield",className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content"}),i.a.createElement("div",{key:e+"contenterrormessage",className:"form-input-error-message"},a.id===e?a.content:"")]:"communication"===c?[i.a.createElement("div",{key:e+"namelabel",className:"form-label"},"Name"),i.a.createElement(ee.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name",disabled:t}),i.a.createElement("div",{key:e+"nameerrormessage",className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{key:e+"languagesfield",className:"form-label language-label"},"Languages"),i.a.createElement(ee.b,{key:e+"languagesfieldarray",name:"languages",render:function(){return i.a.createElement("div",{className:"language-panel",key:n.id+"languagepanel"},n.languages&&n.languages.map((function(t,a){return i.a.createElement("div",{className:"language-pair",key:a+"language-pair"},i.a.createElement(ee.a,{id:"LanguageNameField"+e+a,className:"form-input",name:"languages.".concat(a,".language"),placeholder:"Language name"}),i.a.createElement(Ue,{id:"LanguageLevelSelector"+e+a,initLevel:t.level,handleChange:function(e){var a=Object(h.a)({},n,{languages:n.languages.map((function(a){return a.language===t.language?{language:a.language,level:e}:a}))});r(a)}}),i.a.createElement("button",{className:"form-button",onClick:function(e){e.preventDefault();var a=Object(h.a)({},n,{languages:n.languages.filter((function(e){return e.language!==t.language}))});r(a)}},"delete"))})),i.a.createElement("button",{id:"AddLanguage"+e,className:"add-language-button form-button",disabled:t,onClick:function(e){e.preventDefault();var t=Object(h.a)({},n,{languages:n.languages.concat({language:"",level:he.Elementary})});r(t)}},"add language"))}}),i.a.createElement("div",{key:e+"languageerrormessage",className:"form-input-error-message"},a.id===e?a.languages:""),i.a.createElement("div",{key:e+"contentlabel",className:"form-label"},"Content"),i.a.createElement(ee.a,{id:c+"Content"+e,key:e+"contentfield",className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content",disabled:t}),i.a.createElement("div",{key:e+"contenterrormessage",className:"form-input-error-message"},a.id===e?a.content:"")]:[i.a.createElement("div",{key:e+"namelabel",className:"form-label"},"Name"),i.a.createElement(ee.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"CV name",type:"text",name:"name"}),i.a.createElement("div",{key:e+"nameerrormessage",className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{key:e+"githublabel",className:"form-label"},"Github"),i.a.createElement(ee.a,{id:c+"Github"+e,key:e+"githubfield",className:"form-input",placeholder:"Github url",type:"text",name:"github"}),i.a.createElement("div",{key:e+"githuberrormessage",className:"form-input-error-message"},a.id===e?a.github:""),i.a.createElement("div",{key:e+"techlistlabel",className:"form-label"},"Techlist"),i.a.createElement(ee.a,{id:c+"Techlist"+e,key:e+"techlistfield",className:"form-input",placeholder:"Java, CSS, Python, ...",type:"text",name:"techlist"}),i.a.createElement("div",{key:e+"techlisterrormessage",className:"form-input-error-message"},a.id===e?a.techlist:"")]}(t.id,s,m,u,d,e.field),i.a.createElement(ke,{id:r+"Delete"+t.id,isSubmitting:s||"contact"===r||""===r,handleDelete:function(t){if(t.preventDefault(),u.id.includes("temp")){var i=n.pathname.substring("/myCV/".length);e.removeTempCVObject(i,r,u.id)}else j.deleteObject(a,u.id,e.user),e.updateCVs(e.user)}}),i.a.createElement(Oe,{id:r+"Clear"+t.id,isSubmitting:s,values:u,clearActionValues:c,setValues:d}),i.a.createElement(xe,{id:r+"Cancel"+t.id,isSubmitting:s,setValues:d,formValues:t}),i.a.createElement(Ce,{id:r+"Save"+t.id,isSubmitting:s||!o}))}))}return i.a.createElement("div",{className:"form-component-empty",key:e.field+"-empty",onClick:function(){var t=n.pathname.substring("/myCV/".length);e.addEmptyCVObject(t,r)}},i.a.createElement("img",{id:e.field+"Add",src:"plus.svg",width:"100px",height:"100px",alt:"add"}))})),Ae=function(e,t){return i.a.createElement(Re,{formValues:{id:e.id,name:e.name,content:e.content},serviceType:y.INFO,field:t,key:e.id})},Ie=function(e,t){return i.a.createElement(Re,{formValues:{id:e.id,address:e.address,company:e.company,email:e.email,firstname:e.firstname,lastname:e.lastname,linkedin:e.linkedin,phone:e.phone,phoneAvailable:e.phoneAvailable,pictureUrl:e.pictureUrl},serviceType:y.CONTACT,field:t,key:e.id})},Pe=function(e,t){return i.a.createElement(Re,{formValues:{id:e.id,description:e.description,name:e.name,timeFrame:e.timeFrame},serviceType:y.EXPERIENCE,field:t,key:e.id})},Le=function(e){var t,a,n=e.cv;return n?i.a.createElement("div",{className:"cvFormContainer"},i.a.createElement("div",{className:"form-component-container"},i.a.createElement(Re,{formValues:{id:n.id,name:n.name,github:n.github,techlist:n.techlist},serviceType:y.CV,field:""})),i.a.createElement("h3",null,"Contact"),i.a.createElement("div",{className:"form-component-container"},Ie(n.contact,"contact")),i.a.createElement("h3",null,"Profile"),i.a.createElement("div",{className:"form-component-container"},n.profile?(t=n.profile,a="profile",i.a.createElement(Re,{formValues:{id:t.id,name:t.name,content:t.content},serviceType:y.PROFILE,field:a,key:t.id})):i.a.createElement(Re,{serviceType:y.PROFILE,field:"profile"})),i.a.createElement("h3",null,"Projects"),i.a.createElement("div",{className:"form-component-container"},n.projects&&n.projects.map((function(e){return function(e,t){return i.a.createElement(Re,{formValues:{id:e.id,description:e.description,githubUrl:e.githubUrl,name:e.name,showcaseUrl:e.showcaseUrl,thumbnailUrl:e.thumbnailUrl},serviceType:y.PROJECT,field:t,key:e.id})}(e,"projects")})),i.a.createElement(Re,{serviceType:y.PROJECT,field:"projects"})),i.a.createElement("h3",null,"References"),i.a.createElement("div",{className:"form-component-container"},n.reference&&n.reference.map((function(e){return Ie(e,"reference")})),i.a.createElement(Re,{serviceType:y.CONTACT,field:"reference"})),i.a.createElement("h3",null,"Work experience"),i.a.createElement("div",{className:"form-component-container"},n.experience&&n.experience.map((function(e){return Pe(e,"experience")})),i.a.createElement(Re,{serviceType:y.EXPERIENCE,field:"experience"})),i.a.createElement("h3",null,"Education"),i.a.createElement("div",{className:"form-component-container"},n.education&&n.education.map((function(e){return Pe(e,"education")})),i.a.createElement(Re,{serviceType:y.EXPERIENCE,field:"education"})),i.a.createElement("h3",null,"Language skills"),i.a.createElement("div",{className:"form-component-container"},n.communication?function(e,t){return i.a.createElement(Re,{formValues:{id:e.id,name:e.name,content:e.content,languages:e.languages},field:t,serviceType:y.COMMUNICATION,key:e.id})}(n.communication,"communication"):i.a.createElement(Re,{serviceType:y.COMMUNICATION,field:"communication"})),i.a.createElement("h3",null,"Other skills"),i.a.createElement("div",{className:"form-component-container"},n.skills?Ae(n.skills,"skills"):i.a.createElement(Re,{serviceType:y.INFO,field:"skills"})),i.a.createElement("h3",null,"Info"),i.a.createElement("div",{className:"form-component-container"},n.info?Ae(n.info,"info"):i.a.createElement(Re,{serviceType:y.INFO,field:"info"})),i.a.createElement("h3",null,"Attachments"),i.a.createElement("div",{className:"form-component-container"},n.attachments?Ae(n.attachments,"attachments"):i.a.createElement(Re,{serviceType:y.INFO,field:"attachments"}),!n.attachments&&i.a.createElement("p",{style:{height:"110px"}})),i.a.createElement("div",{id:"EndOfPage"})):i.a.createElement("div",null,"CV not found")},Me=(a(108),function(e){var t=e.endDate.valueOf()-(new Date).valueOf()>0,a=e.startDate,n=t?new Date:e.endDate,r=n.valueOf()-a.valueOf();return r<2592e6?t?i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"/",a.getDate()+1,"\xa0\u2013\xa0"):i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"/",a.getDate()+1,"\xa0\u2013\xa0",n.getFullYear(),"/",n.getMonth()+1,"/",n.getDate()+1):r<31536e6?t?i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"\xa0\u2013\xa0"):i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"\xa0\u2013\xa0",n.getFullYear(),"/",n.getMonth()+1):t?i.a.createElement("p",null,a.getFullYear()," \u2013 "):i.a.createElement("p",null,a.getFullYear()," \u2013 ",n.getFullYear())}),_e={setLoading:S},Ge=Object(l.b)((function(e,t){return{cv:e.cv.cvs[0]}}),_e)((function(e){var t=e.preview||e.cv;if(!t)return i.a.createElement("div",null,"No default cv");Object(r.useEffect)((function(){e.setLoading(!1)}),[e]);var a=t.contact,n=t.reference,c=t.experience,l=t.education,s=t.communication;return i.a.createElement("div",{className:"cv-container"},i.a.createElement("div",{className:"cv-container-item contact-container"},i.a.createElement("div",null,i.a.createElement("p",{id:"NameInfo"},a.firstname," ",a.lastname),a.address&&i.a.createElement("p",null,a.address),a.phone&&i.a.createElement("p",null,"Phone num. ",a.phone),a.email&&i.a.createElement("p",null,a.email),a.linkedin&&i.a.createElement("p",null,i.a.createElement("a",{id:"LinkedinProfile",href:a.linkedin},"linkedin profile"))),i.a.createElement("div",null,i.a.createElement("img",{id:"ContactPicture",src:a.pictureUrl,width:"120px",alt:"mypicture"}))),i.a.createElement("h1",null,"Curriculum Vitae"),i.a.createElement("div",{className:"cv-container-item cv-container-item-first"},t.github&&i.a.createElement("p",null,"Github: ",i.a.createElement("a",{href:t.github},t.github)),t.techlist&&i.a.createElement("p",null,t.techlist)),t.profile&&i.a.createElement("div",{className:"cv-container-item cv-container-item-left"},i.a.createElement("h3",null,i.a.createElement("img",{src:"profile.svg",width:"45px",height:"45px",alt:"profileimage"}),"Profile"),i.a.createElement("hr",null),t.profile.content.map((function(e,t){return i.a.createElement("p",{key:"profile-p-".concat(t)},e)}))),t.projects&&t.projects.length>0&&i.a.createElement("div",{className:"cv-container-item cv-container-item-right"},i.a.createElement("h3",null,i.a.createElement("img",{src:"project.svg",width:"45px",height:"40px",alt:"icon"}),"Projects"),i.a.createElement("hr",null),t.projects.map((function(e,t){return i.a.createElement("div",{className:"project-card",key:t+"project"},i.a.createElement("div",{style:{width:"140px",marginRight:"10px"}},i.a.createElement("img",{id:"thumbnailImage"+e.id,src:e.thumbnailUrl,width:"100%",alt:"mypicture"})),i.a.createElement("div",null,i.a.createElement("h4",null,e.name),i.a.createElement("p",null,e.description),i.a.createElement("p",{className:"project-card-links"},i.a.createElement("a",{id:"githubLink"+e.id,href:e.githubUrl},"github")," - ",i.a.createElement("a",{id:"showcaseLink"+e.id,href:e.showcaseUrl},"showcase"))))}))),n&&n.length>0&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"reference.svg",width:"40px",height:"40px",alt:"icon"}),"References"),i.a.createElement("hr",null),i.a.createElement("div",{className:"key-value-container"},n.map((function(e,t){return[i.a.createElement("div",{className:"key-value-container-left",key:t+"-reference-left"},i.a.createElement("p",null,e.firstname," ",e.lastname," ",e.company&&"- "+e.company)),i.a.createElement("div",{className:"key-value-container-right",key:t+"-reference-right"},i.a.createElement("p",null,"Phone num. ",e.phone," (",e.phoneAvailable,")"),i.a.createElement("p",null,e.email))]})))),c&&c.length>0&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"work.svg",width:"55px",height:"55px",alt:"icon"}),"Work Experience"),i.a.createElement("hr",null),i.a.createElement("div",{className:"key-value-container"},c.sort((function(e,t){return t.timeFrame.endDate.getTime()-e.timeFrame.endDate.getTime()})).map((function(e,t){return[i.a.createElement("div",{className:"key-value-container-left",key:t+"-experience-left"},Me(e.timeFrame)),i.a.createElement("div",{className:"key-value-container-right",key:t+"-experience-right"},i.a.createElement("p",null,e.description))]})))),l&&l.length>0&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"education.svg",width:"45px",height:"45px",alt:"icon"}),"Education"),i.a.createElement("hr",null),i.a.createElement("div",{className:"key-value-container"},l.sort((function(e,t){return t.timeFrame.endDate.getTime()-e.timeFrame.endDate.getTime()})).map((function(e,t){return[i.a.createElement("div",{className:"key-value-container-left",key:t+"-education-left"},Me(e.timeFrame)),i.a.createElement("div",{className:"key-value-container-right",key:t+"-education-right"},i.a.createElement("p",null,e.description))]})))),s&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"communication.svg",width:"45px",height:"45px",alt:"icon"}),"Language skills"),i.a.createElement("hr",null),i.a.createElement("div",{className:"language-container"},s.languages.map((function(e,t){return i.a.createElement("div",{key:t+"language-container"},i.a.createElement("p",null,e.language),i.a.createElement("p",null,":"),i.a.createElement("p",null,e.level))}))),s&&s.content.map((function(e,t){return i.a.createElement("p",{key:t+"skill"},e)}))),t.skills&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"skills.svg",width:"45px",height:"45px",alt:"icon"}),"Other Skills"),i.a.createElement("hr",null),t.skills.content.map((function(e,t){return i.a.createElement("p",{key:t+"skill"},e)}))),t.attachments&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"attachment.svg",width:"55px",height:"45px",alt:"icon"}),"Attachments"),i.a.createElement("hr",null),t.attachments.content.map((function(e,t){return i.a.createElement("p",{key:t+"attachment"},e)}))))})),We={updateCVs:V,setPreviousCV:function(e){return{type:"SET_PREVIOUS_CV",data:{id:e}}},showNotification:k,setLoading:S},He=Object(l.b)((function(e,t){return{user:e.user,cvs:e.cv.cvs}}),We)((function(e){var t=Object(R.e)(),a=!t.pathname.includes("/mycv/"),n=e.cvs?e.cvs:[];return i.a.createElement("div",null,i.a.createElement(R.a,{exact:!0,path:"/preview/:id",render:function(t){var a,n=t.match;return i.a.createElement("div",null,i.a.createElement(Q,null,i.a.createElement("div",null,i.a.createElement(A.b,{to:"/mycv/".concat(n.params.id)},i.a.createElement("button",{id:"ReturnToEditor",className:"toolbar-button"},"Return to editor")))),i.a.createElement(Ge,{preview:null===(a=e.cvs)||void 0===a?void 0:a.find((function(e){return e.id+""===n.params.id}))}))}}),i.a.createElement(R.a,{path:"/mycv",render:function(r){var c;r.match;return i.a.createElement("div",null,i.a.createElement(Q,null,i.a.createElement("div",null,i.a.createElement("button",{id:"DuplicateDefault",className:"toolbar-button",onClick:function(t){t.preventDefault(),e.setLoading(!0),n[0]&&j.duplicateCV(n[0],e.user,e.showNotification).then((function(t){e.updateCVs(e.user),e.showNotification("Default CV duplicated",u.SUCCESS,6)})).catch((function(t){t.response.data.error&&e.showNotification(t.response.data.error,u.ERROR,12)}))}},"Duplicate Default"),i.a.createElement(R.a,{exact:!0,path:"/mycv/:id",render:function(t){var n=t.match;return[i.a.createElement("button",{id:"SetAsDefaultCV",key:"toolbarbutton"+n.params.id,className:"toolbar-button",disabled:a,onClick:function(t){t.preventDefault(),e.setLoading(!0),j.setCVDefault(n.params.id,e.user).then((function(){e.updateCVs(e.user),e.showNotification("Default CV updated",u.SUCCESS,4)})).catch((function(t){t.response.data.error&&e.showNotification(t.response.data.error,u.ERROR,12)}))}},"Set As Default CV"),i.a.createElement(A.b,{key:"toolbarlink"+n.params.id,to:"/preview/".concat(n.params.id)},i.a.createElement("button",{id:"Preview",className:"toolbar-button"},"Preview"))]}}),i.a.createElement(R.a,{exact:!0,path:"/mycv",render:function(e){e.match;return[i.a.createElement("button",{key:"toolbar-button-1",className:"toolbar-button",disabled:!0}," Set As Default CV"),i.a.createElement("button",{key:"toolbar-button-2",className:"toolbar-button",disabled:!0},"Preview")]}}))),i.a.createElement("h1",null,"My CV's"),i.a.createElement("div",{className:"cv-selector"},n&&n.length>0&&n.map((function(a,n){var r=t.pathname.substr(t.pathname.length-a.id.length)===a.id;return i.a.createElement("div",{className:"cv-item",key:a.id,style:{transition:"margin-top 0.2s ease, margin-bottom 0.2s ease",marginTop:r?"10px":"2px",marginBottom:r?"2px":"10px"}},i.a.createElement(A.b,{id:"Select"+a.id,className:"cv-selector-item",to:"/mycv/".concat(a.id),onClick:function(){e.setPreviousCV(a.id)}},i.a.createElement("img",{src:"emptycv.svg",width:"150px",height:"180px",alt:"document"}),0===n&&i.a.createElement("div",{className:"default-label"},"default"),i.a.createElement("div",{style:{zIndex:1}},a.name,Object.entries(a).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return n?i.a.createElement("p",{key:a},a+": "+n):""})))),i.a.createElement("button",{id:"Delete"+a.id,onClick:function(t){t.preventDefault(),e.setLoading(!0),j.deleteObject(y.CV,a.id,e.user).then((function(t){e.updateCVs(e.user),e.showNotification("CV "+a.name+" deleted",u.SUCCESS,4)}))}},i.a.createElement("img",{className:"icon",src:"delete.svg",width:"17px",height:"15px",alt:"delete"})))})),i.a.createElement("img",{id:"CreateEmptyCV",src:"emptycvplus.svg",width:"150px",height:"180px",alt:"document",onClick:function(t){t.preventDefault(),e.setLoading(!0),j.createEmptyCV(e.user).then((function(t){e.updateCVs(e.user),e.showNotification("Empty CV created",u.SUCCESS,4)}))}})),(c=n,i.a.createElement(R.a,{exact:!0,path:"/mycv/:id",render:function(e){var t=e.match;return i.a.createElement(Le,{cv:c.find((function(e){return e.id===t.params.id}))})}})))}}))})),Ye=(a(109),function(e){var t=e.message,a=e.duration,n=Object(r.useState)(1),c=Object(m.a)(n,2),l=c[0],s=c[1],o=Object(r.useState)(!0),u=Object(m.a)(o,2),d=u[0],p=u[1];Object(r.useEffect)((function(){if(a)var e=setTimeout((function(){s(0),clearTimeout(e)}),100)}),[a]);var f="deleted"===t.id.substr(8);return i.a.createElement("div",{key:t.id.substr(0,8),className:"notification ".concat(t.type),style:{transition:"all 0.4s ease",maxHeight:f?"0":"50px",paddingTop:f?"0":"10px",paddingBottom:f?"0":"10px",marginTop:f?"0":"5px",marginBottom:f?"0":"4px",overflow:f?"hidden":"auto",display:d?"grid":"none"}},i.a.createElement("div",{className:"notification-text",style:{transition:"all 0.4s ease",opacity:f?"0":"1"}},t.text),i.a.createElement("div",{className:"notification-close-button",style:{opacity:f?"0":"1",marginTop:"2px",minHeight:"20px",minWidth:"20px"},onClick:function(){e.deleteNotification(),p(!1)}},i.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",style:{width:"20px",height:"20px",position:"static",transform:"scale(1.2)"},viewBox:"0 0 20 20"},i.a.createElement("g",{transform:"translate(10,10)"},i.a.createElement("circle",{className:"close-circle",style:{fill:"none",backgroundColor:"none",opacity:a?".25":"0",strokeWidth:9,strokeDasharray:9*l*3.14+" 28.26",transition:"stroke-dasharray "+a+"s linear",transform:"scale(-1,1) rotate(-135deg)"},r:4.5})),i.a.createElement("rect",{x:"0.81",y:"9.29",transform:"matrix(-0.7071 0.7071 -0.7071 -0.7071 24.1421 10)",width:"18.38",height:"1.41"}),i.a.createElement("rect",{x:"0.66",y:"9.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 10.038 -4.0285)",width:"18.44",height:"1.41"}))))}),Be={deleteNotification:function(e){return{type:"DELETE_NOTIFICATION",id:e,data:[]}}},Xe=Object(l.b)((function(e,t){return{messages:e.notification.messages}}),Be)((function(e){var t=Object(r.useState)(e.messages),a=Object(m.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=e.messages.filter((function(e){return-1===n.findIndex((function(t){return t.id===e.id}))})),a=n.map((function(t){if(-1===e.messages.findIndex((function(e){return e.id===t.id}))){var a=t.id.substr(0,8)+"deleted";return Object(h.a)({},t,{id:a})}return t})).concat(t);a.find((function(e){return"deleted"!==e.id.substr(8,15)}))?c(a):c([])}),[e.messages]),n?i.a.createElement("div",{className:"notificationContainer",style:{opacity:n.length>0?1:0}},n.map((function(t){return i.a.createElement(Ye,{key:t.id.substr(0,8),message:t,deleteNotification:function(){return e.deleteNotification(t.id)},duration:t.duration})}))):i.a.createElement("div",{className:"notificationContainer"})})),Ze={updateCVs:V},Je=Object(l.b)((function(e,t){return{user:e.user}}),Ze)((function(e){var t=e.user,a=t&&t.token.length>2,n=Object(r.useState)(800),c=Object(m.a)(n,2),l=c[0],s=c[1];console.log("running in","production"),Object(r.useEffect)((function(){var t=document.getElementById("content");t&&s(t.clientHeight),e.user&&e.user.token.length>0&&e.updateCVs(e.user)}),[]);return i.a.createElement("div",{className:"App",id:"App"},i.a.createElement(A.a,null,i.a.createElement(_,{showRoutes:!a}),i.a.createElement(d,{height:l}),(e.updateStatus&&e.updateStatus(),a?i.a.createElement("div",{className:"content"},i.a.createElement(R.a,{exact:!0,path:"/"},i.a.createElement(Ge,null)),i.a.createElement(R.a,{path:"/users"},i.a.createElement(ye,null)),i.a.createElement(R.a,{path:"/mycv"},i.a.createElement(He,null)),i.a.createElement(R.a,{path:"/preview"},i.a.createElement(He,null)),i.a.createElement(R.a,{exact:!0,path:"/about"},i.a.createElement(Ne,null))):i.a.createElement("div",{className:"content"},i.a.createElement(B,null))),i.a.createElement(Xe,null),i.a.createElement(X,null),i.a.createElement(d,{height:l,bottom:!0})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=a(51);a.d(t,"rootReducer",(function(){return Ke}));var Ke=Object(c.combineReducers)({notification:O,user:L,cv:F,loader:T}),$e=Object(c.createStore)(Ke,Object(c.applyMiddleware)(ze.a));window.appStatus=!1,window.appStore=$e;var qe=function(){window.appStatus=!0},Qe=function(){o.a.render(i.a.createElement(l.a,{store:$e},i.a.createElement(Je,{updateStatus:qe})),document.getElementById("root"))};Qe(),$e.subscribe(Qe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){e.exports=a(110)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.5143d509.chunk.js.map