(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t),a.d(t,"rootReducer",(function(){return rt}));a(58),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(59);var n,r=a(0),i=a.n(r),c=(a(61),function(e){return i.a.createElement("div",{className:"about-container"},i.a.createElement("h1",null,"About this site"),i.a.createElement("p",null,"This single-page-app will show my CV information and also deliver a simple graphical UI for creating and modifying CV data."),i.a.createElement("p",null,"Almost everything in this site is crafted from scratch (all the way from user authentication to datePicker-components). To make things more simple I have added ready made libraries to help organize things. Biggest impact was done by Formik to make forms on the page to be a bit less painful."),i.a.createElement("p",null,"Please take a look of my source code in my"," ",i.a.createElement("a",{href:"https://github.com/rampemus/cvapp"},"github")),i.a.createElement("h3",null,"Version 2.0 - 2020/7/29"),i.a.createElement("p",null,"Better printing css and more elastic text formatting with project and experience descriptions."),i.a.createElement("h3",null,"Version 1.1 - 2020/5/21"),i.a.createElement("p",null,"Firefox bugs fixed and added css to view in mobile devices."),i.a.createElement("h3",null,"Version 1.0 - 2020/4/12"),i.a.createElement("p",null,"Bugs fixed, tests added and deployment automation added."),i.a.createElement("h3",null,"Version 0.4 - 2020/3/6"),i.a.createElement("p",null,"Validation added and security measures added."),i.a.createElement("h3",null,"Version 0.3 - 2020/3/1"),i.a.createElement("p",null,"Notifications and animations added and login logic changed."),i.a.createElement("h3",null,"Version 0.2 - 2020/2/26"),i.a.createElement("p",null,"Fixed most of bugs away and bunch tests created for"," ",i.a.createElement("a",{href:"https://github.com/rampemus/cvapp/tree/master/backend"},"backend"),"."),i.a.createElement("h3",null,"Version 0.1 - 2020/2/5"),i.a.createElement("p",null,"For now, some of the code is not yet nicely organized but things will get better. Other bigger changes will be that the tests will be implemented in the future for creating a automated pipeline. Many changes will be done for the deployment and for the backend. Therefore, I wish you visit my github for changes."))});a(62);!function(e){e.EMPTY="",e.LIGHT="rgb(219, 223, 224)",e.GREY="rgb(195,202,209)",e.BLUE="rgb(189,205,219)",e.DARK="rgb(172,176,187)",e.STROKE_LIGHT="rgb(212, 213, 214)",e.STROKE_HIGHLIGHT="rgb(184, 191, 204)"}(n||(n={}));var l,o=function(e){var t=1.5/Math.sqrt(3),a=function(a,r,c,l,o,s){var m=3*c+2*l*t,u="rotate(-15) translate(".concat(e.bottom?"-100,220":"-100,0",")");return i.a.createElement("g",{key:"hexaRow"+s,transform:u},o.map((function(e,l){return function(e,a,r,c,l){if(c===n.EMPTY)return"";var o=c===n.LIGHT?n.STROKE_LIGHT:n.STROKE_HIGHLIGHT,s="".concat(e-r,", ").concat(a," "),m="".concat(e-.5*r,", ").concat(a-r*t," "),u="".concat(e+.5*r,", ").concat(a-r*t," "),d="".concat(e+r,",").concat(a," "),p="".concat(e+.5*r,", ").concat(a+r*t," "),f="".concat(e-.5*r,", ").concat(a+r*t," "),v=s.concat(m,u,d,p,f);return i.a.createElement("polygon",{key:l,points:v,style:{stroke:o,strokeWidth:3,fill:c}})}(a+m*l,r,c,e,"r".concat(s,"h").concat(l))})))},r=function(e){var t=[];return e.forEach((function(e,a){e<1?t.push(n.EMPTY):e<2?t.push(n.LIGHT):e<3?t.push(n.GREY):e<4?t.push(n.BLUE):t.push(n.DARK)})),t},c=function(n){var c=92*t+7;return i.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 1200 1200",preserveAspectRatio:(e.bottom,"xMidYMin slice"),className:e.bottom?"bottom-hexa":"top-hexa"},n.map((function(e,n){return n%2===0?a(0,0+c*n/2,46,7,r(e),n):a(69+7*t,0+46*t+3.5+c*(n-1)/2,46,7,r(e),n)})))};return e.bottom?i.a.createElement("div",{className:"background-bottom"},c([[1,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[2,1,0,0,0,0,0,0,0],[2,1,0,0,0,0,0,0],[3,1,0,0,0,0,0,0,0],[2,1,1,0,0,0,0,0],[3,2,1,1,0,0,0,0,1],[2,2,1,1,1,0,1,1],[3,2,2,1,1,1,1,1,1],[4,3,2,2,1,1,1,3],[3,3,3,3,2,2,3,3,2],[2,2,4,4,2,2,4,3],[2,2,3,2,3,3,3,2,3],[2,4,3,3,2,3,3,3],[2,2,3,2,3,3,3,2,3]])):i.a.createElement("div",{className:"background-top"},c([[3,2,3,2,3,3,3,2,3],[3,2,4,2,3,2,2,4],[3,2,3,2,2,4,4,3,3],[4,2,4,2,3,2,3,2],[3,2,2,2,3,3,2,3,3],[2,1,1,1,2,4,2,4],[3,1,1,1,1,4,2,2,2],[1,1,1,1,1,1,4,4,3],[1,1,1,1,1,1,1,2,4],[1,0,0,0,1,1,1,2,2],[1,0,0,0,0,1,1,1,2],[0,0,0,0,0,0,1,2],[0,0,0,0,0,1,1,1,2],[0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,1]]))},s=(a(63),a(4)),m=Object(s.b)((function(e,t){return{user:e.user}}))((function(e){return e.user&&e.user.name.length>2&&e.user?i.a.createElement("div",{className:"Footer"},"Logged in as ",e.user.name):i.a.createElement("div",{className:"Footer"},"You are not logged in")})),u=a(31),d=(a(70),{isFetching:!0}),p=function(e){return{type:"SET_LOADING",data:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return{isFetching:t.data};default:return e}},v=function(e){var t=e.endDate.valueOf()-(new Date).valueOf()>0,a=e.startDate,n=t?new Date:e.endDate,r=n.valueOf()-a.valueOf();return r<2592e6?t?i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"/",a.getDate()+1,"\xa0\u2013\xa0"):i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"/",a.getDate()+1,"\xa0\u2013\xa0",n.getFullYear(),"/",n.getMonth()+1,"/",n.getDate()+1):r<31536e6?t?i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"\xa0\u2013\xa0"):i.a.createElement("p",null,a.getFullYear(),"/",a.getMonth()+1,"\xa0\u2013\xa0",n.getFullYear(),"/",n.getMonth()+1):t?i.a.createElement("p",null,a.getFullYear()," \u2013 "):i.a.createElement("p",null,a.getFullYear()," \u2013 ",n.getFullYear())},h={setLoading:p},E=Object(s.b)((function(e,t){return{cv:e.cv.cvs[0]}}),h)((function(e){var t=e.preview||e.cv;if(!t)return i.a.createElement("div",null,"No default cv");Object(r.useEffect)((function(){e.setLoading(!1)}),[e]);var a=t.contact,n=t.reference,c=t.experience,l=t.education,o=t.communication,s=t.projects&&Object(u.a)(t.projects);return i.a.createElement("div",{className:"cv-container"},i.a.createElement("div",{className:"cv-container-item contact-container"},i.a.createElement("div",null,i.a.createElement("p",{id:"NameInfo"},a.firstname," ",a.lastname),a.address&&i.a.createElement("p",null,a.address),a.phone&&i.a.createElement("p",null,"Phone num. ",a.phone),a.email&&i.a.createElement("p",null,a.email),a.linkedin&&i.a.createElement("p",null,i.a.createElement("a",{id:"LinkedinProfile",href:a.linkedin},"linkedin profile"))),i.a.createElement("div",null,i.a.createElement("img",{id:"ContactPicture",src:a.pictureUrl,width:"120px",alt:"mypicture"}))),i.a.createElement("h1",null,"Curriculum Vitae"),i.a.createElement("div",{className:"cv-container-item cv-container-item-first"},t.github&&i.a.createElement("p",null,"Github: ",i.a.createElement("a",{href:t.github},t.github)),t.techlist&&i.a.createElement("p",null,t.techlist)),t.profile&&i.a.createElement("div",{className:"cv-container-item cv-container-item-left"},i.a.createElement("h3",null,i.a.createElement("img",{src:"profile.svg",width:"45px",height:"45px",alt:"profileimage"}),"Profile"),i.a.createElement("hr",null),t.profile.content.map((function(e,t){return i.a.createElement("p",{key:"profile-p-".concat(t)},e)}))),t.projects&&t.projects.length>0&&i.a.createElement("div",{className:"cv-container-item cv-container-item-right"},i.a.createElement("h3",null,i.a.createElement("img",{src:"project.svg",width:"45px",height:"40px",alt:"icon"}),"Projects"),i.a.createElement("hr",null),s&&s.sort((function(e,t){return-1})).map((function(e,t){return i.a.createElement("div",{className:"project-card",key:t+"project"},i.a.createElement("div",{style:{width:"140px",marginRight:"10px"}},i.a.createElement("img",{id:"thumbnailImage"+e.id,src:e.thumbnailUrl,width:"100%",alt:"mypicture"})),i.a.createElement("div",null,i.a.createElement("h4",null,e.name),e.content.map((function(t,a){return i.a.createElement("p",{key:a+"project"+e.id},t)})),i.a.createElement("p",{className:"project-card-links"},e.githubUrl&&i.a.createElement("a",{id:"githubLink"+e.id,href:e.githubUrl},"github"),e.githubUrl&&e.showcaseUrl&&" - ",e.showcaseUrl&&i.a.createElement("a",{id:"showcaseLink"+e.id,href:e.showcaseUrl},"showcase"))))}))),c&&c.length>0&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"work.svg",width:"55px",height:"55px",alt:"icon"}),"Work Experience"),i.a.createElement("hr",null),i.a.createElement("div",{className:"key-value-container"},c.sort((function(e,t){return t.timeFrame.endDate.getTime()-e.timeFrame.endDate.getTime()})).map((function(e,t){return[i.a.createElement("div",{className:"key-value-container-left",key:t+"-experience-left"},v(e.timeFrame)),i.a.createElement("div",{className:"key-value-container-right",key:t+"-experience-right"},e.content.map((function(t,a){return i.a.createElement("p",{key:a+"exp"+e.id},t)})))]})))),l&&l.length>0&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"education.svg",width:"45px",height:"45px",alt:"icon"}),"Education"),i.a.createElement("hr",null),i.a.createElement("div",{className:"key-value-container"},l.sort((function(e,t){return t.timeFrame.endDate.getTime()-e.timeFrame.endDate.getTime()})).map((function(e,t){return[i.a.createElement("div",{className:"key-value-container-left",key:t+"-education-left"},v(e.timeFrame)),i.a.createElement("div",{className:"key-value-container-right",key:t+"-education-right"},e.content.map((function(t,a){return i.a.createElement("p",{key:a+"edu"+e.id},t)})))]})))),o&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"communication.svg",width:"45px",height:"45px",alt:"icon"}),"Language skills"),i.a.createElement("hr",null),i.a.createElement("div",{className:"language-container"},o.languages.map((function(e,t){return i.a.createElement("div",{key:t+"language-container"},i.a.createElement("p",null,e.language),i.a.createElement("p",null,":"),i.a.createElement("p",null,e.level))}))),o&&o.content.map((function(e,t){return i.a.createElement("p",{key:t+"skill"},e)}))),i.a.createElement("div",{className:"pagebreak"}),t.skills&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{className:"image-after-pagebreak",src:"skills.svg",width:"45px",height:"45px",alt:"icon"}),"Other Skills"),i.a.createElement("hr",null),t.skills.content.map((function(e,t){return i.a.createElement("p",{key:t+"skill"},e)}))),n&&n.length>0&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"reference.svg",width:"40px",height:"40px",alt:"icon"}),"References"),i.a.createElement("hr",null),i.a.createElement("div",{className:"key-value-container"},n.map((function(e,t){return[i.a.createElement("div",{className:"key-value-container-left",key:t+"-reference-left"},i.a.createElement("p",null,e.firstname," ",e.lastname," ",e.company&&"- "+e.company)),i.a.createElement("div",{className:"key-value-container-right",key:t+"-reference-right"},i.a.createElement("p",null,"Phone num. ",e.phone," (",e.phoneAvailable,")"),i.a.createElement("p",null,e.email))]})))),t.attachments&&i.a.createElement("div",{className:"cv-container-item"},i.a.createElement("h3",null,i.a.createElement("img",{src:"attachment.svg",width:"55px",height:"45px",alt:"icon"}),"Attachments"),i.a.createElement("hr",null),t.attachments.content.map((function(e,t){return i.a.createElement("p",{key:t+"attachment"},e)}))))})),g=a(2),b=(a(71),a(10)),O=a.n(b),y=function(e,t){var a={username:e,password:t};return O.a.post("/api/login",a).then((function(e){return e.data}))};!function(e){e.TEXT="text",e.PASSWORD="password"}(l||(l={}));var N,w=function(e){var t=Object(r.useState)(""),a=Object(g.a)(t,2),n=a[0],i=a[1];return{type:e,value:n,onChange:function(e){i(e.currentTarget.value)}}},j=window.localStorage.getItem("loggedUser")||null,x=j?JSON.parse(j):{token:"",username:"",name:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;case"LOGOUT_USER":return window.localStorage.removeItem("loggedUser"),{token:"",username:"",name:""};default:return e}},k=a(8),D=a.n(k),S=a(17);!function(e){e.ERROR="error",e.SUCCESS="success",e.WARNING="warning"}(N||(N={}));var U,T=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},V={visible:!0,messages:[]},F=function(e,t,a){return function(){var n=Object(S.a)(D.a.mark((function n(r){var i;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=T(),r({type:"SHOW_NOTIFICATION",data:[{text:e,id:i,type:t,duration:a}]}),a&&setTimeout((function(){r({type:"DELETE_NOTIFICATION",id:i,data:[]})}),1e3*a+700);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NOTIFICATION":var a=e.messages.concat(t.data),n={visible:!0,messages:a};return n;case"DELETE_NOTIFICATION":var r=e.messages.filter((function(e){return e.id!==t.id})),i={visible:r.length>0,messages:r};return i;default:return e}},A=a(1),I=function(e){return{headers:{"Content-Type":"application/json",Authorization:"bearer "+e.token}}};!function(e){e.CV="",e.CONTACT="/contact",e.PROFILE="/profile",e.EXPERIENCE="/experience",e.COMMUNICATION="/communication",e.INFO="/info",e.PROJECT="/project"}(U||(U={}));var P,L=function(e,t,a,n,r){var i=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return"id"!==a&&"owner"!==a&&""!==n})));return O.a.post("/api/cv"+e,Object(A.a)(Object(A.a)({},i),{},{cv:{id:a,field:r||""}}),I(n)).then((function(e){return e.data})).catch((function(e){console.log("create object error:",e.response.data.error)}))},M={createObject:L,modifyObject:function(e,t,a,n){var r=Object.fromEntries(Object.entries(a).filter((function(e){var t=Object(g.a)(e,2),a=t[0];t[1];return"id"!==a})));return O.a.put("/api/cv"+e,{changes:r,id:t},I(n)).then((function(e){return e.data})).catch((function(e){console.log("modify object error:",e.response.data.error)}))},deleteObject:function(e,t,a){return O.a.delete("/api/cv"+e+"/"+t,I(a)).then((function(e){return e.data}))},getAllCV:function(e){return O.a.get("/api/cv",I(e)).then((function(e){return e.data.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{communication:e.communication?e.communication[0]:null,skills:e.skills?e.skills[0]:null,info:e.info?e.info[0]:null,attachments:e.attachments?e.attachments[0]:null,experience:e.experience.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{timeFrame:{startDate:new Date(e.timeFrame.startDate),endDate:new Date(e.timeFrame.endDate)}})})),education:e.education.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{timeFrame:{startDate:new Date(e.timeFrame.startDate),endDate:new Date(e.timeFrame.endDate)}})}))})}))}))},createEmptyCV:function(e){return O.a.post("/api/cv"+U.CV,{name:"name-required",contact:{firstname:"firstname-required",lastname:"lastname-required"}},I(e)).then((function(e){return e.data}))},duplicateCV:function(e,t,a){var n={address:e.contact.address,company:e.contact.company,email:e.contact.email,firstname:e.contact.firstname,lastname:e.contact.lastname,linkedin:e.contact.linkedin,phone:e.contact.phone,phoneAvailable:e.contact.phoneAvailable,pictureUrl:e.contact.pictureUrl},r=e.profile?{content:e.profile.content,name:e.profile.name+" duplicate"}:null,i=e.projects?e.projects.map((function(e){return{content:e.content,githubUrl:e.githubUrl,name:e.name+" duplicate",showcaseUrl:e.showcaseUrl,thumbnailUrl:e.thumbnailUrl}})):null,c=e.reference?e.reference.map((function(e){return{address:e.address,company:e.company,email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone,phoneAvailable:e.phoneAvailable,pictureUrl:e.pictureUrl}})):null,l=e.experience?e.experience.map((function(e){return{content:e.content,name:e.name+" duplicate",timeFrame:{startDate:e.timeFrame.startDate,endDate:e.timeFrame.endDate}}})):null,o=e.education?e.education.map((function(e){return{content:e.content,name:e.name+" duplicate",timeFrame:{startDate:e.timeFrame.startDate,endDate:e.timeFrame.endDate}}})):null,s=e.communication?{name:e.communication.name+"duplicate",content:e.communication.content,languages:e.communication.languages.map((function(e){return{language:e.language,level:e.level}}))}:null,m=e.skills?{name:e.skills.name+" duplicate",content:e.skills.content}:null,u=e.info?{name:e.info.name+" duplicate",content:e.info.content}:null,d=e.attachments?{name:e.attachments.name+" duplicate",content:e.attachments.content}:null,p={name:e.name,contact:n,github:e.github,techlist:e.techlist};return O.a.post("/api/cv"+U.CV,p,I(t)).then(function(){var e=Object(S.a)(D.a.mark((function e(n){var p;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=n.data.id,e.next=3,L(U.PROFILE,r,p,t,"profile");case 3:return i.map(function(){var e=Object(S.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(U.PROJECT,a,p,t,"projects");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.map(function(){var e=Object(S.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(U.CONTACT,a,p,t,"reference");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a&&a("Profile, projects and references duplicated",N.SUCCESS,4.2),l.map(function(){var e=Object(S.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(U.EXPERIENCE,a,p,t,"experience");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.map(function(){var e=Object(S.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(U.EXPERIENCE,a,p,t,"education");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a&&a("Experiences and education duplicated",N.SUCCESS,4.4),e.next=11,L(U.COMMUNICATION,s,p,t,"communication");case 11:return e.next=13,L(U.INFO,m,p,t,"skills");case 13:return e.next=15,L(U.INFO,d,p,t,"attachments");case 15:return a&&a("Communication, skills and attachments duplicated",N.SUCCESS,4.7),e.next=18,L(U.INFO,u,p,t,"info");case 18:return e.abrupt("return",n.data);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getCVDefault:function(e,t){return O.a.get("/api/cv/default/"+e,I(t)).then((function(e){return e.data}))},setCVDefault:function(e,t,a){var n={cvid:e,userid:a};return O.a.post("/api/cv/default",n,I(t)).then((function(e){return e.data}))}},_={cvs:[{attachments:{content:["...","...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},communication:{content:["..."],languages:[{language:"...",level:"..."},{language:"...",level:"..."}],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},education:[{timeFrame:{endDate:new Date("2020-01-14T12:34:33.498Z"),startDate:new Date("2020-01-14T12:34:33.498Z")},content:["...","...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."}],experience:[{timeFrame:{endDate:new Date("2020-01-14T12:34:33.498Z"),startDate:new Date("2020-01-14T12:34:33.498Z")},content:["...","...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."}],info:{content:["...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},projects:[{content:["...","...","..."],githubUrl:"",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},showcaseUrl:"...",thumbnailUrl:"",id:"..."}],reference:[],skills:{content:["..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},contact:{address:"...",email:"...",firstname:"...",lastname:"...",linkedin:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},phone:"...",phoneAvailable:"...",company:"...",pictureUrl:"",id:"..."},github:"",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},profile:{content:["...","..."],name:"...",owner:{created:new Date("..."),name:"...",username:"...",id:"..."},id:"..."},techlist:"...",id:"..."}],lastOpened:""},G=function(e){return function(){var t=Object(S.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0="UPDATE_CVS",t.next=3,M.getAllCV(e);case 3:t.t1=t.sent,t.t2={cvs:t.t1},n={type:t.t0,data:t.t2},a(n),a({type:"SET_LOADING",data:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return{type:"SET_PREVIOUS_CV",data:{id:e}}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CVS":return{cvs:t.data.cvs,lastOpened:t.data.cvs.length>1&&t.data.cvs.includes((function(t){return t.id===e.lastOpened}))?e.lastOpened:""};case"SET_PREVIOUS_CV":return{cvs:e.cvs,lastOpened:t.data.id};case"ADD_EMPTY_OBJECT":var a=e.cvs.find((function(e){return e.id===t.data.id}));if(!a)return e;switch(t.data.field){case"experience":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){var t={content:[""],name:"",owner:a.owner,timeFrame:{startDate:new Date,endDate:new Date},id:"temp"+Math.floor(1e5*Math.random()+1)};return e.id===a.id?Object(A.a)(Object(A.a)({},a),{},{experience:a.experience?a.experience.concat(t):new Array(t)}):e}))};case"education":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={content:[""],name:"",owner:a.owner,timeFrame:{startDate:new Date,endDate:new Date},id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{education:a.education?a.education.concat(t):new Array(t)})}return e}))};case"reference":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,address:"",company:"",email:"",firstname:"",lastname:"",linkedin:"",phone:"",phoneAvailable:"",pictureUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{reference:a.reference?a.reference.concat(t):new Array(t)})}return e}))};case"projects":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={content:[""],githubUrl:"",name:"",owner:a.owner,showcaseUrl:"",thumbnailUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{projects:a.projects?a.projects.concat(t):new Array(t)})}return e}))};case"profile":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{profile:t})}return e}))};case"contact":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,address:"",company:"",email:"",firstname:"",lastname:"",linkedin:"",phone:"",phoneAvailable:"",pictureUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{contact:t})}return e}))};case"communication":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],languages:[],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{communication:t})}return e}))};case"skills":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{skills:t})}return e}))};case"info":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{info:t})}return e}))};case"attachments":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(A.a)(Object(A.a)({},a),{},{attachments:t})}return e}))};default:return e}case"REMOVE_TEMP_OBJECT":var n=e.cvs.find((function(e){return e.id===t.data.id}));if(!n)return e;switch(t.data.field){case"experience":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{experience:n.experience?n.experience.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"education":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{education:n.education?n.education.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"reference":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{reference:n.reference?n.reference.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"projects":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{projects:n.projects?n.projects.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"profile":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{profile:void 0}):e}))};case"contact":return e;case"communication":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{communication:void 0}):e}))};case"skills":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{skills:void 0}):e}))};case"info":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{info:void 0}):e}))};case"attachments":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(A.a)(Object(A.a)({},n),{},{attachments:void 0}):e}))};default:return e}default:return e}},H={showNotification:F,setUser:function(e){return{type:"SET_USER",data:e}},updateCVs:G,setLoading:p},B=Object(s.b)(null,H)((function(e){var t=w(l.TEXT),a=w(l.PASSWORD),n=Object(r.useState)(!1),c=Object(g.a)(n,2),o=c[0],s=c[1],m=Object(r.useState)(!1),u=Object(g.a)(m,2),d=u[0],p=u[1];return i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:function n(r){r.persist(),r.preventDefault(),e.setLoading(!0),d||y(t.value,a.value).then((function(t){e.setUser(t),o&&window.localStorage.setItem("loggedUser",JSON.stringify(t)),e.showNotification("Login successful",N.SUCCESS,5),e.updateCVs(t)})).catch((function(t){if(t.response.data.error){var a=t.response.data.cooldownEnd&&t.response.data.cooldownEnd/1e3;if(a){e.showNotification("".concat(t.response.data.error),N.WARNING,a),p(!0);var i=setTimeout((function(){p(!1),clearTimeout(i),n(r)}),1e3*a+700)}else e.showNotification("".concat(t.response.data.error),N.ERROR,4)}else e.showNotification("No response from the server",N.ERROR,4)}))},className:"loginBox"},i.a.createElement("div",null,"Username:",i.a.createElement("input",Object.assign({disabled:d,className:"login-input",id:"username",name:"username"},t))),i.a.createElement("div",null,"Password:",i.a.createElement("input",Object.assign({disabled:d,className:"login-input",id:"password",name:"password"},a))),i.a.createElement("div",{className:"rememberme"},"Remember me",i.a.createElement("input",{id:"RememberMeCheckbox",type:"checkbox",defaultChecked:o,onChange:function(){s(!o)}})),i.a.createElement("button",{id:"login",type:"submit",disabled:d,className:"login-button"},"Login")))})),X=(a(90),a(6)),Z=a(9),J={logoutUser:function(){return{type:"LOGOUT_USER"}},clearCVS:function(){return{type:"UPDATE_CVS",data:{cvs:_}}}},z=Object(s.b)((function(e,t){return{user:e.user,lastOpenedCV:e.cv.lastOpened,loading:e.loader.isFetching}}),J)((function(e){var t=Object(X.e)(),a=e.user&&e.user.token.length>2;return e.showRoutes?i.a.createElement("div",{className:"Menu"},i.a.createElement("div",{className:"cv-app-logo"},i.a.createElement("img",{src:"logo.svg",width:"38px",height:"38px",alt:"logo"}))):i.a.createElement("div",{className:"Menu"},i.a.createElement("div",{className:"cv-app-logo"},i.a.createElement("img",{src:"./logo.svg",width:"38px",height:"38px",alt:"logo"})),i.a.createElement("div",{className:"menu-items"},i.a.createElement(Z.b,{id:"CurriculumVitae",to:"/"},i.a.createElement("div",{className:"/"===t.pathname?"menu-item selected":"menu-item"},"Curriculum Vitae")),i.a.createElement(Z.b,{id:"Users",to:"/users"},i.a.createElement("div",{className:t.pathname.includes("/users")?"menu-item selected":"menu-item"},"Users")),i.a.createElement(Z.b,{id:"MyCV",to:"/mycv".concat(e.lastOpenedCV.length>1?"/"+e.lastOpenedCV:"")},i.a.createElement("div",{className:t.pathname.includes("/mycv")?"menu-item selected":"menu-item"},"MyCV")),i.a.createElement(Z.b,{id:"About",to:"/about"},i.a.createElement("div",{className:"/about"===t.pathname?"menu-item selected":"menu-item"},"About"))),i.a.createElement("div",{className:"settings"},a?i.a.createElement(Z.b,{to:"/"},i.a.createElement("button",{id:"Logout",className:"setting-item logout-button",onClick:function(){e.logoutUser(),e.clearCVS()}},i.a.createElement("img",{src:"logout.svg",width:"17px",height:"15px",alt:"out"}),"logout")):i.a.createElement("button",{disabled:!0,className:"setting-item logout-button"},i.a.createElement("img",{className:"icon",src:"logout.svg",width:"17px",height:"15px",alt:"out"}),i.a.createElement("div",null,"logout"))))})),K=(a(92),a(24)),q=a(3),$=function(e){var t=e.id,a=e.isSubmitting;return i.a.createElement("button",{id:t,className:"form-delete-button form-button",type:"submit",onClick:e.handleDelete,disabled:a},"Delete")},Q=function(e){var t=e.id,a=e.isSubmitting,n=e.values,r=e.clearActionValues,c=e.setValues;return i.a.createElement("button",{id:t,className:"form-clear-button form-button",type:"submit",disabled:a,onClick:function(e){e.preventDefault(),c(Object(A.a)(Object(A.a)({},n),r))}},"Clear")},ee=function(e){var t=e.id,a=e.isSubmitting,n=e.setValues,r=e.formValues;return i.a.createElement("button",{id:t,className:"form-cancel-button form-button",type:"submit",disabled:a,onClick:function(e){e.preventDefault(),n(Object(A.a)({},r))}},"Cancel")},te=function(e){var t=e.id,a=e.isSubmitting;return i.a.createElement("button",{id:t,className:"form-save-button form-button",type:"submit",disabled:a},"Save")},ae=a(94),ne=ae.string().regex(/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe5\u0105\u010d\u0107\u0119\xe8\xe9\xea\xeb\u0117\u012f\xec\xed\xee\xef\u0142\u0144\xf2\xf3\xf4\xf6\xf5\xf8\xf9\xfa\xfb\xfc\u0173\u016b\xff\xfd\u017c\u017a\xf1\xe7\u010d\u0161\u017e\xc0\xc1\xc2\xc4\xc3\xc5\u0104\u0106\u010c\u0116\u0118\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\u012e\u0141\u0143\xd2\xd3\xd4\xd6\xd5\xd8\xd9\xda\xdb\xdc\u0172\u016a\u0178\xdd\u017b\u0179\xd1\xdf\xc7\u0152\xc6\u010c\u0160\u017d\u2202\xf0 ,.()!?"#\u20ac$%&@\xa3\xa7|{}'-\\$\n\u2019`\xb4]*$/).max(1e3).empty(""),re=ae.string().regex(/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe5\u0105\u010d\u0107\u0119\xe8\xe9\xea\xeb\u0117\u012f\xec\xed\xee\xef\u0142\u0144\xf2\xf3\xf4\xf6\xf5\xf8\xf9\xfa\xfb\xfc\u0173\u016b\xff\xfd\u017c\u017a\xf1\xe7\u010d\u0161\u017e\xc0\xc1\xc2\xc4\xc3\xc5\u0104\u0106\u010c\u0116\u0118\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\u012e\u0141\u0143\xd2\xd3\xd4\xd6\xd5\xd8\xd9\xda\xdb\xdc\u0172\u016a\u0178\xdd\u017b\u0179\xd1\xdf\xc7\u0152\xc6\u010c\u0160\u017d\u2202\xf0 ,.()!"#\u20ac$%&@\xa3\xa7|{}'-\u2019`\xb4]*$/).max(300),ie=ae.string().alphanum().min(4).max(30),ce=ae.string().regex(/^[a-zA-Z0-9!#%&]*$/).min(8).max(64),le=ae.string().regex(/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe5\u0105\u010d\u0107\u0119\xe8\xe9\xea\xeb\u0117\u012f\xec\xed\xee\xef\u0142\u0144\xf2\xf3\xf4\xf6\xf5\xf8\xf9\xfa\xfb\xfc\u0173\u016b\xff\xfd\u017c\u017a\xf1\xe7\u010d\u0161\u017e\xc0\xc1\xc2\xc4\xc3\xc5\u0104\u0106\u010c\u0116\u0118\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\u012e\u0141\u0143\xd2\xd3\xd4\xd6\xd5\xd8\xd9\xda\xdb\xdc\u0172\u016a\u0178\xdd\u017b\u0179\xd1\xdf\xc7\u0152\xc6\u010c\u0160\u017d\u2202\xf0 ,.'-]*$/).max(100),oe=ae.object().keys({id:ae.any(),github:ae.string().uri().empty(""),name:re,techlist:ne.empty(""),contact:ae.any(),profile:ae.any(),projects:ae.any(),reference:ae.any(),experience:ae.any(),education:ae.any(),communication:ae.any(),skills:ae.any(),info:ae.any(),attachments:ae.any()}),se=ae.object().keys({id:ae.any(),content:ne,name:re}),me=ae.object().keys({id:ae.any(),content:ne,languages:ae.array().items(ae.object()),name:re}),ue=ae.object().keys({id:ae.any(),content:ne,name:re,timeFrame:ae.object()}),de=ae.object().keys({id:ae.any(),content:ne,name:re}),pe=ae.object().keys({id:ae.any(),content:ne,githubUrl:ae.string().uri().empty(""),name:re,showcaseUrl:ae.string().uri().empty(""),thumbnailUrl:ae.string().uri().empty("")}),fe=ae.object().keys({id:ae.any(),address:re.empty(""),company:re.empty(""),email:ae.string().email({minDomainSegments:2,tlds:{allow:["com","net","fi"]}}).empty(""),firstname:re,lastname:re,linkedin:ae.string().uri().empty(""),phone:re.empty(""),phoneAvailable:re.empty(""),pictureUrl:ae.string().uri().empty("")}),ve=ae.object().keys({expires:ae.any(),name:le.empty(""),password:ce.empty(""),oldPassword:ce.empty(""),passwordConfirm:ce.empty(""),username:ie.empty("")}),he=function(e,t){for(var a=[],n=0;n<t-e;n++)a.push(e+n);return a},Ee=["January","February","March","April","May","June","July","August","September","October","November","December"],ge=function(e){var t=new Date(e.date),a=e.id,n=Object(r.useState)(t.getFullYear()),c=Object(g.a)(n,2),l=c[0],o=c[1],s=Object(r.useState)(t.getMonth()),m=Object(g.a)(s,2),u=m[0],d=m[1],p=Object(r.useState)(t.getDate()),f=Object(g.a)(p,2),v=f[0],h=f[1],E=Object(r.useState)(31),b=Object(g.a)(E,2),O=b[0],y=b[1];Object(r.useEffect)((function(){y(new Date(l,u+1,0).getDate())}),[l,u]);return i.a.createElement("div",null,i.a.createElement("select",{id:"Year"+a,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);o(a),e.handleChange(new Date(a,u,v))},value:l,className:"year-selector"},he(2e3,2030).map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))),i.a.createElement("select",{id:"Month"+a,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);d(a),e.handleChange(new Date(l,a,v))},value:u,className:"month-selector"},he(0,12).map((function(e){return i.a.createElement("option",{key:e,value:e},Ee[e])}))),i.a.createElement("select",{id:"Day"+a,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);h(a),e.handleChange(new Date(l,u,a))},value:v,className:"day-selector"},he(1,O+1).map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))))};!function(e){e.Elementary="Elementary",e.EveryDay="Every day proficiency",e.Working="Working proficiency",e.Advanced="Advanced",e.Professional="Professional",e.Native="Native speaker"}(P||(P={}));var be,Oe=[P.Elementary,P.EveryDay,P.Working,P.Advanced,P.Professional,P.Native],ye=function(e){var t=Object(r.useState)(e.initLevel),a=Object(g.a)(t,2),n=a[0],c=a[1];Object(r.useEffect)((function(){c(e.initLevel)}),[e.initLevel]);return i.a.createElement("div",null,i.a.createElement("select",{id:e.id,onChange:function(t){t.preventDefault(),c(t.target.value),e.handleChange(t.target.value.toString())},value:n,className:"language-level-selector"},Oe.map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))))},Ne=function(e){return e.split("\n")},we={updateCVs:G,addEmptyCVObject:function(e,t){return{type:"ADD_EMPTY_OBJECT",data:{id:e,field:t}}},removeTempCVObject:function(e,t,a){return{type:"REMOVE_TEMP_OBJECT",data:{id:e,field:t,objectId:a}}}},je=Object(s.b)((function(e,t){return{user:e.user}}),we)((function(e){var t=e.formValues?Object.fromEntries(Object.entries(e.formValues).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return[a,n||""]}))):null,a=e.serviceType,n=Object(X.e)(),r=e.field;if(t){var c=e.formValues?Object.fromEntries(Object.entries(e.formValues).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return"id"===a?[a,n]:[a,""]}))):null;return i.a.createElement(q.d,{initialValues:Object.fromEntries(Object.entries(t).map((function(e){var t,a=Object(g.a)(e,2),n=a[0],r=a[1];return"content"===n?[n,(t=r,t.join("\n"))]:[n,r]}))),enableReinitialize:!0,validate:function(e){var a=function(e,t){var a,n,r=null;switch(t){case"info":r=se.validate(e);break;case"projects":r=pe.validate(e);break;case"attachments":r=se.validate(e);break;case"reference":r=fe.validate(e);break;case"skills":r=se.validate(e);break;case"contact":r=fe.validate(e);break;case"profile":r=de.validate(e);break;case"communication":r=me.validate(e);break;case"experience":case"education":r=ue.validate(e);break;default:r=oe.validate(e)}return null===(a=r)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.details}(e,r);if(a&&a.length>0){var n,i,c,l=null===(n=a[0])||void 0===n||null===(i=n.context)||void 0===i?void 0:i.key;return c={},Object(K.a)(c,l,a[0].message.includes("fails to match the required pattern")?'"'+a[0].context.key+'" has forbidden characters':a[0].message),Object(K.a)(c,"id",t.id),c}return{}},onSubmit:function(i,c){var l=c.setSubmitting;if(i.id.includes("temp")){var o=n.pathname.substring("/myCV/".length),s=Object.fromEntries(Object.entries(i).filter((function(e){var a=Object(g.a)(e,2),n=a[0],r=a[1];return t[n]!==r})).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return"content"===a?[a,Ne(n)]:[a,n]})));M.createObject(a,s,o,e.user,r).then((function(t){e.updateCVs(e.user)}))}else{var m=Object.fromEntries(Object.entries(i).filter((function(e){var a=Object(g.a)(e,2),n=a[0],r=a[1];return t[n]!==r})).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return"content"===a?[a,Ne(n)]:[a,n]})));M.modifyObject(a,i.id,m,e.user).then((function(t){e.updateCVs(e.user),l(!1)}))}},key:t.id+r},(function(l){var o=l.isSubmitting,s=l.isValid,m=l.errors,u=l.values,d=l.setValues;return i.a.createElement(q.c,{className:"form-component"},!1,function(e,t,a,n,r,c){return"experience"===c||"education"===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Name"),i.a.createElement(q.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name",disabled:t}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{className:"form-label"},"Time duration"),i.a.createElement("div",{className:"timeFrameContainer"},i.a.createElement("div",null,i.a.createElement(ge,{id:"StartTime"+e,date:n.timeFrame.startDate,handleChange:function(e){r(Object(A.a)(Object(A.a)({},n),{},{timeFrame:{startDate:e,endDate:n.timeFrame.endDate}}))}})),i.a.createElement("div",{className:"time-divider"},"-"),i.a.createElement("div",null,i.a.createElement(ge,{id:"EndTime"+e,date:n.timeFrame.endDate,handleChange:function(e){r(Object(A.a)(Object(A.a)({},n),{},{timeFrame:{startDate:n.timeFrame.startDate,endDate:e}}))}}))),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.timeFrame:""),i.a.createElement("div",{className:"form-label"},"Description"),i.a.createElement(q.a,{id:c+"Descritpion"+e,className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content",disabled:t}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.content:"")):"info"===c||"attachments"===c||"skills"===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Name"),i.a.createElement(q.a,{id:c+"Name"+e,className:"form-input",placeholder:"Name",type:"text",name:"name"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{className:"form-label"},"Content"),i.a.createElement(q.a,{id:c+"Content"+e,className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.content:"")):"projects"===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Name"),i.a.createElement(q.a,{id:c+"Name"+e,key:e+"namefield",className:"form-input",placeholder:"Name",type:"text",name:"name"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{className:"form-label"},"Description"),i.a.createElement(q.a,{id:c+"Description"+e,className:"form-textarea",placeholder:"Description",as:"textarea",type:"text",name:"content"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.content:""),i.a.createElement("div",{className:"form-label"},"Github"),i.a.createElement(q.a,{id:c+"GithubUrl"+e,className:"form-input",placeholder:"Github url",type:"text",name:"githubUrl"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.githubUrl:""),i.a.createElement("div",{className:"form-label"},"Showcase"),i.a.createElement(q.a,{id:c+"ShowcaseUrl"+e,className:"form-input",placeholder:"Showcase url",type:"text",name:"showcaseUrl"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.showcaseUrl:""),i.a.createElement("div",{className:"form-label"},"Thumbnail"),i.a.createElement(q.a,{id:c+"ThumbnailUrl"+e,className:"form-input",placeholder:"Thumbnail url",type:"text",name:"thumbnailUrl"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.thumbnailUrl:"")):"contact"===c||"reference"===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Firstname"),i.a.createElement(q.a,{id:c+"Firstname"+e,className:"form-input",placeholder:"Firstname",type:"text",name:"firstname"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.firstname:""),i.a.createElement("div",{className:"form-label"},"Lastname"),i.a.createElement(q.a,{id:c+"Lastname"+e,className:"form-input",placeholder:"LastName",type:"text",name:"lastname"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.lastname:""),i.a.createElement("div",{className:"form-label"},"E-mail"),i.a.createElement(q.a,{id:c+"Email"+e,className:"form-input",placeholder:"mailto@mail.com",type:"text",name:"email"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.email:""),i.a.createElement("div",{className:"form-label"},"Linkedin"),i.a.createElement(q.a,{id:c+"Linkedin"+e,className:"form-input",placeholder:"www.linkedin.com/in/xxxxx-xxxxxx-XXXXXXXXX",type:"text",name:"linkedin"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.linkedin:""),i.a.createElement("div",{className:"form-label"},"Phone"),i.a.createElement(q.a,{id:c+"Phone"+e,className:"form-input",placeholder:"+358000000000",type:"text",name:"phone"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.phone:""),i.a.createElement("div",{className:"form-label"},"Available"),i.a.createElement(q.a,{id:c+"PhoneAvailable"+e,className:"form-input",placeholder:"Available during 9 am -  4 pm",type:"text",name:"phoneAvailable"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.phoneAvailable:""),i.a.createElement("div",{className:"form-label"},"Address"),i.a.createElement(q.a,{id:c+"Address"+e,className:"form-input",placeholder:"Streetname 1 A 1, 00100 Cityname",type:"text",name:"address"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.address:""),i.a.createElement("div",{className:"form-label"},"Company"),i.a.createElement(q.a,{id:c+"Company"+e,className:"form-input",placeholder:"Company name",type:"text",name:"company"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.company:""),i.a.createElement("div",{className:"form-label"},"Picture"),i.a.createElement(q.a,{id:c+"PictureUrl"+e,className:"form-input",placeholder:"Picture Url",type:"text",name:"pictureUrl"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.pictureUrl:"")):"profile"===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Name"),i.a.createElement(q.a,{id:c+"Name"+e,className:"form-input",placeholder:"Name",type:"text",name:"name"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{className:"form-label"},"Content"),i.a.createElement(q.a,{id:c+"Content"+e,className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.content:"")):"communication"===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Name"),i.a.createElement(q.a,{id:c+"Name"+e,className:"form-input",placeholder:"Name",type:"text",name:"name",disabled:t}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{className:"form-label language-label"},"Languages"),i.a.createElement(q.b,{name:"languages",render:function(){return i.a.createElement("div",{className:"language-panel"},n.languages&&n.languages.map((function(t,a){return i.a.createElement("div",{className:"language-pair",key:a+"language-pair"},i.a.createElement(q.a,{id:"LanguageNameField"+e+a,className:"form-input",name:"languages.".concat(a,".language"),placeholder:"Language name"}),i.a.createElement(ye,{id:"LanguageLevelSelector"+e+a,initLevel:t.level,handleChange:function(e){var a=Object(A.a)(Object(A.a)({},n),{},{languages:n.languages.map((function(a){return a.language===t.language?{language:a.language,level:e}:a}))});r(a)}}),i.a.createElement("button",{className:"form-button",onClick:function(e){e.preventDefault();var a=Object(A.a)(Object(A.a)({},n),{},{languages:n.languages.filter((function(e){return e.language!==t.language}))});r(a)}},"delete"))})),i.a.createElement("button",{id:"AddLanguage"+e,className:"add-language-button form-button",disabled:t,onClick:function(e){e.preventDefault();var t=Object(A.a)(Object(A.a)({},n),{},{languages:n.languages.concat({language:"",level:P.Elementary})});r(t)}}," add language "))}}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.languages:""),i.a.createElement("div",{className:"form-label"},"Content"),i.a.createElement(q.a,{id:c+"Content"+e,className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content",disabled:t}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.content:"")):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"form-label"},"Name"),i.a.createElement(q.a,{id:c+"Name"+e,className:"form-input",placeholder:"CV name",type:"text",name:"name"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.name:""),i.a.createElement("div",{className:"form-label"},"Github"),i.a.createElement(q.a,{id:c+"Github"+e,className:"form-input",placeholder:"Github url",type:"text",name:"github"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.github:""),i.a.createElement("div",{className:"form-label"},"Techlist"),i.a.createElement(q.a,{id:c+"Techlist"+e,className:"form-input",placeholder:"Java, CSS, Python, ...",type:"text",name:"techlist"}),i.a.createElement("div",{className:"form-input-error-message"},a.id===e?a.techlist:""))}(t.id,o,m,u,d,e.field),i.a.createElement($,{id:r+"Delete"+t.id,isSubmitting:o||"contact"===r||""===r,handleDelete:function(t){if(t.preventDefault(),u.id.includes("temp")){var i=n.pathname.substring("/myCV/".length);e.removeTempCVObject(i,r,u.id)}else M.deleteObject(a,u.id,e.user),e.updateCVs(e.user)}}),i.a.createElement(Q,{id:r+"Clear"+t.id,isSubmitting:o,values:u,clearActionValues:c,setValues:d}),i.a.createElement(ee,{id:r+"Cancel"+t.id,isSubmitting:o,setValues:d,formValues:t}),i.a.createElement(te,{id:r+"Save"+t.id,isSubmitting:o||!s}))}))}return i.a.createElement("div",{className:"form-component-empty",key:e.field+"-empty",onClick:function(){var t=n.pathname.substring("/myCV/".length);e.addEmptyCVObject(t,r)}},i.a.createElement("img",{id:e.field+"Add",src:"plus.svg",width:"100px",height:"100px",alt:"add"}))})),xe=function(e,t){return i.a.createElement(je,{formValues:{id:e.id,name:e.name,content:e.content},serviceType:U.INFO,field:t,key:e.id})},Ce=function(e,t){return i.a.createElement(je,{formValues:{id:e.id,address:e.address,company:e.company,email:e.email,firstname:e.firstname,lastname:e.lastname,linkedin:e.linkedin,phone:e.phone,phoneAvailable:e.phoneAvailable,pictureUrl:e.pictureUrl},serviceType:U.CONTACT,field:t,key:e.id})},ke=function(e,t){return i.a.createElement(je,{formValues:{id:e.id,content:e.content,name:e.name,timeFrame:e.timeFrame},serviceType:U.EXPERIENCE,field:t,key:e.id})},De=function(e){var t,a,n=e.cv;return n?i.a.createElement("div",{className:"cvFormContainer"},i.a.createElement("div",{className:"form-component-container"},i.a.createElement(je,{formValues:{id:n.id,name:n.name,github:n.github,techlist:n.techlist},serviceType:U.CV,field:""})),i.a.createElement("h3",null,"Contact"),i.a.createElement("div",{className:"form-component-container"},Ce(n.contact,"contact")),i.a.createElement("h3",null,"Profile"),i.a.createElement("div",{className:"form-component-container"},n.profile?(t=n.profile,a="profile",i.a.createElement(je,{formValues:{id:t.id,name:t.name,content:t.content},serviceType:U.PROFILE,field:a,key:t.id})):i.a.createElement(je,{serviceType:U.PROFILE,field:"profile"})),i.a.createElement("h3",null,"Projects"),i.a.createElement("div",{className:"form-component-container"},n.projects&&n.projects.map((function(e){return function(e,t){return i.a.createElement(je,{formValues:{id:e.id,content:e.content,githubUrl:e.githubUrl,name:e.name,showcaseUrl:e.showcaseUrl,thumbnailUrl:e.thumbnailUrl},serviceType:U.PROJECT,field:t,key:e.id})}(e,"projects")})),i.a.createElement(je,{serviceType:U.PROJECT,field:"projects"})),i.a.createElement("h3",null,"References"),i.a.createElement("div",{className:"form-component-container"},n.reference&&n.reference.map((function(e){return Ce(e,"reference")})),i.a.createElement(je,{serviceType:U.CONTACT,field:"reference"})),i.a.createElement("h3",null,"Work experience"),i.a.createElement("div",{className:"form-component-container"},n.experience&&n.experience.sort((function(e,t){return e.timeFrame.endDate.valueOf()-t.timeFrame.endDate.valueOf()})).map((function(e){return ke(e,"experience")})),i.a.createElement(je,{serviceType:U.EXPERIENCE,field:"experience"})),i.a.createElement("h3",null,"Education"),i.a.createElement("div",{className:"form-component-container"},n.education&&n.education.sort((function(e,t){return e.timeFrame.endDate.valueOf()-t.timeFrame.endDate.valueOf()})).map((function(e){return ke(e,"education")})),i.a.createElement(je,{serviceType:U.EXPERIENCE,field:"education"})),i.a.createElement("h3",null,"Language skills"),i.a.createElement("div",{className:"form-component-container"},n.communication?function(e,t){return i.a.createElement(je,{formValues:{id:e.id,name:e.name,content:e.content,languages:e.languages},field:t,serviceType:U.COMMUNICATION,key:e.id})}(n.communication,"communication"):i.a.createElement(je,{serviceType:U.COMMUNICATION,field:"communication"})),i.a.createElement("h3",null,"Other skills"),i.a.createElement("div",{className:"form-component-container"},n.skills?xe(n.skills,"skills"):i.a.createElement(je,{serviceType:U.INFO,field:"skills"})),i.a.createElement("h3",null,"Info"),i.a.createElement("div",{className:"form-component-container"},n.info?xe(n.info,"info"):i.a.createElement(je,{serviceType:U.INFO,field:"info"})),i.a.createElement("h3",null,"Attachments"),i.a.createElement("div",{className:"form-component-container"},n.attachments?xe(n.attachments,"attachments"):i.a.createElement(je,{serviceType:U.INFO,field:"attachments"}),!n.attachments&&i.a.createElement("p",{style:{height:"110px"}})),i.a.createElement("div",{id:"EndOfPage"})):i.a.createElement("div",null,"CV not found")},Se={showNotification:F},Ue=Object(s.b)(null,Se)((function(e){var t=e.myCVs,a=e.setPreviousCV,n=e.setLoading,r=e.user,c=e.updateCVs,l=Object(X.e)();return i.a.createElement("div",{className:"cv-selector"},t&&t.length>0&&t.map((function(t,o){var s=l.pathname.substr(l.pathname.length-t.id.length)===t.id;return i.a.createElement("div",{className:"cv-item",key:t.id,style:{transition:"margin-top 0.2s ease, margin-bottom 0.2s ease",marginTop:s?"10px":"2px",marginBottom:s?"2px":"10px"}},i.a.createElement(Z.b,{id:"Select"+t.id,className:"cv-selector-item",to:"/mycv/".concat(t.id),onClick:function(){a(t.id)}},i.a.createElement("img",{src:"emptycv.svg",width:"150px",height:"180px",alt:"document"}),0===o&&i.a.createElement("div",{className:"default-label"},"default"),i.a.createElement("div",{style:{zIndex:1}},t.name,Object.entries(t).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return n?i.a.createElement("p",{key:a},a+": "+n):""})))),i.a.createElement("button",{id:"Delete"+t.id,onClick:function(a){a.preventDefault(),n(!0),M.deleteObject(U.CV,t.id,r).then((function(a){c(r),e.showNotification("CV ".concat(t.name," deleted"),N.SUCCESS,4)}))}},i.a.createElement("img",{className:"icon",src:"delete.svg",width:"17px",height:"15px",alt:"delete"})))})),i.a.createElement("img",{id:"CreateEmptyCV",src:"emptycvplus.svg",width:"150px",height:"180px",alt:"document",onClick:function(t){t.preventDefault(),n(!0),M.createEmptyCV(r).then((function(t){c(r),e.showNotification("Empty CV created",N.SUCCESS,4)}))}}))})),Te=function(e){return O.a.get("/api/users",I(e)).then((function(e){return e.data}))},Ve=function(e,t,a,n,r){var i=t||a||n?{username:t,name:a,password:n,expires:r}:{};return O.a.post("".concat("/api/users"),i,I(e)).then((function(e){return e}))},Fe=function(e,t){return O.a.delete("".concat("/api/users","/").concat(e),I(t)).then((function(e){return e}))},Re=function(e,t){return O.a.post("/api/users/owner",{id:e},I(t)).then((function(e){return e.data}))},Ae=function(e,t,a){return O.a.put("/api/users",{changes:a,id:t},I(e)).then((function(e){return e}))},Ie={showNotification:F},Pe=Object(s.b)(null,Ie)((function(e){var t=Object(r.useState)([]),a=Object(g.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)([]),o=Object(g.a)(l,2),s=o[0],m=o[1],d=e.showDefaultUserMenu,p=e.selectedCV,f=e.owner;Object(r.useEffect)((function(){v(),h()}),[p]);var v=function(){Te(f).then((function(t){c(t),e.setLoading(!1)})).catch((function(t){e.showNotification("Request for retrieving users was denied. "+t.response.data.error,N.ERROR,4)}))},h=function(){p&&M.getCVDefault(p.id,f).then((function(e){var t;m(null!==(t=e.default)&&void 0!==t?t:[])}))};return i.a.createElement("div",{className:"userSelectionContainer",style:{display:d?"block":"none"}},"Users that have ",null===p||void 0===p?void 0:p.name," as default",n.map((function(t,a){return i.a.createElement("p",{key:"user".concat(a),style:{transition:"background-color 0.2s ease",marginTop:"-8px",borderRadius:"20px",margin:"10px",cursor:"pointer",textAlign:"center",backgroundColor:s.includes(t.id)?"rgba(177, 255, 161, 0.637)":"rgba(255, 161, 161, 0.5)"},onClick:function(a){var n;(a.preventDefault(),s.includes(t.id))?e.showNotification("You can only add users",N.ERROR,4):M.setCVDefault(null!==(n=null===p||void 0===p?void 0:p.id)&&void 0!==n?n:"",f,t.id).then((function(a){e.showNotification("User ".concat(t.username," will see ").concat(null===p||void 0===p?void 0:p.name," in their home page"),N.SUCCESS,4),m([].concat(Object(u.a)(s),[t.id]))})).catch((function(t){t.response.data.error&&e.showNotification(t.response.data.error,N.ERROR,12)}))}},i.a.createElement("button",{className:"toolbar-button",style:{transform:"scale(1.1)",transition:"margin-left 0.2s ease",width:"60%",marginLeft:s.includes(t.id)?"calc(40% - 15px)":"calc(-40% + 15px)",padding:"5px",borderRadius:"20px"}},t.username))})))})),Le=(a(114),function(e){return i.a.createElement("div",{className:"toolbar"},e.children)}),Me={updateCVs:G,setPreviousCV:W,showNotification:F,setLoading:p},_e=Object(s.b)((function(e,t){return{user:e.user,cvs:e.cv.cvs}}),Me)((function(e){var t=Object(X.e)(),a=e.cvs?e.cvs:[],n=Object(r.useState)(!1),c=Object(g.a)(n,2),l=c[0],o=c[1];return i.a.createElement("div",null,i.a.createElement(X.a,{path:"/mycv",render:function(n){var r,c,s,m=n.match,u=null!==(r=null===(c=e.cvs)||void 0===c?void 0:c.find((function(e){return t.pathname.endsWith(e.id+"")})))&&void 0!==r?r:null;return i.a.createElement("div",null,i.a.createElement(Le,null,i.a.createElement("button",{id:"DuplicateDefault",className:"toolbar-button",onClick:function(t){t.preventDefault(),e.setLoading(!0),a[0]&&M.duplicateCV(a[0],e.user,e.showNotification).then((function(t){e.updateCVs(e.user),e.showNotification("Default CV duplicated",N.SUCCESS,6)})).catch((function(t){t.response.data.error&&e.showNotification(t.response.data.error,N.ERROR,12)}))}}," Duplicate Default "),i.a.createElement("button",{id:"SetAsDefaultCV",className:"toolbar-button",disabled:!u,onClick:function(t){if(t.preventDefault(),!u)return null;e.setLoading(!0),M.setCVDefault(u.id,e.user).then((function(){e.updateCVs(e.user),e.showNotification("Default CV updated",N.SUCCESS,4)})).catch((function(t){t.response.data.error&&e.showNotification(t.response.data.error,N.ERROR,12)}))}}," Set As Default "),i.a.createElement("button",{id:"ShowToUserMenu",className:"toolbar-button",onClick:function(e){e.preventDefault(),o(!l)},disabled:!u}," Show to User... "),i.a.createElement(Z.b,{key:"toolbarlink"+m.params.id,to:"/preview/".concat(null===u||void 0===u?void 0:u.id)},i.a.createElement("button",{id:"Preview",className:"toolbar-button",disabled:!u}," Preview ")),i.a.createElement(Pe,{showDefaultUserMenu:l,selectedCV:u,owner:e.user,setLoading:p})),i.a.createElement("h1",null,"My CV's"),i.a.createElement(Ue,{myCVs:a,setPreviousCV:W,setLoading:p,user:e.user,updateCVs:e.updateCVs}),(s=a,i.a.createElement(X.a,{exact:!0,path:"/mycv/:id",render:function(e){var t=e.match;return i.a.createElement(De,{cv:s.find((function(e){return e.id===t.params.id}))})}})))}}),i.a.createElement(X.a,{exact:!0,path:"/preview/:id",render:function(a){a.match;var n,r,c=null!==(n=null===(r=e.cvs)||void 0===r?void 0:r.find((function(e){return t.pathname.endsWith(e.id+"")})))&&void 0!==n?n:null;return i.a.createElement("div",null,i.a.createElement(Le,null,i.a.createElement(Z.b,{to:"/mycv/".concat(null===c||void 0===c?void 0:c.id)},i.a.createElement("button",{id:"ReturnToEditor",className:"toolbar-button"},"Return to editor"))),i.a.createElement(E,{preview:c}))}}))})),Ge=(a(115),function(e){var t=Object(A.a)(Object(A.a)({},e.message),{},{text:e.message.text.split("https://rampemus-cvapp.herokuapp.com")[0]}),a=e.message.text.split("https://rampemus-cvapp.herokuapp.com")[1]||null,n=e.duration,c=Object(r.useState)(1),l=Object(g.a)(c,2),o=l[0],s=l[1],m=Object(r.useState)(!0),u=Object(g.a)(m,2),d=u[0],p=u[1];Object(r.useEffect)((function(){if(n)var e=setTimeout((function(){s(0),clearTimeout(e)}),100)}),[n]);var f="deleted"===t.id.substr(8);return i.a.createElement("div",{key:t.id.substr(0,8),className:"notification ".concat(t.type),style:{transition:"all 0.4s ease",maxHeight:f?"0":"100px",paddingTop:f?"0":"10px",paddingBottom:f?"0":"10px",marginTop:f?"0":"5px",marginBottom:f?"0":"4px",overflow:f?"hidden":"auto",display:d?"grid":"none"}},i.a.createElement("div",{className:"notification-text",style:{transition:"all 0.4s ease",opacity:f?"0":"1"}},t.text,a&&i.a.createElement("span",null,i.a.createElement("a",{href:"https://rampemus-cvapp.herokuapp.com",style:{textDecoration:"underline"}},"CV app"),a)),i.a.createElement("div",{className:"notification-close-button",style:{opacity:f?"0":"1",marginTop:"2px",minHeight:"20px",minWidth:"20px"},onClick:function(){e.deleteNotification(),p(!1)}},i.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",style:{width:"20px",height:"20px",position:"static",transform:"scale(1.2)"},viewBox:"0 0 20 20"},i.a.createElement("g",{transform:"translate(10,10)"},i.a.createElement("circle",{className:"close-circle",style:{fill:"none",backgroundColor:"none",opacity:n?".25":"0",strokeWidth:9,strokeDasharray:9*o*3.14+" 28.26",transition:"stroke-dasharray "+n+"s linear",transform:"scale(-1,1) rotate(-135deg)"},r:4.5})),i.a.createElement("rect",{x:"0.81",y:"9.29",transform:"matrix(-0.7071 0.7071 -0.7071 -0.7071 24.1421 10)",width:"18.38",height:"1.41"}),i.a.createElement("rect",{x:"0.66",y:"9.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 10.038 -4.0285)",width:"18.44",height:"1.41"}))))}),We=function(e,t){return{messages:e.notification.messages}},Ye={deleteNotification:function(e){return{type:"DELETE_NOTIFICATION",id:e,data:[]}}},He=(Object(s.b)(We,Ye),Object(s.b)(We,Ye)((function(e){var t=Object(r.useState)(e.messages),a=Object(g.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=e.messages.filter((function(e){return-1===n.findIndex((function(t){return t.id===e.id}))})),a=n.map((function(t){if(-1===e.messages.findIndex((function(e){return e.id===t.id}))){var a=t.id.substr(0,8)+"deleted";return Object(A.a)(Object(A.a)({},t),{},{id:a})}return t})).concat(t);a.find((function(e){return"deleted"!==e.id.substr(8,15)}))?c(a):c([])}),[e.messages]),n?i.a.createElement("div",{className:"notificationContainer",style:{opacity:n.length>0?1:0}},n.map((function(t){return i.a.createElement(Ge,{key:t.id.substr(0,8),message:t,deleteNotification:function(){return e.deleteNotification(t.id)},duration:t.duration})}))):i.a.createElement("div",{className:"notificationContainer"})}))),Be=(a(116),a(117),function(e){var t=e.user,a=t.name,n=t.username,r=t.id,c=t.created,l=t.expires;return i.a.createElement("tr",{key:"usertr"+r},i.a.createElement("td",null,i.a.createElement(Z.b,{id:"LinkTo".concat(n),to:"/users/".concat(n)},n)),i.a.createElement("td",null,a),i.a.createElement("td",null,c.toString().substring(0,10)," / ",l?l.toString().substring(0,10):"-never-"),i.a.createElement("td",null,"rampemus"===n?"Admin":"User"),i.a.createElement("td",null,i.a.createElement("button",{id:"Delete".concat(n),onClick:function(){return e.handleUserDelete()}},i.a.createElement("img",{className:"icon",src:"delete.svg",width:"17px",height:"15px",alt:"delete"}),"Delete")))}),Xe={showNotification:F,setLoading:p};!function(e){e[e.TWO_WEEKS=Date.now()+12096e5]="TWO_WEEKS",e[e.ONE_MONTH=Date.now()+2592e6]="ONE_MONTH"}(be||(be={}));var Ze=Object(s.b)((function(e,t){return{user:e.user}}),Xe)((function(e){var t,a,n=Object(r.useState)(void 0),c=Object(g.a)(n,2),l=c[0],o=c[1];return i.a.createElement(q.d,{initialValues:{name:(null===(t=e.formValues)||void 0===t?void 0:t.name)||"",username:(null===(a=e.formValues)||void 0===a?void 0:a.username)||"",password:"",passwordConfirm:"",oldPassword:""},enableReinitialize:!0,validate:function(e){var t,a,n,r,i,c,l=ve.validate(e,!0);if(!l.error)return{};var o=null===(t=l.error)||void 0===t?void 0:t.details.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{message:e.message.includes("fails to match the required pattern")?'"name" has forbidden characters':e.message})}));return{name:null===(a=o.find((function(e){return"name"===e.context.key})))||void 0===a?void 0:a.message,username:null===(n=o.find((function(e){return"username"===e.context.key})))||void 0===n?void 0:n.message,password:null===(r=o.find((function(e){return"password"===e.context.key})))||void 0===r?void 0:r.message,passwordConfirm:null===(i=o.find((function(e){return"passwordConfirm"===e.context.key})))||void 0===i?void 0:i.message,oldPassword:null===(c=o.find((function(e){return"oldPassword"===e.context.key})))||void 0===c?void 0:c.message}},onSubmit:function(t,a){var n=a.setSubmitting,r=a.setValues;if(e.setLoading(!0),e.newUser)t.password===t.passwordConfirm?Ve(e.user,t.username,t.name,t.password,l).then((function(t){o(void 0),e.showNotification("User ".concat(t.data.name," was created"),N.SUCCESS,4),e.reloadUsers(),e.closeForm(),r({name:"",username:"",password:"",passwordConfirm:"",oldPassword:""}),e.setLoading(!1)})).catch((function(t){return e.showNotification(t.response.data.error,N.ERROR,5)})):e.showNotification("Password and password confirmation does not match",N.WARNING,4);else{var i,c={name:e.formValues&&e.formValues.name!==t.name?t.name:void 0,username:e.formValues&&e.formValues.username!==t.username?t.username:void 0,password:t.oldPassword.length>8?t.oldPassword:void 0,newPassword:t.passwordConfirm.length>8?t.passwordConfirm:void 0,expires:e.formValues&&e.formValues.expires&&e.formValues.expires!==l?l:void 0};Ae(e.user,(null===(i=e.formValues)||void 0===i?void 0:i.id)||"",c).then((function(t){e.reloadUsers(),e.closeForm(),e.showNotification("User modifications updated successfully",N.SUCCESS,5),e.setLoading(!1)})).catch((function(t){e.showNotification(t.response.data.error,N.ERROR,5)}))}n(!1),e.closeForm()}},(function(t){var a,n=t.isSubmitting,r=t.isValid,c=t.errors;return i.a.createElement(q.c,null,e.newUser?"Create new user":"Modify user "+(null===(a=e.formValues)||void 0===a?void 0:a.username)+":",i.a.createElement("p",null,"Full name"),i.a.createElement(q.a,{id:"NewUserFullName",key:"namefield",className:"user-form-input",placeholder:"Full Name",type:"text",name:"name",disabled:n}),i.a.createElement("div",{key:"nameerrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.name),i.a.createElement("p",null,"Username"),i.a.createElement(q.a,{id:"NewUserName",key:"usernamefield",className:"user-form-input",placeholder:"Username",type:"text",name:"username",disabled:n}),i.a.createElement("div",{key:"usernameerrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.username),e.newUser?i.a.createElement("p",null,"User is valid"):i.a.createElement("p",null,"User is valid after changes (admin only)"),i.a.createElement("div",null,i.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return o(new Date(be.TWO_WEEKS))}})," a fortnight",i.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return o(new Date(be.ONE_MONTH))}})," a month",i.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return o(null)}})," forever"),!e.newUser&&i.a.createElement("p",{key:"olduserparagraph"},"Re-enter old password"),!e.newUser&&i.a.createElement(q.a,{id:"OldPassword",key:"oldpasswordfield",className:"user-form-input",type:"password",name:"oldPassword",disabled:n}),i.a.createElement("div",{key:"oldpassworderrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.oldPassword),e.newUser?i.a.createElement("p",null,"Password for new user"):i.a.createElement("p",null,"New password"),i.a.createElement(q.a,{id:"NewPassword",key:"passwordfield",className:"user-form-input",type:"password",name:"password",disabled:n}),i.a.createElement("div",{key:"passworderrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.password),e.newUser?i.a.createElement("p",null,"Confirm password"):i.a.createElement("p",null,"Confirm new password"),i.a.createElement(q.a,{id:"NewPasswordConfirm",key:"confirmpasswordfield",className:"user-form-input",type:"password",name:"passwordConfirm",disabled:n}),i.a.createElement("div",{key:"passwordconfirmationerrormessage",className:"form-input-error-message"},null===c||void 0===c?void 0:c.passwordConfirm),i.a.createElement("div",{style:{textAlign:"right",marginTop:"10px"}},i.a.createElement("button",{className:"toolbar-button",onClick:function(t){t.preventDefault(),e.closeForm()}},"Cancel"),i.a.createElement("button",{id:"SubmitUserForm",className:"toolbar-button",type:"submit",disabled:n||!r},e.newUser?"Submit":"Submit changes")))}))})),Je=Object(s.b)((function(e,t){return{userForHeaders:e.user}}))((function(e){var t=e.user,a=Object(r.useState)(null),n=Object(g.a)(a,2),c=n[0],l=n[1],o=Object(r.useState)(!1),s=Object(g.a)(o,2),m=s[0],u=s[1];if(Object(r.useEffect)((function(){t&&t.id&&Re(t.id,e.userForHeaders).then((function(e){l(e)}))}),[t]),t){var d=t.expires?new Date(t.expires).valueOf()-Date.now().valueOf():0,p=t.expires?d>0?"User expires after "+Math.floor(d/864e5)+" days "+Math.floor(d%864e5/36e5)+" hours":"User is expired":"User never expires",f=c?new Date(c.created):new Date;return i.a.createElement("div",null,i.a.createElement(Le,null,i.a.createElement("div",null,i.a.createElement("button",{disabled:!0,className:"toolbar-button"},"add random user"),i.a.createElement("button",{disabled:!0,className:"toolbar-button"},"add user..."),i.a.createElement("button",{id:"EditUser",className:"toolbar-button",onClick:function(){u(!m)}},"edit user..."),i.a.createElement("div",{className:"formContainer",style:{display:m?"block":"none"}},i.a.createElement(Ze,{newUser:!1,formValues:{id:e.user?e.user.id:"",name:e.user?e.user.name:"",username:e.user?e.user.username:"",expires:e.user&&e.user.expires?new Date(e.user.expires):void 0},closeForm:function(){return u(!1)},reloadUsers:function(){e.updateUser()}})))),i.a.createElement("h1",null,t.username),i.a.createElement("h3",null,"Information"),i.a.createElement("p",null,t.name),i.a.createElement("p",null,c?"User created by "+c.username+" "+f.getFullYear()+"-"+f.getMonth()+"-"+f.getDay():"User has no owner"),i.a.createElement("p",null,p))}return i.a.createElement("div",null,"User not found")})),ze={showNotification:F,setLoading:p},Ke=function(e,t){return{user:e.user}},qe=(Object(s.b)(Ke,ze),Object(s.b)(Ke,ze)((function(e){var t=Object(r.useState)([]),a=Object(g.a)(t,2),n=a[0],c=a[1];Object(r.useEffect)((function(){l()}),[]);var l=function(){Te(e.user).then((function(t){c(t),e.setLoading(!1)})).catch((function(t){e.showNotification("Request for retrieving users was denied. "+t.response.data.error,N.ERROR,4)}))},o=Object(r.useState)(!1),s=Object(g.a)(o,2),m=s[0],u=s[1],d=Object(X.e)();return!!(d.pathname.includes("/users")&&d.pathname.length>"/users/".length)?i.a.createElement(X.a,{exact:!0,path:"/users/:username",render:function(e){var t=e.match;return i.a.createElement(Je,{user:n.find((function(e){return e.username===t.params.username})),updateUser:function(){return l()}})}}):i.a.createElement("div",null,i.a.createElement(Le,null,i.a.createElement("div",null,i.a.createElement("button",{id:"AddRandomUser",className:"toolbar-button",onClick:function(){return e.setLoading(!0),void Ve(e.user).then((function(t){e.showNotification("To view this CV in electronic format, please login to my https://rampemus-cvapp.herokuapp.com using username: ".concat(t.data.username," and password: ").concat(t.data.password),N.SUCCESS),l()})).catch((function(t){return e.showNotification(t.response.data.error,N.ERROR,5)}))}},"add random user"),i.a.createElement("button",{id:"AddUser",className:"toolbar-button",onClick:function(){u(!m)}},"add user..."),i.a.createElement("button",{disabled:!0,className:"toolbar-button"},"edit user...")),i.a.createElement("div",{className:"formContainer",style:{display:m?"block":"none"}},i.a.createElement(Ze,{newUser:!0,closeForm:function(){return u(!1)},reloadUsers:function(){return l()}}))),i.a.createElement("h1",null,"Users"),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Username"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Created/Expires"),i.a.createElement("th",null,"Status"),i.a.createElement("th",null)),n.map((function(t){return i.a.createElement(Be,{key:"usersrow"+t.id,user:t,handleUserDelete:function(){return function(t){e.setLoading(!0);var a=n.find((function(e){return e.id===t}));a?Fe(t,e.user).then((function(r){c(n.filter((function(e){return e.id!==t}))),e.showNotification("User ".concat(a.name," was deleted"),N.SUCCESS,3),e.setLoading(!1)})).catch((function(t){return e.showNotification(t.response.data.error,N.ERROR,5)})):e.showNotification("User does not exist",N.ERROR,5)}(t.id)}})})))))}))),$e={updateCVs:G},Qe=Object(s.b)((function(e,t){return{user:e.user}}),$e)((function(e){var t=e.user,a=t&&t.token.length>2;console.log("running in","production"),Object(r.useEffect)((function(){e.user&&e.user.token.length>0&&e.updateCVs(e.user)}),[]);return i.a.createElement("div",{className:"App",id:"App"},i.a.createElement(Z.a,null,i.a.createElement(z,{showRoutes:!a}),i.a.createElement(o,null),(e.updateStatus&&e.updateStatus(),a?i.a.createElement("div",{className:"content"},i.a.createElement(X.a,{exact:!0,path:"/"},i.a.createElement(E,null)),i.a.createElement(X.a,{path:"/users"},i.a.createElement(qe,null)),i.a.createElement(X.a,{path:"/mycv"},i.a.createElement(_e,null)),i.a.createElement(X.a,{path:"/preview"},i.a.createElement(_e,null)),i.a.createElement(X.a,{exact:!0,path:"/about"},i.a.createElement(c,null))):i.a.createElement("div",{className:"content"},i.a.createElement(B,null))),i.a.createElement(He,null),i.a.createElement(m,null),i.a.createElement(o,{bottom:!0})))})),et=a(27),tt=a.n(et),at=a(56),nt=(a(118),a(21)),rt=Object(nt.combineReducers)({notification:R,user:C,cv:Y,loader:f}),it=Object(nt.createStore)(rt,Object(nt.applyMiddleware)(at.a));window.appStatus=!1,window.appStore=it;var ct=function(){window.appStatus=!0},lt=function(){tt.a.render(i.a.createElement(s.a,{store:it},i.a.createElement(Qe,{updateStatus:ct})),document.getElementById("root"))};lt(),it.subscribe(lt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e,t,a){e.exports=a(119)},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.3e4a41c8.chunk.js.map