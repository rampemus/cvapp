(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{48:function(e,t,a){e.exports=a(87)},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(22),i=a(5),o=a(43),m=a(25),s=a.n(m),u=(a(56),a(2));a(57),a(58);!function(e){e.EMPTY="",e.LIGHT="rgb(219, 223, 224)",e.GREY="rgb(195,202,209)",e.BLUE="rgb(189,205,219)",e.DARK="rgb(172,176,187)",e.STROKE_LIGHT="rgb(212, 213, 214)",e.STROKE_HIGHLIGHT="rgb(184, 191, 204)"}(n||(n={}));var d,p=function(e){var t=1.5/Math.sqrt(3),a=function(e,a,r,l,i,o){var m=3*r+2*l*t;return c.a.createElement("g",{key:"hexaRow".concat(o)},i.map((function(l,i){return function(e,a,r,l,i){if(l===n.EMPTY)return"";var o=l===n.LIGHT?n.STROKE_LIGHT:n.STROKE_HIGHLIGHT,m="".concat(e-r,", ").concat(a," "),s="".concat(e-.5*r,", ").concat(a-r*t," "),u="".concat(e+.5*r,", ").concat(a-r*t," "),d="".concat(e+r,",").concat(a," "),p="".concat(e+.5*r,", ").concat(a+r*t," "),f="".concat(e-.5*r,", ").concat(a+r*t," "),v=m.concat(s,u,d,p,f);return c.a.createElement("polygon",{key:i,points:v,style:{stroke:o,strokeWidth:3,fill:l}})}(e+m*i,a,r,l,"r".concat(o,"h").concat(i))})))},r=function(e){var t=[];return e.forEach((function(e,a){e<1?t.push(n.EMPTY):e<2?t.push(n.LIGHT):e<3?t.push(n.GREY):e<4?t.push(n.BLUE):t.push(n.DARK)})),t},l=function(n){var l=92*t+7;return c.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 1200 1200",preserveAspectRatio:(e.bottom,"xMidYMin slice"),className:e.bottom?"bottom-hexa":"top-hexa"},n.map((function(e,n){return n%2===0?a(0,0+l*n/2,46,7,r(e),n):a(69+7*t,0+46*t+3.5+l*(n-1)/2,46,7,r(e),n)})))};return e.bottom?c.a.createElement("div",null,l([[0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0],[1,0,1,0,0,0,0,0,1],[1,0,0,1,1,0,1,1],[3,1,1,0,0,1,1,1,2],[2,1,1,1,1,1,1,2],[3,2,2,1,1,1,1,2,4],[4,3,2,1,1,1,2,4],[3,3,3,3,2,2,3,3,2],[2,2,4,4,2,2,4,3],[2,2,3,2,3,3,3,2,3]])):c.a.createElement("div",null,l([[3,2,3,2,3,3,3,2,3],[3,2,4,2,2,2,2,4],[3,2,3,2,3,4,3,2,3],[4,2,4,2,3,4,2,4],[3,2,2,2,2,1,1,2,4],[2,1,1,1,1,1,2,2],[3,1,1,1,1,1,1,1,2],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1],[1,1,1,0,1,0,1,1],[1,1,0,1,0,1,0,1,1],[1,0,0,0,0,0,1,1]]))},f=(a(59),a(21)),v=a(9),E=window.localStorage.getItem("loggedUser"),h=E?JSON.parse(E):{token:"",username:"",name:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;case"LOGOUT_USER":return window.localStorage.removeItem("loggedUser"),{token:"",username:"",name:""};default:return e}},g={logoutUser:function(){return{type:"LOGOUT_USER"}}},O=Object(i.b)((function(e,t){return{user:e.user,lastOpenedCV:e.cv.lastOpened}}),g)((function(e){var t=Object(f.e)(),a=e.user&&e.user.token.length>2;return e.showRoutes?c.a.createElement("div",{className:"Menu"},c.a.createElement("div",{className:"cv-app-logo"},c.a.createElement("img",{src:"logo.svg",width:"38px",height:"38px",alt:"logo"}))):c.a.createElement("div",{className:"Menu"},c.a.createElement("div",{className:"cv-app-logo"},c.a.createElement("img",{src:"./logo.svg",width:"38px",height:"38px",alt:"logo"})),c.a.createElement("div",{className:"menu-items"},c.a.createElement(v.b,{to:"/"},c.a.createElement("div",{className:"/"===t.pathname?"menu-item selected":"menu-item"},"Curriculum Vitae")),c.a.createElement(v.b,{to:"/users"},c.a.createElement("div",{className:"/users"===t.pathname?"menu-item selected":"menu-item"},"Users")),c.a.createElement(v.b,{to:"/mycv".concat(e.lastOpenedCV.length>1?"/"+e.lastOpenedCV:"")},c.a.createElement("div",{className:t.pathname.includes("/mycv")?"menu-item selected":"menu-item"},"MyCV")),c.a.createElement(v.b,{to:"/about"},c.a.createElement("div",{className:"/about"===t.pathname?"menu-item selected":"menu-item"},"About"))),c.a.createElement("div",{className:"settings"},a?c.a.createElement("button",{className:"setting-item logout-button",onClick:function(){return e.logoutUser()}},"logout"):c.a.createElement("button",{disabled:!0,className:"setting-item logout-button"},"logout")))}));a(61);!function(e){e.TEXT="text",e.PASSWORD="password"}(d||(d={}));var N,y=function(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),n=a[0],c=a[1];return{type:e,value:n,onChange:function(e){c(e.currentTarget.value)}}},w=a(10),C=a.n(w),j=function(e,t){var a={username:e,password:t};return C.a.post("/api/login",a).then((function(e){return e.data}))},x=a(7),D=a.n(x);!function(e){e.ERROR="error",e.SUCCESS="success",e.WARNING="warning"}(N||(N={}));var k,T=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},S={visible:!0,messages:[]},V=function(e,t,a){return function(n){var r;return D.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:r=T(),n({type:"SHOW_NOTIFICATION",data:[{text:e,id:r,type:t}]}),a&&setTimeout((function(){n({type:"DELETE_NOTIFICATION",id:r,data:[]})}),1e3*a);case 4:case"end":return c.stop()}}))}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NOTIFICATION":var a=e.messages.concat(t.data),n={visible:!0,messages:a};return n;case"DELETE_NOTIFICATION":var r=e.messages.filter((function(e){return e.id!==t.id})),c={visible:r.length>0,messages:r};return c;default:return e}},I={showNotification:V,setUser:function(e){return{type:"SET_USER",data:e}}},R=Object(i.b)(null,I)((function(e){var t=y(d.TEXT),a=y(d.PASSWORD);return c.a.createElement("div",{className:"Login"},c.a.createElement("form",{onSubmit:function(n){n.preventDefault(),j(t.value,a.value).then((function(t){window.localStorage.setItem("loggedUser",JSON.stringify(t)),e.setUser(t),e.showNotification("Login successful",N.SUCCESS,4)})).catch((function(t){t.response.data.error?e.showNotification("Error ".concat(t.response.data.error),N.ERROR,4):e.showNotification("Error no response from server",N.ERROR,4)}))},className:"loginBox"},c.a.createElement("div",null,"Username: ",c.a.createElement("input",Object.assign({className:"login-input",id:"username",name:"username",value:""},t))),c.a.createElement("div",null,"Password: ",c.a.createElement("input",Object.assign({className:"login-input",id:"password",name:"password",value:""},a))),c.a.createElement("button",{type:"submit",className:"login-button"},"Login")))})),F=(a(80),Object(i.b)((function(e,t){return{user:e.user}}),null)((function(e){return e.user&&e.user.name.length>2&&e.user?c.a.createElement("div",{className:"Footer"},"Logged in as ",e.user.name):c.a.createElement("div",{className:"Footer"},"You are not logged in")}))),A=(a(81),function(e){var t=e.user,a=t.name,n=t.username,r=t.id,l=t.created,i=t.expires;return c.a.createElement("tr",{key:"usertr"+r},c.a.createElement("td",null,c.a.createElement(v.b,{to:"/users/".concat(n)},n)),c.a.createElement("td",null,a),c.a.createElement("td",null,l.toString().substring(0,10)," / ",i?i.toString().substring(0,10):"-never-"),c.a.createElement("td",null,"rampemus"===n?"Admin":"User"),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return e.handleUserDelete()}},"Delete")))}),M=function(){var e=window.localStorage.getItem("loggedUser");return{headers:{"Content-Type":"application/json",Authorization:"bearer "+(e?JSON.parse(e).token:"")}}},P=function(){return C.a.get("/api/users",M()).then((function(e){return e.data}))},_=function(e,t,a,n){var r=e||t||a?{username:e,name:t,password:a,expires:n}:{};return C.a.post("".concat("/api/users"),r,M()).then((function(e){return e}))},L=function(e){return C.a.delete("".concat("/api/users","/").concat(e),M()).then((function(e){return e}))},W=(a(82),function(e){return c.a.createElement("div",{className:"toolbar"},e.children)}),G={showNotification:V},H=Object(i.b)(null,G)((function(e){var t,a=Object(r.useState)(""),n=Object(u.a)(a,2),l=n[0],i=n[1],o=Object(r.useState)(""),m=Object(u.a)(o,2),s=m[0],d=m[1],p=Object(r.useState)(null),f=Object(u.a)(p,2),v=f[0],E=f[1],h=Object(r.useState)(""),b=Object(u.a)(h,2),g=b[0],O=b[1],y=Object(r.useState)(""),w=Object(u.a)(y,2),C=w[0],j=w[1];!function(e){e[e.TWO_WEEKS=Date.now()+12096e5]="TWO_WEEKS",e[e.ONE_MONTH=Date.now()+2592e6]="ONE_MONTH"}(t||(t={}));var x=Object(r.useState)(!0),D=Object(u.a)(x,2),k=D[0],T=D[1],S=function(e,t){T(e===t)};return c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),g===C?_(s,l,g,v).then((function(t){i(""),d(""),E(null),O(""),j(""),e.showNotification("User ".concat(t.data.name," was created"),N.SUCCESS,4),e.reloadUsers(),e.closeForm()})).catch((function(t){return e.showNotification(t.response.data.error,N.ERROR,5)})):e.showNotification("Password and password confirmation does not match",N.WARNING,4)},autoComplete:"off"},"Create new custom user",c.a.createElement("p",null,"Full name"),c.a.createElement("input",{type:"text",value:l,onChange:function(e){var t=e.target;return i(t.value)}}),c.a.createElement("p",null,"Username"),c.a.createElement("input",{type:"text",value:s,onChange:function(e){var t=e.target;return d(t.value)}}),c.a.createElement("p",null,"User is valid"),c.a.createElement("div",null,c.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return E(new Date(t.TWO_WEEKS))}})," a fortnight",c.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return E(new Date(t.ONE_MONTH))}})," a month",c.a.createElement("input",{type:"radio",name:"expires",onClick:function(){return E(null)}})," forever"),c.a.createElement("p",null,"Password for new user"),c.a.createElement("input",{type:"password",value:g,onChange:function(e){var t=e.target;O(t.value),C.length>0&&S(t.value,C)},style:{backgroundColor:k?"white":"yellow"}}),c.a.createElement("p",null,"Confirm password"),c.a.createElement("input",{type:"password",value:C,onChange:function(e){var t=e.target;j(t.value),S(g,t.value)},style:{backgroundColor:k?"white":"yellow"}}),c.a.createElement("div",{style:{textAlign:"right",marginTop:"10px"}},c.a.createElement("button",{className:"toolbar-button",onClick:function(t){t.preventDefault(),e.closeForm()}},"Cancel"),c.a.createElement("button",{className:"toolbar-button",type:"submit"},"Create user")))})),J={showNotification:V},Y=Object(i.b)(null,J)((function(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),n=a[0],l=a[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){P().then((function(e){l(e)})).catch((function(t){e.showNotification("Request for retrieving users was denied. "+t.response.data.error,N.ERROR,4)}))},o=Object(r.useState)(!1),m=Object(u.a)(o,2),s=m[0],d=m[1];return c.a.createElement("div",null,c.a.createElement(W,null,c.a.createElement("div",null,c.a.createElement("button",{className:"toolbar-button",onClick:function(){_().then((function(t){e.showNotification("User ".concat(t.data.name," created. Username/password is ").concat(t.data.username,"/").concat(t.data.password),N.SUCCESS),i()})).catch((function(t){return e.showNotification(t.response.data.error,N.ERROR,5)}))}},"add random user"),c.a.createElement("button",{className:"toolbar-button",onClick:function(){d(!s)}},"add user...")),c.a.createElement("div",{className:"formContainer",style:{display:s?"block":"none"}},c.a.createElement(H,{closeForm:function(){return d(!1)},reloadUsers:function(){return i()}}))),c.a.createElement("h1",null,"Users"),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Username"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Created/Expires"),c.a.createElement("th",null,"Status"),c.a.createElement("th",null)),n.map((function(t){return c.a.createElement(A,{key:"usersrow"+t.id,user:t,handleUserDelete:function(){return function(t){var a=n.find((function(e){return e.id===t}));a?L(t).then((function(r){l(n.filter((function(e){return e.id!==t}))),e.showNotification("User ".concat(a.name," was deleted"),N.SUCCESS,3)})).catch((function(t){return e.showNotification(t.response.data.error,N.ERROR,5)})):e.showNotification("User does not exist",N.ERROR,5)}(t.id)}})})))))})),Z=function(e){return c.a.createElement("div",null,c.a.createElement("h1",null,"About this site"),c.a.createElement("p",null,"This single-page-app will show my CV information and also deliver a simple graphical UI for creating and modifying CV data."),c.a.createElement("p",null,"Almost everything in this site is crafted from scratch (all the way from user authentication to datePicker-components). To make things more simple I have added ready made libraries to help organize things. Biggest impact was done by Formik to make forms on the page to be a bit less painful."),c.a.createElement("p",null,"Please take a look of my source code in my ",c.a.createElement("a",{href:"https://github.com/rampemus/cvapp"},"github")),c.a.createElement("h3",null,"Version 0.2 - 2020/2/26"),c.a.createElement("p",null,"Fixed most of bugs away and bunch tests created for ",c.a.createElement("a",{href:"https://github.com/rampemus/cvapp/tree/master/backend"},"backend"),"."),c.a.createElement("h4",null,"Known issues"),c.a.createElement("ul",null,c.a.createElement("li",null,"Written values are only validated in backend, and no error handling"),c.a.createElement("li",null,"Static server stuff and other resources should be hidden behind login")),c.a.createElement("h3",null,"Version 0.1 - 2020/2/5"),c.a.createElement("p",null,"For now, some of the code is not yet nicely organized but things will get better. Other bigger changes will be that the tests will be implemented in the future for creating a automated pipeline. Many changes will be done for the deployment and for the backend. Therefore, I wish you visit my github for changes."))},B=(a(83),a(3));!function(e){e.CV="",e.CONTACT="/contact",e.PROFILE="/profile",e.EXPERIENCE="/experience",e.COMMUNICATION="/communication",e.INFO="/info",e.PROJECT="/project"}(k||(k={}));var K,X=function(e,t,a,n){var r=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"id"!==a&&"owner"!==a&&""!==n})));return C.a.post("/api/cv"+e,Object(B.a)({},r,{cv:{id:a,field:n||""}}),M()).then((function(e){return console.log("successful createObject response: ",e),e.data})).catch((function(e){console.log("create object error:",e.response.data.error)}))},q={createObject:X,modifyObject:function(e,t,a){var n=Object.fromEntries(Object.entries(a).filter((function(e){var t=Object(u.a)(e,2),a=t[0];t[1];return"id"!==a})));return C.a.put("/api/cv"+e,{changes:n,id:t},M()).then((function(e){return e.data})).catch((function(e){console.log("modify object error:",e.response.data.error)}))},deleteObject:function(e,t){var a=C.a.delete("/api/cv"+e+"/"+t,M());return console.log("delete /api/cv"+e+"/"+t),a.then((function(e){return e.data}))},getAllCV:function(){return C.a.get("/api/cv",M()).then((function(e){return e.data.map((function(e){return Object(B.a)({},e,{communication:e.communication?e.communication[0]:null,skills:e.skills?e.skills[0]:null,info:e.info?e.info[0]:null,attachments:e.attachments?e.attachments[0]:null,experience:e.experience.map((function(e){return Object(B.a)({},e,{timeFrame:{startDate:new Date(e.timeFrame.startDate),endDate:new Date(e.timeFrame.endDate)}})})),education:e.education.map((function(e){return Object(B.a)({},e,{timeFrame:{startDate:new Date(e.timeFrame.startDate),endDate:new Date(e.timeFrame.endDate)}})}))})}))}))},createEmptyCV:function(){return C.a.post("/api/cv"+k.CV,{name:"name-required",contact:{firstname:"firstname-required",lastname:"lastname-required"}},M()).then((function(e){return e.data}))},duplicateCV:function(e){var t={address:e.contact.address,company:e.contact.company,email:e.contact.email,firstname:e.contact.firstname,lastname:e.contact.lastname,phone:e.contact.phone,phoneAvailable:e.contact.phoneAvailable,pictureUrl:e.contact.pictureUrl},a=e.profile?{content:e.profile.content,name:e.profile.name+" duplicate"}:null,n=e.projects?e.projects.map((function(e){return{description:e.description,githubUrl:e.githubUrl,name:e.name+" duplicate",showcaseUrl:e.showcaseUrl,thumbnailUrl:e.thumbnailUrl}})):null,r=e.reference?e.reference.map((function(e){return{address:e.address,company:e.company,email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone,phoneAvailable:e.phoneAvailable,pictureUrl:e.pictureUrl}})):null,c=e.experience?e.experience.map((function(e){return{description:e.description,name:e.name+" duplicate",timeFrame:{startDate:e.timeFrame.startDate,endDate:e.timeFrame.endDate}}})):null,l=e.education?e.education.map((function(e){return{description:e.description,name:e.name+" duplicate",timeFrame:{startDate:e.timeFrame.startDate,endDate:e.timeFrame.endDate}}})):null,i=e.communication?{name:e.communication.name+"duplicate",content:e.communication.content,languages:e.communication.languages.map((function(e){return{language:e.language,level:e.level}}))}:null,o=e.skills?{name:e.skills.name+" duplicate",content:e.skills.content}:null,m=e.info?{name:e.info.name+" duplicate",content:e.info.content}:null,s=e.attachments?{name:e.attachments.name+" duplicate",content:e.attachments.content}:null,u={name:e.name,contact:t,github:e.github,techlist:e.techlist};return C.a.post("/api/cv"+k.CV,u,M()).then((function(e){var t;return D.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("succesful duplicate cv response",e),t=e.data.id,X(k.PROFILE,a,t,"profile"),n.map((function(e){return X(k.PROJECT,e,t,"projects")})),r.map((function(e){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D.a.awrap(X(k.CONTACT,e,t,"reference"));case 2:case"end":return a.stop()}}))})),c.map((function(e){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D.a.awrap(X(k.EXPERIENCE,e,t,"experience"));case 2:case"end":return a.stop()}}))})),l.map((function(e){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D.a.awrap(X(k.EXPERIENCE,e,t,"education"));case 2:case"end":return a.stop()}}))})),u.next=9,D.a.awrap(X(k.COMMUNICATION,i,t,"communication"));case 9:return u.next=11,D.a.awrap(X(k.INFO,o,t,"skills"));case 11:return u.next=13,D.a.awrap(X(k.INFO,s,t,"attachments"));case 13:return u.next=15,D.a.awrap(X(k.INFO,m,t,"info"));case 15:return u.abrupt("return",e.data);case 16:case"end":return u.stop()}}))}))},setCVDefault:function(e){var t={cvid:e};return C.a.post("/api/cv/default",t,M()).then((function(e){return e.data}))}},z=a(1),$=function(e){var t=e.isSubmitting;return c.a.createElement("button",{className:"form-delete-button form-button",type:"submit",onClick:e.handleDelete,disabled:t},"Delete")},Q=function(e){var t=e.isSubmitting,a=e.values,n=e.clearActionValues,r=e.setValues;return c.a.createElement("button",{className:"form-clear-button form-button",type:"submit",disabled:t,onClick:function(e){e.preventDefault(),r(Object(B.a)({},a,{},n))}},"Clear")},ee=function(e){var t=e.isSubmitting,a=e.setValues,n=e.formValues;return c.a.createElement("button",{className:"form-cancel-button form-button",type:"submit",disabled:t,onClick:function(e){e.preventDefault(),a(Object(B.a)({},n))}},"Cancel")},te=function(e){var t=e.isSubmitting;return c.a.createElement("button",{className:"form-save-button form-button",type:"submit",disabled:t},"Save")},ae={cvs:[{attachments:{content:["...","...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},communication:{content:["..."],languages:[{language:"...",level:"..."},{language:"...",level:"..."}],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},education:[{timeFrame:{endDate:new Date("2020-01-14T12:34:33.498Z"),startDate:new Date("2020-01-14T12:34:33.498Z")},description:"...",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."}],experience:[{timeFrame:{endDate:new Date("2020-01-14T12:34:33.498Z"),startDate:new Date("2020-01-14T12:34:33.498Z")},description:"...",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."}],info:{content:["...","..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},projects:[{description:"...",githubUrl:"",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},showcaseUrl:"...",thumbnailUrl:"",id:"..."}],reference:[],skills:{content:["..."],name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},id:"..."},contact:{address:"...",email:"...",firstname:"...",lastname:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},phone:"...",phoneAvailable:"...",company:"...",pictureUrl:"",id:"..."},github:"",name:"...",owner:{created:new Date("2020-01-13T13:18:58.111Z"),name:"...",username:"...",id:"..."},profile:{content:["...","..."],name:"...",owner:{created:new Date("..."),name:"...",username:"...",id:"..."},id:"..."},techlist:"...",id:"..."}],lastOpened:""},ne=function(){return function(e){var t;return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D.a.awrap(q.getAllCV());case 2:a.t0=a.sent,a.t1={cvs:a.t0},t={type:"UPDATE_CVS",data:a.t1},e(t);case 6:case"end":return a.stop()}}))}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CVS":return{cvs:t.data.cvs,lastOpened:t.data.cvs.includes((function(t){return t.id===e.lastOpened}))?e.lastOpened:""};case"SET_PREVIOUS_CV":return{cvs:e.cvs,lastOpened:t.data.id};case"ADD_EMPTY_OBJECT":var a=e.cvs.find((function(e){return e.id===t.data.id}));if(!a)return e;switch(t.data.field){case"experience":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){var t={description:"",name:"",owner:a.owner,timeFrame:{startDate:new Date,endDate:new Date},id:"temp"+Math.floor(1e5*Math.random()+1)};return e.id===a.id?Object(B.a)({},a,{experience:a.experience?a.experience.concat(t):new Array(t)}):e}))};case"education":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={description:"",name:"",owner:a.owner,timeFrame:{startDate:new Date,endDate:new Date},id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{education:a.education?a.education.concat(t):new Array(t)})}return e}))};case"reference":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,address:"",company:"",email:"",firstname:"",lastname:"",phone:"",phoneAvailable:"",pictureUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{reference:a.reference?a.reference.concat(t):new Array(t)})}return e}))};case"projects":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={description:"",githubUrl:"",name:"",owner:a.owner,showcaseUrl:"",thumbnailUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{projects:a.projects?a.projects.concat(t):new Array(t)})}return e}))};case"profile":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{profile:t})}return e}))};case"contact":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,address:"",company:"",email:"",firstname:"",lastname:"",phone:"",phoneAvailable:"",pictureUrl:"",id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{contact:t})}return e}))};case"communication":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],languages:[],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{communication:t})}return e}))};case"skills":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{skills:t})}return e}))};case"info":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{info:t})}return e}))};case"attachments":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){if(e.id===a.id){var t={owner:a.owner,name:"",content:[""],id:"temp"+Math.floor(1e5*Math.random()+1)};return Object(B.a)({},a,{attachments:t})}return e}))};default:return e}case"REMOVE_TEMP_OBJECT":var n=e.cvs.find((function(e){return e.id===t.data.id}));if(!n)return e;switch(t.data.field){case"experience":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{experience:n.experience?n.experience.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"education":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{education:n.education?n.education.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"reference":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{reference:n.reference?n.reference.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"projects":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{projects:n.projects?n.projects.filter((function(e){return e.id!==t.data.objectId})):[]}):e}))};case"profile":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{profile:void 0}):e}))};case"contact":return e;case"communication":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{communication:void 0}):e}))};case"skills":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{skills:void 0}):e}))};case"info":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{info:void 0}):e}))};case"attachments":return{lastOpened:e.lastOpened,cvs:e.cvs.map((function(e){return e.id===n.id?Object(B.a)({},n,{attachments:void 0}):e}))};default:return e}default:return e}},ce=function(e,t){for(var a=[],n=0;n<t-e;n++)a.push(e+n);return a},le=["January","February","March","April","May","June","July","August","September","October","November","December"],ie=function(e){var t=new Date(e.date),a=Object(r.useState)(t.getFullYear()),n=Object(u.a)(a,2),l=n[0],i=n[1],o=Object(r.useState)(t.getMonth()),m=Object(u.a)(o,2),s=m[0],d=m[1],p=Object(r.useState)(t.getDate()),f=Object(u.a)(p,2),v=f[0],E=f[1],h=Object(r.useState)(31),b=Object(u.a)(h,2),g=b[0],O=b[1];Object(r.useEffect)((function(){O(new Date(l,s+1,0).getDate())}),[l,s]);return c.a.createElement("div",null,c.a.createElement("select",{onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);i(a),e.handleChange(new Date(a,s,v))},value:l,className:"year-selector"},ce(2e3,2030).map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))),c.a.createElement("select",{onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);d(a),e.handleChange(new Date(l,a,v))},value:s,className:"month-selector"},ce(0,12).map((function(e){return c.a.createElement("option",{key:e,value:e},le[e])}))),c.a.createElement("select",{onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);E(a),e.handleChange(new Date(l,s,a))},value:v,className:"day-selector"},ce(1,g+1).map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))))};!function(e){e.Elementary="Elementary",e.EveryDay="Every day proficiency",e.Working="Working proficiency",e.Advanced="Advanced",e.Professional="Professional",e.Native="Native speaker"}(K||(K={}));var oe=[K.Elementary,K.EveryDay,K.Working,K.Advanced,K.Professional,K.Native],me=function(e){var t=Object(r.useState)(e.initLevel),a=Object(u.a)(t,2),n=a[0],l=a[1];Object(r.useEffect)((function(){l(e.initLevel)}),[e.initLevel]);return c.a.createElement("div",null,c.a.createElement("select",{onChange:function(t){t.preventDefault(),l(t.target.value),e.handleChange(t.target.value.toString())},value:n,className:"language-level-selector"},oe.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))))},se=function(e){return e.split("\n")},ue={updateCVs:ne,addEmptyCVObject:function(e,t){return{type:"ADD_EMPTY_OBJECT",data:{id:e,field:t}}},removeTempCVObject:function(e,t,a){return{type:"REMOVE_TEMP_OBJECT",data:{id:e,field:t,objectId:a}}}},de=Object(i.b)(null,ue)((function(e){var t=e.formValues?Object.fromEntries(Object.entries(e.formValues).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return[a,n||""]}))):null,a=e.serviceType,n=Object(f.e)(),r=e.field;if(!t||"experience"!==r&&"education"!==r){if(t&&"communication"===r){var l={name:"",languages:[{language:"",level:""}],content:[""]},i=t;return c.a.createElement(z.e,{initialValues:Object(B.a)({},i),onSubmit:function(c,l){var i=l.setSubmitting;if(c.id.includes("temp")){var o=n.pathname.substring("/myCV/".length);q.createObject(a,c,o,r).then((function(t){e.updateCVs(),i(!1)}))}else{var m=Object.fromEntries(Object.entries(c).filter((function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return t[n]!==r})));q.modifyObject(a,c.id,m).then((function(t){e.updateCVs(),i(!1)}))}}},(function(t){var o=t.values,m=t.isSubmitting,s=t.setValues;return c.a.createElement(z.d,{className:"form-component"},!1,c.a.createElement("div",{className:"form-label"},"Name"),c.a.createElement(z.b,{className:"form-input",placeholder:"Name",type:"text",name:"name",disabled:m}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Languages"),c.a.createElement(z.c,{name:"languages",render:function(){return c.a.createElement("div",{className:"language-panel",key:o.id+"languagepanel"},o.languages&&o.languages.map((function(e,t){return c.a.createElement("div",{className:"language-pair",key:t+"language-pair"},c.a.createElement(z.b,{className:"form-input",name:"languages.".concat(t,".language"),placeholder:"Language name"}),c.a.createElement(me,{initLevel:e.level,handleChange:function(t){var a=Object(B.a)({},o,{languages:o.languages.map((function(a){return a.language===e.language?{language:a.language,level:t}:a}))});s(a)}}),c.a.createElement("button",{className:"form-button",onClick:function(t){t.preventDefault();var a=Object(B.a)({},o,{languages:o.languages.filter((function(t){return t.language!==e.language}))});s(a)}},"delete"))})),c.a.createElement("button",{className:"add-language-button form-button",disabled:m,onClick:function(e){e.preventDefault();var t=Object(B.a)({},o,{languages:o.languages.concat({language:"",level:K.Elementary})});s(t)}},"add language"))}}),c.a.createElement("div",{className:"form-label"},"Content"),c.a.createElement(z.b,{className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content",disabled:m}),c.a.createElement(z.a,{name:"content",component:"div"}),c.a.createElement($,{isSubmitting:m,handleDelete:function(t){if(t.preventDefault(),o.id.includes("temp")){var c=n.pathname.substring("/myCV/".length);e.removeTempCVObject(c,r,o.id)}else q.deleteObject(a,o.id)}}),c.a.createElement(Q,{isSubmitting:m,values:o,clearActionValues:l,setValues:s}),c.a.createElement(ee,{isSubmitting:m,setValues:s,formValues:i}),c.a.createElement(te,{isSubmitting:m}))}))}if(t){var o=e.formValues?Object.fromEntries(Object.entries(e.formValues).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"id"===a?[a,n]:[a,""]}))):null;return c.a.createElement(z.e,{initialValues:Object.fromEntries(Object.entries(t).map((function(e){var t,a=Object(u.a)(e,2),n=a[0],r=a[1];return"content"===n?[n,(t=r,t.join("\n"))]:[n,r]}))),enableReinitialize:!0,onSubmit:function(c,l){var i=l.setSubmitting;if(c.id.includes("temp")){var o=n.pathname.substring("/myCV/".length),m=Object.fromEntries(Object.entries(c).filter((function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return t[n]!==r})).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"content"===a?[a,se(n)]:[a,n]})));q.createObject(a,m,o,r).then((function(t){e.updateCVs(),i(!1)}))}else{var s=Object.fromEntries(Object.entries(c).filter((function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return t[n]!==r})).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"content"===a?[a,se(n)]:[a,n]})));q.modifyObject(a,c.id,s).then((function(t){e.updateCVs(),i(!1)}))}},key:t.id+r},(function(l){var i=l.isSubmitting,m=l.values,s=l.setValues;return c.a.createElement(z.d,{className:"form-component"},!1,e.children,c.a.createElement($,{isSubmitting:i||"contact"===r||""===r,handleDelete:function(t){if(t.preventDefault(),m.id.includes("temp")){var c=n.pathname.substring("/myCV/".length);e.removeTempCVObject(c,r,m.id)}else q.deleteObject(a,m.id),e.updateCVs()}}),c.a.createElement(Q,{isSubmitting:i,values:m,clearActionValues:o,setValues:s}),c.a.createElement(ee,{isSubmitting:i,setValues:s,formValues:t}),c.a.createElement(te,{isSubmitting:i}))}))}return c.a.createElement("div",{className:"form-component-empty",key:e.field+"-empty",onClick:function(){var t=n.pathname.substring("/myCV/".length);e.addEmptyCVObject(t,r)}},c.a.createElement("img",{src:"plus.svg",width:"100px",height:"100px",alt:"add"}))}var m={description:"",name:"",timeFrame:{startDate:new Date,endDate:new Date}},s=t;return c.a.createElement(z.e,{initialValues:Object(B.a)({},s),onSubmit:function(c,l){var i=l.setSubmitting;if(c.id.includes("temp")){var o=n.pathname.substring("/myCV/".length);q.createObject(a,c,o,r).then((function(t){e.updateCVs(),i(!1)}))}else{var m=Object.fromEntries(Object.entries(c).filter((function(e){var a=Object(u.a)(e,2),n=a[0],r=a[1];return t[n]!==r})));q.modifyObject(a,c.id,m).then((function(t){e.updateCVs(),i(!1)}))}}},(function(t){var l=t.isSubmitting,i=t.values,o=t.setValues;return c.a.createElement(z.d,{className:"form-component"},!1,c.a.createElement("div",{className:"form-label"},"Name"),c.a.createElement(z.b,{className:"form-input",placeholder:"Name",type:"text",name:"name",disabled:l}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Time duration"),c.a.createElement("div",{className:"timeFrameContainer"},c.a.createElement("div",null,c.a.createElement(ie,{date:i.timeFrame.startDate,handleChange:function(e){o(Object(B.a)({},i,{timeFrame:{startDate:e,endDate:i.timeFrame.endDate}}))}})),c.a.createElement("div",{className:"time-divider"},"-"),c.a.createElement("div",null,c.a.createElement(ie,{date:i.timeFrame.endDate,handleChange:function(e){o(Object(B.a)({},i,{timeFrame:{startDate:i.timeFrame.startDate,endDate:e}}))}}))),c.a.createElement("div",{className:"form-label"},"Content"),c.a.createElement(z.b,{className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"description",disabled:l}),c.a.createElement(z.a,{name:"description",component:"div"}),c.a.createElement($,{isSubmitting:l,handleDelete:function(t){if(t.preventDefault(),i.id.includes("temp")){var c=n.pathname.substring("/myCV/".length);e.removeTempCVObject(c,r,i.id)}else q.deleteObject(a,i.id)}}),c.a.createElement(Q,{isSubmitting:l,values:i,clearActionValues:m,setValues:o}),c.a.createElement(ee,{isSubmitting:l,setValues:o,formValues:s}),c.a.createElement(te,{isSubmitting:l}))}))})),pe=function(e){var t,a,n=e.cv,r=function(e,t){return c.a.createElement(de,{formValues:{id:e.id,name:e.name,content:e.content},serviceType:k.INFO,field:t,key:e.id},c.a.createElement("div",{className:"form-label"},"Name"),c.a.createElement(z.b,{className:"form-input",placeholder:"Name",type:"text",name:"name"}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Content"),c.a.createElement(z.b,{className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content"}),c.a.createElement(z.a,{name:"content",component:"div"}))},l=function(e,t){return c.a.createElement(de,{formValues:{id:e.id,address:e.address,company:e.company,email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone,phoneAvailable:e.phoneAvailable,pictureUrl:e.pictureUrl},serviceType:k.CONTACT,field:t,key:e.id},c.a.createElement("div",{className:"form-label"},"Firstname"),c.a.createElement(z.b,{className:"form-input",placeholder:"Firstname",type:"text",name:"firstname"}),c.a.createElement(z.a,{name:"fistname",component:"div"}),c.a.createElement("div",{className:"form-label"},"Lastname"),c.a.createElement(z.b,{className:"form-input",placeholder:"LastName",type:"text",name:"lastname"}),c.a.createElement(z.a,{name:"lastname",component:"div"}),c.a.createElement("div",{className:"form-label"},"E-mail"),c.a.createElement(z.b,{className:"form-input",placeholder:"mailto@mail.com",type:"text",name:"email"}),c.a.createElement(z.a,{name:"email",component:"div"}),c.a.createElement("div",{className:"form-label"},"Phone"),c.a.createElement(z.b,{className:"form-input",placeholder:"+358000000000",type:"text",name:"phone"}),c.a.createElement(z.a,{name:"phone",component:"div"}),c.a.createElement("div",{className:"form-label"},"Available"),c.a.createElement(z.b,{className:"form-input",placeholder:"Available during 9 am -  4 pm",type:"text",name:"phoneAvailable"}),c.a.createElement(z.a,{name:"phoneAvailable",component:"div"}),c.a.createElement("div",{className:"form-label"},"Address"),c.a.createElement(z.b,{className:"form-input",placeholder:"Streetname 1 A 1, 00100 Cityname",type:"text",name:"address"}),c.a.createElement(z.a,{name:"address",component:"div"}),c.a.createElement("div",{className:"form-label"},"Company"),c.a.createElement(z.b,{className:"form-input",placeholder:"Company name",type:"text",name:"company"}),c.a.createElement(z.a,{name:"company",component:"div"}),c.a.createElement("div",{className:"form-label"},"Picture"),c.a.createElement(z.b,{className:"form-input",placeholder:"Picture Url",type:"text",name:"pictureUrl"}),c.a.createElement(z.a,{name:"pictureUrl",component:"div"}))},i=function(e,t){return c.a.createElement(de,{formValues:{id:e.id,description:e.description,name:e.name,timeFrame:e.timeFrame},serviceType:k.EXPERIENCE,field:t,key:e.id})};return n?c.a.createElement("div",{className:"cvFormContainer"},c.a.createElement("div",{className:"form-component-container"},c.a.createElement(de,{formValues:{id:n.id,name:n.name,github:n.github,techlist:n.techlist},serviceType:k.CV,field:""},c.a.createElement("div",{className:"form-label"},"Name"),c.a.createElement(z.b,{className:"form-input",placeholder:"CV name",type:"text",name:"name"}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Github"),c.a.createElement(z.b,{className:"form-input",placeholder:"Github url",type:"text",name:"github"}),c.a.createElement(z.a,{name:"github",component:"div"}),c.a.createElement("div",{className:"form-label"},"Techlist"),c.a.createElement(z.b,{className:"form-input",placeholder:"Java, CSS, Python, ...",type:"text",name:"techlist"}),c.a.createElement(z.a,{name:"techlist",component:"div"}))),c.a.createElement("h3",null,"Contact"),c.a.createElement("div",{className:"form-component-container"},l(n.contact,"contact")),c.a.createElement("h3",null,"Profile"),c.a.createElement("div",{className:"form-component-container"},n.profile?(t=n.profile,a="profile",c.a.createElement(de,{formValues:{id:t.id,name:t.name,content:t.content},serviceType:k.PROFILE,field:a,key:t.id},c.a.createElement("div",{className:"form-label"},"Name"),c.a.createElement(z.b,{className:"form-input",placeholder:"Name",type:"text",name:"name"}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Content"),c.a.createElement(z.b,{className:"form-textarea",placeholder:"Content",as:"textarea",type:"text",name:"content"}),c.a.createElement(z.a,{name:"content",component:"div"}))):c.a.createElement(de,{serviceType:k.PROFILE,field:"profile"})),c.a.createElement("h3",null,"Projects"),c.a.createElement("div",{className:"form-component-container"},n.projects&&n.projects.map((function(e){return function(e,t){return c.a.createElement(de,{formValues:{id:e.id,description:e.description,githubUrl:e.githubUrl,name:e.name,showcaseUrl:e.showcaseUrl,thumbnailUrl:e.thumbnailUrl},serviceType:k.PROJECT,field:t,key:e.id},c.a.createElement("div",{className:"form-label"},"Name"),c.a.createElement(z.b,{className:"form-input",placeholder:"Name",type:"text",name:"name"}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Description"),c.a.createElement(z.b,{className:"form-textarea",placeholder:"Description",as:"textarea",type:"text",name:"description"}),c.a.createElement(z.a,{name:"description",component:"div"}),c.a.createElement("div",{className:"form-label"},"Github"),c.a.createElement(z.b,{className:"form-input",placeholder:"Github url",type:"text",name:"githubUrl"}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Showcase"),c.a.createElement(z.b,{className:"form-input",placeholder:"Showcase url",type:"text",name:"showcaseUrl"}),c.a.createElement(z.a,{name:"name",component:"div"}),c.a.createElement("div",{className:"form-label"},"Thumbnail"),c.a.createElement(z.b,{className:"form-input",placeholder:"Thumbnail url",type:"text",name:"thumbnailUrl"}),c.a.createElement(z.a,{name:"name",component:"div"}))}(e,"projects")})),c.a.createElement(de,{serviceType:k.PROJECT,field:"projects"})),c.a.createElement("h3",null,"References"),c.a.createElement("div",{className:"form-component-container"},n.reference&&n.reference.map((function(e){return l(e,"reference")})),c.a.createElement(de,{serviceType:k.CONTACT,field:"reference"})),c.a.createElement("h3",null,"Work experience"),c.a.createElement("div",{className:"form-component-container"},n.experience&&n.experience.map((function(e){return i(e,"experience")})),c.a.createElement(de,{serviceType:k.EXPERIENCE,field:"experience"})),c.a.createElement("h3",null,"Education"),c.a.createElement("div",{className:"form-component-container"},n.education&&n.education.map((function(e){return i(e,"education")})),c.a.createElement(de,{serviceType:k.EXPERIENCE,field:"education"})),c.a.createElement("h3",null,"Communication"),c.a.createElement("div",{className:"form-component-container"},n.communication?function(e,t){return c.a.createElement(de,{formValues:{id:e.id,name:e.name,content:e.content,languages:e.languages},field:t,serviceType:k.COMMUNICATION,key:e.id})}(n.communication,"communication"):c.a.createElement(de,{serviceType:k.COMMUNICATION,field:"communication"})),c.a.createElement("h3",null,"Other skills"),c.a.createElement("div",{className:"form-component-container"},n.skills?r(n.skills,"skills"):c.a.createElement(de,{serviceType:k.INFO,field:"skills"})),c.a.createElement("h3",null,"Info"),c.a.createElement("div",{className:"form-component-container"},n.info?r(n.info,"info"):c.a.createElement(de,{serviceType:k.INFO,field:"info"})),c.a.createElement("h3",null,"Attachments"),c.a.createElement("div",{className:"form-component-container"},n.attachments?r(n.attachments,"attachments"):c.a.createElement(de,{serviceType:k.INFO,field:"attachments"}),!n.attachments&&c.a.createElement("p",{style:{height:"110px"}}))):c.a.createElement("div",null,"CV not found")},fe=(a(85),function(e){var t=e.startDate,a=e.endDate,n=a.valueOf()-t.valueOf();return n<2592e6?c.a.createElement("p",null,t.getFullYear(),"/",t.getMonth()+1,"/",t.getDate()+1," \u2013 ",a.getFullYear(),"/",a.getMonth()+1,"/",a.getDate()+1):n<31536e6?c.a.createElement("p",null,t.getFullYear(),"/",t.getMonth()+1," \u2013 ",a.getFullYear(),"/",a.getMonth()+1):c.a.createElement("p",null,t.getFullYear()," \u2013 ",a.getFullYear())}),ve=Object(i.b)((function(e,t){return{cv:e.cv.cvs[0]}}),null)((function(e){var t=e.preview||e.cv;if(!t)return c.a.createElement("div",null,"No default cv");var a=t.contact,n=t.reference,r=t.experience,l=t.education,i=t.communication;return c.a.createElement("div",{className:"cv-container"},c.a.createElement("div",{className:"cv-container-item contact-container"},c.a.createElement("div",null,c.a.createElement("p",null,a.firstname," ",a.lastname),c.a.createElement("p",null,a.address),c.a.createElement("p",null,"Phone num. ",a.phone),c.a.createElement("p",null,a.email)),c.a.createElement("div",null,c.a.createElement("img",{src:a.pictureUrl,width:"120px",alt:"mypicture"}))),c.a.createElement("h1",null,"Curriculum Vitae"),c.a.createElement("div",{className:"cv-container-item cv-container-item-first"},t.github&&c.a.createElement("p",null,"Github: ",c.a.createElement("a",{href:t.github},t.github)),t.techlist&&c.a.createElement("p",null,t.techlist)),t.profile&&c.a.createElement("div",{className:"cv-container-item cv-container-item-left"},c.a.createElement("h3",null,c.a.createElement("img",{src:"profile.svg",width:"45px",height:"45px",alt:"profileimage"}),"Profile"),c.a.createElement("hr",null),t.profile.content.map((function(e,t){return c.a.createElement("p",{key:"profile-p-".concat(t)},e)}))),t.projects&&t.projects.length>0&&c.a.createElement("div",{className:"cv-container-item cv-container-item-right"},c.a.createElement("h3",null,c.a.createElement("img",{src:"project.svg",width:"50px",height:"45px",alt:"icon"}),"Projects"),c.a.createElement("hr",null),t.projects.map((function(e,t){return c.a.createElement("div",{className:"project-card",key:t+"project"},c.a.createElement("div",{style:{width:"140px",marginRight:"10px"}},c.a.createElement("img",{src:e.thumbnailUrl,width:"100%",alt:"mypicture"})),c.a.createElement("div",null,c.a.createElement("h4",null,e.name),c.a.createElement("p",null,e.description),c.a.createElement("p",{className:"project-card-links"},c.a.createElement("a",{href:e.githubUrl},"github")," - ",c.a.createElement("a",{href:e.showcaseUrl},"showcase"))))}))),n&&n.length>0&&c.a.createElement("div",{className:"cv-container-item"},c.a.createElement("h3",null,c.a.createElement("img",{src:"reference.svg",width:"45px",height:"45px",alt:"icon"}),"References"),c.a.createElement("hr",null),c.a.createElement("div",{className:"key-value-container"},n.map((function(e,t){return[c.a.createElement("div",{className:"key-value-container-left",key:t+"-reference-left"},c.a.createElement("p",null,e.firstname," ",e.lastname," ",e.company&&"- "+e.company)),c.a.createElement("div",{className:"key-value-container-right",key:t+"-reference-right"},c.a.createElement("p",null,"Phone num. ",e.phone," (",e.phoneAvailable,")"),c.a.createElement("p",null,e.email))]})))),r&&r.length>0&&c.a.createElement("div",{className:"cv-container-item"},c.a.createElement("h3",null,c.a.createElement("img",{src:"work.svg",width:"45px",height:"45px",alt:"icon"}),"Work Experience"),c.a.createElement("hr",null),c.a.createElement("div",{className:"key-value-container"},r.sort((function(e,t){return t.timeFrame.endDate.getTime()-e.timeFrame.endDate.getTime()})).map((function(e,t){return[c.a.createElement("div",{className:"key-value-container-left",key:t+"-experience-left"},fe(e.timeFrame)),c.a.createElement("div",{className:"key-value-container-right",key:t+"-experience-right"},c.a.createElement("p",null,e.description))]})))),l&&l.length>0&&c.a.createElement("div",{className:"cv-container-item"},c.a.createElement("h3",null,c.a.createElement("img",{src:"education.svg",width:"45px",height:"45px",alt:"icon"}),"Education"),c.a.createElement("hr",null),c.a.createElement("div",{className:"key-value-container"},l.sort((function(e,t){return t.timeFrame.endDate.getTime()-e.timeFrame.endDate.getTime()})).map((function(e,t){return[c.a.createElement("div",{className:"key-value-container-left",key:t+"-education-left"},fe(e.timeFrame)),c.a.createElement("div",{className:"key-value-container-right",key:t+"-education-right"},c.a.createElement("p",null,e.description))]})))),i&&c.a.createElement("div",{className:"cv-container-item"},c.a.createElement("h3",null,c.a.createElement("img",{src:"communication.svg",width:"45px",height:"45px",alt:"icon"}),"Communication"),c.a.createElement("hr",null),c.a.createElement("div",{className:"language-container"},i.languages.map((function(e,t){return c.a.createElement("div",{key:t+"language-container"},c.a.createElement("p",null,e.language),c.a.createElement("p",null,":"),c.a.createElement("p",null,e.level))}))),i&&i.content.map((function(e,t){return c.a.createElement("p",{key:t+"skill"},e)}))),t.skills&&c.a.createElement("div",{className:"cv-container-item"},c.a.createElement("h3",null,c.a.createElement("img",{src:"skills.svg",width:"45px",height:"45px",alt:"icon"}),"Other Skills"),c.a.createElement("hr",null),t.skills.content.map((function(e,t){return c.a.createElement("p",{key:t+"skill"},e)}))),t.attachments&&c.a.createElement("div",{className:"cv-container-item"},c.a.createElement("h3",null,c.a.createElement("img",{src:"attachment.svg",width:"45px",height:"45px",alt:"icon"}),"Attachments"),c.a.createElement("hr",null),t.attachments.content.map((function(e,t){return c.a.createElement("p",{key:t+"attachment"},e)}))))})),Ee={updateCVs:ne,setPreviousCV:function(e){return{type:"SET_PREVIOUS_CV",data:{id:e}}},showNotification:V},he=Object(i.b)((function(e,t){return{user:e.user,cvs:e.cv.cvs}}),Ee)((function(e){var t=!Object(f.e)().pathname.includes("/mycv/"),a=e.cvs?e.cvs:[];console.log(a);return console.log(e.cvs),c.a.createElement("div",null,c.a.createElement(f.a,{exact:!0,path:"/preview/:id",render:function(t){var a,n=t.match;return c.a.createElement("div",null,c.a.createElement(W,null,c.a.createElement("div",null,c.a.createElement(v.b,{to:"/mycv/".concat(n.params.id)},c.a.createElement("button",{className:"toolbar-button"},"Return to editor")))),c.a.createElement(ve,{preview:null===(a=e.cvs)||void 0===a?void 0:a.find((function(e){return e.id+""===n.params.id}))}))}}),c.a.createElement(f.a,{path:"/mycv",render:function(n){var r;n.match;return c.a.createElement("div",null,c.a.createElement(W,null,c.a.createElement("div",null,c.a.createElement("button",{className:"toolbar-button",disabled:t},"Clear CV"),c.a.createElement("button",{className:"toolbar-button",onClick:function(t){t.preventDefault(),a[0]&&q.duplicateCV(a[0]).then((function(t){e.updateCVs()}))}},"Duplicate Default"),c.a.createElement(f.a,{exact:!0,path:"/mycv/:id",render:function(a){var n=a.match;return[c.a.createElement("button",{className:"toolbar-button",disabled:t,onClick:function(t){t.preventDefault(),q.setCVDefault(n.params.id).then((function(t){e.updateCVs()})).catch((function(t){t.response.data.error&&e.showNotification(t.response.data.error,N.ERROR,5)}))}},"Set As Default CV"),c.a.createElement(v.b,{to:"/preview/".concat(n.params.id)},c.a.createElement("button",{className:"toolbar-button"},"Preview"))]}}),c.a.createElement(f.a,{exact:!0,path:"/mycv",render:function(e){e.match;return[c.a.createElement("button",{className:"toolbar-button",disabled:!0}," Set As Default CV"),c.a.createElement("button",{className:"toolbar-button",disabled:!0},"Preview")]}}))),c.a.createElement("h1",null,"My CV's"),c.a.createElement("div",{className:"cv-selector"},a.map((function(t){return c.a.createElement("div",{className:"cv-item",key:t.id},c.a.createElement(v.b,{to:"/mycv/".concat(t.id),onClick:function(){e.setPreviousCV(t.id)}},c.a.createElement("img",{src:"emptycv.svg",width:"150px",height:"180px",alt:"document"}),c.a.createElement("div",{style:{zIndex:1}},t.name,Object.entries(t).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return n?c.a.createElement("p",{key:a},a+": "+n):""})))),c.a.createElement("button",{onClick:function(a){a.preventDefault(),q.deleteObject(k.CV,t.id).then((function(t){e.updateCVs()}))}},"Delete"))})),c.a.createElement("img",{src:"emptycvplus.svg",width:"150px",height:"180px",alt:"document",onClick:function(t){t.preventDefault(),q.createEmptyCV().then((function(t){e.updateCVs()}))}})),(r=a,c.a.createElement(f.a,{exact:!0,path:"/mycv/:id",render:function(e){var t=e.match;return c.a.createElement(pe,{cv:r.find((function(e){return e.id===t.params.id}))})}})))}}))})),be=(a(86),function(e){var t=e.message,a=Object(r.useState)(!1),n=Object(u.a)(a,2),l=n[0],i=n[1];return c.a.createElement("div",{key:t.id,className:"notification ".concat(t.type),onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},c.a.createElement("div",{className:"notification-text"},t.text),c.a.createElement("button",{className:"notification-close-button",onClick:function(){return e.deleteNotification()},style:{opacity:l?1:0}},"X"))}),ge={deleteNotification:function(e){return{type:"DELETE_NOTIFICATION",id:e,data:[]}}},Oe=Object(i.b)((function(e,t){return{visible:e.notification.visible,messages:e.notification.messages}}),ge)((function(e){var t=e.visible,a=e.messages;return a?c.a.createElement("div",{className:"notificationContainer",style:{opacity:t?1:0}},a.map((function(t){return c.a.createElement(be,{key:t.id,message:t,deleteNotification:function(){return e.deleteNotification(t.id)}})}))):c.a.createElement("div",{className:"notificationContainer"})})),Ne={updateCVs:ne},ye=Object(i.b)((function(e,t){return{user:e.user}}),Ne)((function(e){var t=e.user,a=t&&t.token.length>2,n=Object(r.useState)(800),l=Object(u.a)(n,2),i=l[0],o=l[1];Object(r.useEffect)((function(){var t=document.getElementById("content");t&&o(t.clientHeight),e.user&&e.user.token.length>0&&e.updateCVs()}),[]);return c.a.createElement("div",{className:"App",id:"App"},c.a.createElement(v.a,null,c.a.createElement(O,{showRoutes:!a}),c.a.createElement(p,{height:i}),a?c.a.createElement("div",{className:"content"},c.a.createElement(f.a,{exact:!0,path:"/"},c.a.createElement(ve,null)),c.a.createElement(f.a,{path:"/users"},c.a.createElement(Y,null)),c.a.createElement(f.a,{path:"/mycv"},c.a.createElement(he,null)),c.a.createElement(f.a,{path:"/preview"},c.a.createElement(he,null)),c.a.createElement(f.a,{exact:!0,path:"/about"},c.a.createElement(Z,null))):c.a.createElement("div",{className:"content"},c.a.createElement(R,null)),c.a.createElement(Oe,null),c.a.createElement(F,null),c.a.createElement(p,{height:i,bottom:!0})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=a(47);a.d(t,"rootReducer",(function(){return Ce}));var Ce=Object(l.combineReducers)({notification:U,user:b,cv:re}),je=Object(l.createStore)(Ce,Object(o.composeWithDevTools)(Object(l.applyMiddleware)(we.a))),xe=function(){s.a.render(c.a.createElement(i.a,{store:je},c.a.createElement(ye,null)),document.getElementById("root"))};xe(),je.subscribe(xe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.067ffd9a.chunk.js.map